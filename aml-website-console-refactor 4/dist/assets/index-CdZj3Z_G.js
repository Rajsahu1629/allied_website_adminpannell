var gL=Object.defineProperty;var CA=r=>{throw TypeError(r)};var yL=(r,e,t)=>e in r?gL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Me=(r,e,t)=>yL(r,typeof e!="symbol"?e+"":e,t),mb=(r,e,t)=>e.has(r)||CA("Cannot "+t);var g=(r,e,t)=>(mb(r,e,"read from private field"),t?t.call(r):e.get(r)),H=(r,e,t)=>e.has(r)?CA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),U=(r,e,t,n)=>(mb(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),W=(r,e,t)=>(mb(r,e,"access private method"),t);var ur=(r,e,t,n)=>({set _(s){U(r,e,s,t)},get _(){return g(r,e,n)}});function xL(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ON(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gb={exports:{}},af={},yb={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function vL(){if(TA)return ct;TA=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function w(I,q,Y){this.props=I,this.context=q,this.refs=b,this.updater=Y||y}w.prototype.isReactComponent={},w.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=w.prototype;function j(I,q,Y){this.props=I,this.context=q,this.refs=b,this.updater=Y||y}var E=j.prototype=new N;E.constructor=j,v(E,w.prototype),E.isPureReactComponent=!0;var S=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(I,q,Y){var le,te={},V=null,ie=null;if(q!=null)for(le in q.ref!==void 0&&(ie=q.ref),q.key!==void 0&&(V=""+q.key),q)A.call(q,le)&&!k.hasOwnProperty(le)&&(te[le]=q[le]);var ue=arguments.length-2;if(ue===1)te.children=Y;else if(1<ue){for(var me=Array(ue),ge=0;ge<ue;ge++)me[ge]=arguments[ge+2];te.children=me}if(I&&I.defaultProps)for(le in ue=I.defaultProps,ue)te[le]===void 0&&(te[le]=ue[le]);return{$$typeof:r,type:I,key:V,ref:ie,props:te,_owner:T.current}}function D(I,q){return{$$typeof:r,type:I.type,key:q,ref:I.ref,props:I.props,_owner:I._owner}}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function R(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Y){return q[Y]})}var F=/\/+/g;function $(I,q){return typeof I=="object"&&I!==null&&I.key!=null?R(""+I.key):q.toString(36)}function z(I,q,Y,le,te){var V=typeof I;(V==="undefined"||V==="boolean")&&(I=null);var ie=!1;if(I===null)ie=!0;else switch(V){case"string":case"number":ie=!0;break;case"object":switch(I.$$typeof){case r:case e:ie=!0}}if(ie)return ie=I,te=te(ie),I=le===""?"."+$(ie,0):le,S(te)?(Y="",I!=null&&(Y=I.replace(F,"$&/")+"/"),z(te,q,Y,"",function(ge){return ge})):te!=null&&(O(te)&&(te=D(te,Y+(!te.key||ie&&ie.key===te.key?"":(""+te.key).replace(F,"$&/")+"/")+I)),q.push(te)),1;if(ie=0,le=le===""?".":le+":",S(I))for(var ue=0;ue<I.length;ue++){V=I[ue];var me=le+$(V,ue);ie+=z(V,q,Y,me,te)}else if(me=m(I),typeof me=="function")for(I=me.call(I),ue=0;!(V=I.next()).done;)V=V.value,me=le+$(V,ue++),ie+=z(V,q,Y,me,te);else if(V==="object")throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ie}function Z(I,q,Y){if(I==null)return I;var le=[],te=0;return z(I,le,"","",function(V){return q.call(Y,V,te++)}),le}function se(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(Y){(I._status===0||I._status===-1)&&(I._status=1,I._result=Y)},function(Y){(I._status===0||I._status===-1)&&(I._status=2,I._result=Y)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var Q={current:null},oe={transition:null},ne={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:oe,ReactCurrentOwner:T};function X(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:Z,forEach:function(I,q,Y){Z(I,function(){q.apply(this,arguments)},Y)},count:function(I){var q=0;return Z(I,function(){q++}),q},toArray:function(I){return Z(I,function(q){return q})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ct.Component=w,ct.Fragment=t,ct.Profiler=s,ct.PureComponent=j,ct.StrictMode=n,ct.Suspense=d,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ct.act=X,ct.cloneElement=function(I,q,Y){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var le=v({},I.props),te=I.key,V=I.ref,ie=I._owner;if(q!=null){if(q.ref!==void 0&&(V=q.ref,ie=T.current),q.key!==void 0&&(te=""+q.key),I.type&&I.type.defaultProps)var ue=I.type.defaultProps;for(me in q)A.call(q,me)&&!k.hasOwnProperty(me)&&(le[me]=q[me]===void 0&&ue!==void 0?ue[me]:q[me])}var me=arguments.length-2;if(me===1)le.children=Y;else if(1<me){ue=Array(me);for(var ge=0;ge<me;ge++)ue[ge]=arguments[ge+2];le.children=ue}return{$$typeof:r,type:I.type,key:te,ref:V,props:le,_owner:ie}},ct.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:i,_context:I},I.Consumer=I},ct.createElement=P,ct.createFactory=function(I){var q=P.bind(null,I);return q.type=I,q},ct.createRef=function(){return{current:null}},ct.forwardRef=function(I){return{$$typeof:c,render:I}},ct.isValidElement=O,ct.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:se}},ct.memo=function(I,q){return{$$typeof:f,type:I,compare:q===void 0?null:q}},ct.startTransition=function(I){var q=oe.transition;oe.transition={};try{I()}finally{oe.transition=q}},ct.unstable_act=X,ct.useCallback=function(I,q){return Q.current.useCallback(I,q)},ct.useContext=function(I){return Q.current.useContext(I)},ct.useDebugValue=function(){},ct.useDeferredValue=function(I){return Q.current.useDeferredValue(I)},ct.useEffect=function(I,q){return Q.current.useEffect(I,q)},ct.useId=function(){return Q.current.useId()},ct.useImperativeHandle=function(I,q,Y){return Q.current.useImperativeHandle(I,q,Y)},ct.useInsertionEffect=function(I,q){return Q.current.useInsertionEffect(I,q)},ct.useLayoutEffect=function(I,q){return Q.current.useLayoutEffect(I,q)},ct.useMemo=function(I,q){return Q.current.useMemo(I,q)},ct.useReducer=function(I,q,Y){return Q.current.useReducer(I,q,Y)},ct.useRef=function(I){return Q.current.useRef(I)},ct.useState=function(I){return Q.current.useState(I)},ct.useSyncExternalStore=function(I,q,Y){return Q.current.useSyncExternalStore(I,q,Y)},ct.useTransition=function(){return Q.current.useTransition()},ct.version="18.3.1",ct}var PA;function Jy(){return PA||(PA=1,yb.exports=vL()),yb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function bL(){if(OA)return af;OA=1;var r=Jy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var h,p={},m=null,y=null;f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)n.call(d,h)&&!i.hasOwnProperty(h)&&(p[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:e,type:c,key:m,ref:y,props:p,_owner:s.current}}return af.Fragment=t,af.jsx=a,af.jsxs=a,af}var RA;function wL(){return RA||(RA=1,gb.exports=bL()),gb.exports}var o=wL(),L=Jy();const Kt=ON(L),NL=xL({__proto__:null,default:Kt},[L]);var a0={},xb={exports:{}},kr={},vb={exports:{}},bb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function SL(){return MA||(MA=1,function(r){function e(oe,ne){var X=oe.length;oe.push(ne);e:for(;0<X;){var I=X-1>>>1,q=oe[I];if(0<s(q,ne))oe[I]=ne,oe[X]=q,X=I;else break e}}function t(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var ne=oe[0],X=oe.pop();if(X!==ne){oe[0]=X;e:for(var I=0,q=oe.length,Y=q>>>1;I<Y;){var le=2*(I+1)-1,te=oe[le],V=le+1,ie=oe[V];if(0>s(te,X))V<q&&0>s(ie,te)?(oe[I]=ie,oe[V]=X,I=V):(oe[I]=te,oe[le]=X,I=le);else if(V<q&&0>s(ie,X))oe[I]=ie,oe[V]=X,I=V;else break e}}return ne}function s(oe,ne){var X=oe.sortIndex-ne.sortIndex;return X!==0?X:oe.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var d=[],f=[],h=1,p=null,m=3,y=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(oe){for(var ne=t(f);ne!==null;){if(ne.callback===null)n(f);else if(ne.startTime<=oe)n(f),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(f)}}function S(oe){if(b=!1,E(oe),!v)if(t(d)!==null)v=!0,se(A);else{var ne=t(f);ne!==null&&Q(S,ne.startTime-oe)}}function A(oe,ne){v=!1,b&&(b=!1,N(P),P=-1),y=!0;var X=m;try{for(E(ne),p=t(d);p!==null&&(!(p.expirationTime>ne)||oe&&!R());){var I=p.callback;if(typeof I=="function"){p.callback=null,m=p.priorityLevel;var q=I(p.expirationTime<=ne);ne=r.unstable_now(),typeof q=="function"?p.callback=q:p===t(d)&&n(d),E(ne)}else n(d);p=t(d)}if(p!==null)var Y=!0;else{var le=t(f);le!==null&&Q(S,le.startTime-ne),Y=!1}return Y}finally{p=null,m=X,y=!1}}var T=!1,k=null,P=-1,D=5,O=-1;function R(){return!(r.unstable_now()-O<D)}function F(){if(k!==null){var oe=r.unstable_now();O=oe;var ne=!0;try{ne=k(!0,oe)}finally{ne?$():(T=!1,k=null)}}else T=!1}var $;if(typeof j=="function")$=function(){j(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Z=z.port2;z.port1.onmessage=F,$=function(){Z.postMessage(null)}}else $=function(){w(F,0)};function se(oe){k=oe,T||(T=!0,$())}function Q(oe,ne){P=w(function(){oe(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){v||y||(v=!0,se(A))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(oe){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var X=m;m=ne;try{return oe()}finally{m=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,ne){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var X=m;m=oe;try{return ne()}finally{m=X}},r.unstable_scheduleCallback=function(oe,ne,X){var I=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?I+X:I):X=I,oe){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,oe={id:h++,callback:ne,priorityLevel:oe,startTime:X,expirationTime:q,sortIndex:-1},X>I?(oe.sortIndex=X,e(f,oe),t(d)===null&&oe===t(f)&&(b?(N(P),P=-1):b=!0,Q(S,X-I))):(oe.sortIndex=q,e(d,oe),v||y||(v=!0,se(A))),oe},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(oe){var ne=m;return function(){var X=m;m=ne;try{return oe.apply(this,arguments)}finally{m=X}}}}(bb)),bb}var LA;function jL(){return LA||(LA=1,vb.exports=SL()),vb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function _L(){if(IA)return kr;IA=1;var r=Jy(),e=jL();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,u){a(l,u),a(l+"Capture",u)}function a(l,u){for(s[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(l){return d.call(p,l)?!0:d.call(h,l)?!1:f.test(l)?p[l]=!0:(h[l]=!0,!1)}function y(l,u,x,_){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function v(l,u,x,_){if(u===null||typeof u>"u"||y(l,u,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(l,u,x,_,C,M,G){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=C,this.mustUseProperty=x,this.propertyName=l,this.type=u,this.sanitizeURL=M,this.removeEmptyString=G}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new b(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(N,j);w[u]=new b(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(N,j);w[u]=new b(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(N,j);w[u]=new b(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,u,x,_){var C=w.hasOwnProperty(u)?w[u]:null;(C!==null?C.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,x,C,_)&&(x=null),_||C===null?m(u)&&(x===null?l.removeAttribute(u):l.setAttribute(u,""+x)):C.mustUseProperty?l[C.propertyName]=x===null?C.type===3?!1:"":x:(u=C.attributeName,_=C.attributeNamespace,x===null?l.removeAttribute(u):(C=C.type,x=C===3||C===4&&x===!0?"":""+x,_?l.setAttributeNS(_,u,x):l.setAttribute(u,x))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ne(l){return l===null||typeof l!="object"?null:(l=oe&&l[oe]||l["@@iterator"],typeof l=="function"?l:null)}var X=Object.assign,I;function q(l){if(I===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);I=u&&u[1]||""}return`
`+I+l}var Y=!1;function le(l,u){if(!l||Y)return"";Y=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ne){var _=Ne}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ne){_=Ne}l.call(u.prototype)}else{try{throw Error()}catch(Ne){_=Ne}l()}}catch(Ne){if(Ne&&_&&typeof Ne.stack=="string"){for(var C=Ne.stack.split(`
`),M=_.stack.split(`
`),G=C.length-1,ce=M.length-1;1<=G&&0<=ce&&C[G]!==M[ce];)ce--;for(;1<=G&&0<=ce;G--,ce--)if(C[G]!==M[ce]){if(G!==1||ce!==1)do if(G--,ce--,0>ce||C[G]!==M[ce]){var he=`
`+C[G].replace(" at new "," at ");return l.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",l.displayName)),he}while(1<=G&&0<=ce);break}}}finally{Y=!1,Error.prepareStackTrace=x}return(l=l?l.displayName||l.name:"")?q(l):""}function te(l){switch(l.tag){case 5:return q(l.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return l=le(l.type,!1),l;case 11:return l=le(l.type.render,!1),l;case 1:return l=le(l.type,!0),l;default:return""}}function V(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case k:return"Fragment";case T:return"Portal";case D:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case R:return(l.displayName||"Context")+".Consumer";case O:return(l._context.displayName||"Context")+".Provider";case F:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return u=l.displayName||null,u!==null?u:V(l.type)||"Memo";case se:u=l._payload,l=l._init;try{return V(l(u))}catch{}}return null}function ie(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ue(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function me(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ge(l){var u=me(l)?"checked":"value",x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),_=""+l[u];if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var C=x.get,M=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return C.call(this)},set:function(G){_=""+G,M.call(this,G)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(G){_=""+G},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ae(l){l._valueTracker||(l._valueTracker=ge(l))}function Pe(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var x=u.getValue(),_="";return l&&(_=me(l)?l.checked?"true":"false":l.value),l=_,l!==x?(u.setValue(l),!0):!1}function ve(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function de(l,u){var x=u.checked;return X({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??l._wrapperState.initialChecked})}function _e(l,u){var x=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;x=ue(u.value!=null?u.value:x),l._wrapperState={initialChecked:_,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Oe(l,u){u=u.checked,u!=null&&E(l,"checked",u,!1)}function Be(l,u){Oe(l,u);var x=ue(u.value),_=u.type;if(x!=null)_==="number"?(x===0&&l.value===""||l.value!=x)&&(l.value=""+x):l.value!==""+x&&(l.value=""+x);else if(_==="submit"||_==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Se(l,u.type,x):u.hasOwnProperty("defaultValue")&&Se(l,u.type,ue(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function we(l,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,x||u===l.value||(l.value=u),l.defaultValue=u}x=l.name,x!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,x!==""&&(l.name=x)}function Se(l,u,x){(u!=="number"||ve(l.ownerDocument)!==l)&&(x==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+x&&(l.defaultValue=""+x))}var K=Array.isArray;function ee(l,u,x,_){if(l=l.options,u){u={};for(var C=0;C<x.length;C++)u["$"+x[C]]=!0;for(x=0;x<l.length;x++)C=u.hasOwnProperty("$"+l[x].value),l[x].selected!==C&&(l[x].selected=C),C&&_&&(l[x].defaultSelected=!0)}else{for(x=""+ue(x),u=null,C=0;C<l.length;C++){if(l[C].value===x){l[C].selected=!0,_&&(l[C].defaultSelected=!0);return}u!==null||l[C].disabled||(u=l[C])}u!==null&&(u.selected=!0)}}function re(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function B(l,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(t(92));if(K(x)){if(1<x.length)throw Error(t(93));x=x[0]}u=x}u==null&&(u=""),x=u}l._wrapperState={initialValue:ue(x)}}function J(l,u){var x=ue(u.value),_=ue(u.defaultValue);x!=null&&(x=""+x,x!==l.value&&(l.value=x),u.defaultValue==null&&l.defaultValue!==x&&(l.defaultValue=x)),_!=null&&(l.defaultValue=""+_)}function ae(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function xe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?xe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var De,lt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,_,C){MSApp.execUnsafeLocalFunction(function(){return l(u,x,_,C)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=De.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function ft(l,u){if(u){var x=l.firstChild;if(x&&x===l.lastChild&&x.nodeType===3){x.nodeValue=u;return}}l.textContent=u}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(l){kx.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),Vt[u]=Vt[l]})});function hu(l,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||Vt.hasOwnProperty(l)&&Vt[l]?(""+u).trim():u+"px"}function fu(l,u){l=l.style;for(var x in u)if(u.hasOwnProperty(x)){var _=x.indexOf("--")===0,C=hu(x,u[x],_);x==="float"&&(x="cssFloat"),_?l.setProperty(x,C):l[x]=C}}var Cx=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(l,u){if(u){if(Cx[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Nh(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function Tx(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Px=null,gu=null,yu=null;function WS(l){if(l=zh(l)){if(typeof Px!="function")throw Error(t(280));var u=l.stateNode;u&&(u=bg(u),Px(l.stateNode,l.type,u))}}function GS(l){gu?yu?yu.push(l):yu=[l]:gu=l}function KS(){if(gu){var l=gu,u=yu;if(yu=gu=null,WS(l),u)for(l=0;l<u.length;l++)WS(u[l])}}function XS(l,u){return l(u)}function YS(){}var Ox=!1;function QS(l,u,x){if(Ox)return l(u,x);Ox=!0;try{return XS(l,u,x)}finally{Ox=!1,(gu!==null||yu!==null)&&(YS(),KS())}}function Sh(l,u){var x=l.stateNode;if(x===null)return null;var _=bg(x);if(_===null)return null;x=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(l=l.type,_=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!_;break e;default:l=!1}if(l)return null;if(x&&typeof x!="function")throw Error(t(231,u,typeof x));return x}var Rx=!1;if(c)try{var jh={};Object.defineProperty(jh,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{Rx=!1}function NR(l,u,x,_,C,M,G,ce,he){var Ne=Array.prototype.slice.call(arguments,3);try{u.apply(x,Ne)}catch(Ce){this.onError(Ce)}}var _h=!1,Zm=null,Jm=!1,Mx=null,SR={onError:function(l){_h=!0,Zm=l}};function jR(l,u,x,_,C,M,G,ce,he){_h=!1,Zm=null,NR.apply(SR,arguments)}function _R(l,u,x,_,C,M,G,ce,he){if(jR.apply(this,arguments),_h){if(_h){var Ne=Zm;_h=!1,Zm=null}else throw Error(t(198));Jm||(Jm=!0,Mx=Ne)}}function gl(l){var u=l,x=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(x=u.return),l=u.return;while(l)}return u.tag===3?x:null}function ZS(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function JS(l){if(gl(l)!==l)throw Error(t(188))}function AR(l){var u=l.alternate;if(!u){if(u=gl(l),u===null)throw Error(t(188));return u!==l?null:l}for(var x=l,_=u;;){var C=x.return;if(C===null)break;var M=C.alternate;if(M===null){if(_=C.return,_!==null){x=_;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===x)return JS(C),l;if(M===_)return JS(C),u;M=M.sibling}throw Error(t(188))}if(x.return!==_.return)x=C,_=M;else{for(var G=!1,ce=C.child;ce;){if(ce===x){G=!0,x=C,_=M;break}if(ce===_){G=!0,_=C,x=M;break}ce=ce.sibling}if(!G){for(ce=M.child;ce;){if(ce===x){G=!0,x=M,_=C;break}if(ce===_){G=!0,_=M,x=C;break}ce=ce.sibling}if(!G)throw Error(t(189))}}if(x.alternate!==_)throw Error(t(190))}if(x.tag!==3)throw Error(t(188));return x.stateNode.current===x?l:u}function ej(l){return l=AR(l),l!==null?tj(l):null}function tj(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=tj(l);if(u!==null)return u;l=l.sibling}return null}var nj=e.unstable_scheduleCallback,rj=e.unstable_cancelCallback,ER=e.unstable_shouldYield,kR=e.unstable_requestPaint,nn=e.unstable_now,CR=e.unstable_getCurrentPriorityLevel,Lx=e.unstable_ImmediatePriority,sj=e.unstable_UserBlockingPriority,eg=e.unstable_NormalPriority,TR=e.unstable_LowPriority,ij=e.unstable_IdlePriority,tg=null,fi=null;function PR(l){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(tg,l,void 0,(l.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:MR,OR=Math.log,RR=Math.LN2;function MR(l){return l>>>=0,l===0?32:31-(OR(l)/RR|0)|0}var ng=64,rg=4194304;function Ah(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function sg(l,u){var x=l.pendingLanes;if(x===0)return 0;var _=0,C=l.suspendedLanes,M=l.pingedLanes,G=x&268435455;if(G!==0){var ce=G&~C;ce!==0?_=Ah(ce):(M&=G,M!==0&&(_=Ah(M)))}else G=x&~C,G!==0?_=Ah(G):M!==0&&(_=Ah(M));if(_===0)return 0;if(u!==0&&u!==_&&(u&C)===0&&(C=_&-_,M=u&-u,C>=M||C===16&&(M&4194240)!==0))return u;if((_&4)!==0&&(_|=x&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=_;0<u;)x=31-Ls(u),C=1<<x,_|=l[x],u&=~C;return _}function LR(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IR(l,u){for(var x=l.suspendedLanes,_=l.pingedLanes,C=l.expirationTimes,M=l.pendingLanes;0<M;){var G=31-Ls(M),ce=1<<G,he=C[G];he===-1?((ce&x)===0||(ce&_)!==0)&&(C[G]=LR(ce,u)):he<=u&&(l.expiredLanes|=ce),M&=~ce}}function Ix(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function aj(){var l=ng;return ng<<=1,(ng&4194240)===0&&(ng=64),l}function Dx(l){for(var u=[],x=0;31>x;x++)u.push(l);return u}function Eh(l,u,x){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Ls(u),l[u]=x}function DR(l,u){var x=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<x;){var C=31-Ls(x),M=1<<C;u[C]=0,_[C]=-1,l[C]=-1,x&=~M}}function Fx(l,u){var x=l.entangledLanes|=u;for(l=l.entanglements;x;){var _=31-Ls(x),C=1<<_;C&u|l[_]&u&&(l[_]|=u),x&=~C}}var Nt=0;function oj(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var lj,Bx,cj,uj,dj,Ux=!1,ig=[],Qa=null,Za=null,Ja=null,kh=new Map,Ch=new Map,eo=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hj(l,u){switch(l){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":kh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(u.pointerId)}}function Th(l,u,x,_,C,M){return l===null||l.nativeEvent!==M?(l={blockedOn:u,domEventName:x,eventSystemFlags:_,nativeEvent:M,targetContainers:[C]},u!==null&&(u=zh(u),u!==null&&Bx(u)),l):(l.eventSystemFlags|=_,u=l.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),l)}function BR(l,u,x,_,C){switch(u){case"focusin":return Qa=Th(Qa,l,u,x,_,C),!0;case"dragenter":return Za=Th(Za,l,u,x,_,C),!0;case"mouseover":return Ja=Th(Ja,l,u,x,_,C),!0;case"pointerover":var M=C.pointerId;return kh.set(M,Th(kh.get(M)||null,l,u,x,_,C)),!0;case"gotpointercapture":return M=C.pointerId,Ch.set(M,Th(Ch.get(M)||null,l,u,x,_,C)),!0}return!1}function fj(l){var u=yl(l.target);if(u!==null){var x=gl(u);if(x!==null){if(u=x.tag,u===13){if(u=ZS(x),u!==null){l.blockedOn=u,dj(l.priority,function(){cj(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){l.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ag(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var x=qx(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(x===null){x=l.nativeEvent;var _=new x.constructor(x.type,x);mu=_,x.target.dispatchEvent(_),mu=null}else return u=zh(x),u!==null&&Bx(u),l.blockedOn=x,!1;u.shift()}return!0}function pj(l,u,x){ag(l)&&x.delete(u)}function UR(){Ux=!1,Qa!==null&&ag(Qa)&&(Qa=null),Za!==null&&ag(Za)&&(Za=null),Ja!==null&&ag(Ja)&&(Ja=null),kh.forEach(pj),Ch.forEach(pj)}function Ph(l,u){l.blockedOn===u&&(l.blockedOn=null,Ux||(Ux=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UR)))}function Oh(l){function u(C){return Ph(C,l)}if(0<ig.length){Ph(ig[0],l);for(var x=1;x<ig.length;x++){var _=ig[x];_.blockedOn===l&&(_.blockedOn=null)}}for(Qa!==null&&Ph(Qa,l),Za!==null&&Ph(Za,l),Ja!==null&&Ph(Ja,l),kh.forEach(u),Ch.forEach(u),x=0;x<eo.length;x++)_=eo[x],_.blockedOn===l&&(_.blockedOn=null);for(;0<eo.length&&(x=eo[0],x.blockedOn===null);)fj(x),x.blockedOn===null&&eo.shift()}var xu=S.ReactCurrentBatchConfig,og=!0;function $R(l,u,x,_){var C=Nt,M=xu.transition;xu.transition=null;try{Nt=1,$x(l,u,x,_)}finally{Nt=C,xu.transition=M}}function qR(l,u,x,_){var C=Nt,M=xu.transition;xu.transition=null;try{Nt=4,$x(l,u,x,_)}finally{Nt=C,xu.transition=M}}function $x(l,u,x,_){if(og){var C=qx(l,u,x,_);if(C===null)iv(l,u,_,lg,x),hj(l,_);else if(BR(C,l,u,x,_))_.stopPropagation();else if(hj(l,_),u&4&&-1<FR.indexOf(l)){for(;C!==null;){var M=zh(C);if(M!==null&&lj(M),M=qx(l,u,x,_),M===null&&iv(l,u,_,lg,x),M===C)break;C=M}C!==null&&_.stopPropagation()}else iv(l,u,_,null,x)}}var lg=null;function qx(l,u,x,_){if(lg=null,l=Tx(_),l=yl(l),l!==null)if(u=gl(l),u===null)l=null;else if(x=u.tag,x===13){if(l=ZS(u),l!==null)return l;l=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return lg=l,null}function mj(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CR()){case Lx:return 1;case sj:return 4;case eg:case TR:return 16;case ij:return 536870912;default:return 16}default:return 16}}var to=null,Vx=null,cg=null;function gj(){if(cg)return cg;var l,u=Vx,x=u.length,_,C="value"in to?to.value:to.textContent,M=C.length;for(l=0;l<x&&u[l]===C[l];l++);var G=x-l;for(_=1;_<=G&&u[x-_]===C[M-_];_++);return cg=C.slice(l,1<_?1-_:void 0)}function ug(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function dg(){return!0}function yj(){return!1}function Vr(l){function u(x,_,C,M,G){this._reactName=x,this._targetInst=C,this.type=_,this.nativeEvent=M,this.target=G,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(x=l[ce],this[ce]=x?x(M):M[ce]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?dg:yj,this.isPropagationStopped=yj,this}return X(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=dg)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=dg)},persist:function(){},isPersistent:dg}),u}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zx=Vr(vu),Rh=X({},vu,{view:0,detail:0}),VR=Vr(Rh),Hx,Wx,Mh,hg=X({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kx,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Mh&&(Mh&&l.type==="mousemove"?(Hx=l.screenX-Mh.screenX,Wx=l.screenY-Mh.screenY):Wx=Hx=0,Mh=l),Hx)},movementY:function(l){return"movementY"in l?l.movementY:Wx}}),xj=Vr(hg),zR=X({},hg,{dataTransfer:0}),HR=Vr(zR),WR=X({},Rh,{relatedTarget:0}),Gx=Vr(WR),GR=X({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),KR=Vr(GR),XR=X({},vu,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),YR=Vr(XR),QR=X({},vu,{data:0}),vj=Vr(QR),ZR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tM(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=eM[l])?!!u[l]:!1}function Kx(){return tM}var nM=X({},Rh,{key:function(l){if(l.key){var u=ZR[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ug(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?JR[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kx,charCode:function(l){return l.type==="keypress"?ug(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ug(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),rM=Vr(nM),sM=X({},hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bj=Vr(sM),iM=X({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kx}),aM=Vr(iM),oM=X({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),lM=Vr(oM),cM=X({},hg,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),uM=Vr(cM),dM=[9,13,27,32],Xx=c&&"CompositionEvent"in window,Lh=null;c&&"documentMode"in document&&(Lh=document.documentMode);var hM=c&&"TextEvent"in window&&!Lh,wj=c&&(!Xx||Lh&&8<Lh&&11>=Lh),Nj=" ",Sj=!1;function jj(l,u){switch(l){case"keyup":return dM.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _j(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bu=!1;function fM(l,u){switch(l){case"compositionend":return _j(u);case"keypress":return u.which!==32?null:(Sj=!0,Nj);case"textInput":return l=u.data,l===Nj&&Sj?null:l;default:return null}}function pM(l,u){if(bu)return l==="compositionend"||!Xx&&jj(l,u)?(l=gj(),cg=Vx=to=null,bu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return wj&&u.locale!=="ko"?null:u.data;default:return null}}var mM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aj(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!mM[l.type]:u==="textarea"}function Ej(l,u,x,_){GS(_),u=yg(u,"onChange"),0<u.length&&(x=new zx("onChange","change",null,x,_),l.push({event:x,listeners:u}))}var Ih=null,Dh=null;function gM(l){Hj(l,0)}function fg(l){var u=_u(l);if(Pe(u))return l}function yM(l,u){if(l==="change")return u}var kj=!1;if(c){var Yx;if(c){var Qx="oninput"in document;if(!Qx){var Cj=document.createElement("div");Cj.setAttribute("oninput","return;"),Qx=typeof Cj.oninput=="function"}Yx=Qx}else Yx=!1;kj=Yx&&(!document.documentMode||9<document.documentMode)}function Tj(){Ih&&(Ih.detachEvent("onpropertychange",Pj),Dh=Ih=null)}function Pj(l){if(l.propertyName==="value"&&fg(Dh)){var u=[];Ej(u,Dh,l,Tx(l)),QS(gM,u)}}function xM(l,u,x){l==="focusin"?(Tj(),Ih=u,Dh=x,Ih.attachEvent("onpropertychange",Pj)):l==="focusout"&&Tj()}function vM(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fg(Dh)}function bM(l,u){if(l==="click")return fg(u)}function wM(l,u){if(l==="input"||l==="change")return fg(u)}function NM(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Is=typeof Object.is=="function"?Object.is:NM;function Fh(l,u){if(Is(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var x=Object.keys(l),_=Object.keys(u);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var C=x[_];if(!d.call(u,C)||!Is(l[C],u[C]))return!1}return!0}function Oj(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Rj(l,u){var x=Oj(l);l=0;for(var _;x;){if(x.nodeType===3){if(_=l+x.textContent.length,l<=u&&_>=u)return{node:x,offset:u-l};l=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Oj(x)}}function Mj(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Mj(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Lj(){for(var l=window,u=ve();u instanceof l.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)l=u.contentWindow;else break;u=ve(l.document)}return u}function Zx(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function SM(l){var u=Lj(),x=l.focusedElem,_=l.selectionRange;if(u!==x&&x&&x.ownerDocument&&Mj(x.ownerDocument.documentElement,x)){if(_!==null&&Zx(x)){if(u=_.start,l=_.end,l===void 0&&(l=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(l,x.value.length);else if(l=(u=x.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var C=x.textContent.length,M=Math.min(_.start,C);_=_.end===void 0?M:Math.min(_.end,C),!l.extend&&M>_&&(C=_,_=M,M=C),C=Rj(x,M);var G=Rj(x,_);C&&G&&(l.rangeCount!==1||l.anchorNode!==C.node||l.anchorOffset!==C.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),l.removeAllRanges(),M>_?(l.addRange(u),l.extend(G.node,G.offset)):(u.setEnd(G.node,G.offset),l.addRange(u)))}}for(u=[],l=x;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)l=u[x],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var jM=c&&"documentMode"in document&&11>=document.documentMode,wu=null,Jx=null,Bh=null,ev=!1;function Ij(l,u,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ev||wu==null||wu!==ve(_)||(_=wu,"selectionStart"in _&&Zx(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Bh&&Fh(Bh,_)||(Bh=_,_=yg(Jx,"onSelect"),0<_.length&&(u=new zx("onSelect","select",null,u,x),l.push({event:u,listeners:_}),u.target=wu)))}function pg(l,u){var x={};return x[l.toLowerCase()]=u.toLowerCase(),x["Webkit"+l]="webkit"+u,x["Moz"+l]="moz"+u,x}var Nu={animationend:pg("Animation","AnimationEnd"),animationiteration:pg("Animation","AnimationIteration"),animationstart:pg("Animation","AnimationStart"),transitionend:pg("Transition","TransitionEnd")},tv={},Dj={};c&&(Dj=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function mg(l){if(tv[l])return tv[l];if(!Nu[l])return l;var u=Nu[l],x;for(x in u)if(u.hasOwnProperty(x)&&x in Dj)return tv[l]=u[x];return l}var Fj=mg("animationend"),Bj=mg("animationiteration"),Uj=mg("animationstart"),$j=mg("transitionend"),qj=new Map,Vj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(l,u){qj.set(l,u),i(u,[l])}for(var nv=0;nv<Vj.length;nv++){var rv=Vj[nv],_M=rv.toLowerCase(),AM=rv[0].toUpperCase()+rv.slice(1);no(_M,"on"+AM)}no(Fj,"onAnimationEnd"),no(Bj,"onAnimationIteration"),no(Uj,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no($j,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uh));function zj(l,u,x){var _=l.type||"unknown-event";l.currentTarget=x,_R(_,u,void 0,l),l.currentTarget=null}function Hj(l,u){u=(u&4)!==0;for(var x=0;x<l.length;x++){var _=l[x],C=_.event;_=_.listeners;e:{var M=void 0;if(u)for(var G=_.length-1;0<=G;G--){var ce=_[G],he=ce.instance,Ne=ce.currentTarget;if(ce=ce.listener,he!==M&&C.isPropagationStopped())break e;zj(C,ce,Ne),M=he}else for(G=0;G<_.length;G++){if(ce=_[G],he=ce.instance,Ne=ce.currentTarget,ce=ce.listener,he!==M&&C.isPropagationStopped())break e;zj(C,ce,Ne),M=he}}}if(Jm)throw l=Mx,Jm=!1,Mx=null,l}function Lt(l,u){var x=u[dv];x===void 0&&(x=u[dv]=new Set);var _=l+"__bubble";x.has(_)||(Wj(u,l,2,!1),x.add(_))}function sv(l,u,x){var _=0;u&&(_|=4),Wj(x,l,_,u)}var gg="_reactListening"+Math.random().toString(36).slice(2);function $h(l){if(!l[gg]){l[gg]=!0,n.forEach(function(x){x!=="selectionchange"&&(EM.has(x)||sv(x,!1,l),sv(x,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[gg]||(u[gg]=!0,sv("selectionchange",!1,u))}}function Wj(l,u,x,_){switch(mj(u)){case 1:var C=$R;break;case 4:C=qR;break;default:C=$x}x=C.bind(null,u,x,l),C=void 0,!Rx||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),_?C!==void 0?l.addEventListener(u,x,{capture:!0,passive:C}):l.addEventListener(u,x,!0):C!==void 0?l.addEventListener(u,x,{passive:C}):l.addEventListener(u,x,!1)}function iv(l,u,x,_,C){var M=_;if((u&1)===0&&(u&2)===0&&_!==null)e:for(;;){if(_===null)return;var G=_.tag;if(G===3||G===4){var ce=_.stateNode.containerInfo;if(ce===C||ce.nodeType===8&&ce.parentNode===C)break;if(G===4)for(G=_.return;G!==null;){var he=G.tag;if((he===3||he===4)&&(he=G.stateNode.containerInfo,he===C||he.nodeType===8&&he.parentNode===C))return;G=G.return}for(;ce!==null;){if(G=yl(ce),G===null)return;if(he=G.tag,he===5||he===6){_=M=G;continue e}ce=ce.parentNode}}_=_.return}QS(function(){var Ne=M,Ce=Tx(x),Te=[];e:{var ke=qj.get(l);if(ke!==void 0){var Fe=zx,ze=l;switch(l){case"keypress":if(ug(x)===0)break e;case"keydown":case"keyup":Fe=rM;break;case"focusin":ze="focus",Fe=Gx;break;case"focusout":ze="blur",Fe=Gx;break;case"beforeblur":case"afterblur":Fe=Gx;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=xj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=HR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=aM;break;case Fj:case Bj:case Uj:Fe=KR;break;case $j:Fe=lM;break;case"scroll":Fe=VR;break;case"wheel":Fe=uM;break;case"copy":case"cut":case"paste":Fe=YR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=bj}var We=(u&4)!==0,rn=!We&&l==="scroll",ye=We?ke!==null?ke+"Capture":null:ke;We=[];for(var pe=Ne,be;pe!==null;){be=pe;var Le=be.stateNode;if(be.tag===5&&Le!==null&&(be=Le,ye!==null&&(Le=Sh(pe,ye),Le!=null&&We.push(qh(pe,Le,be)))),rn)break;pe=pe.return}0<We.length&&(ke=new Fe(ke,ze,null,x,Ce),Te.push({event:ke,listeners:We}))}}if((u&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",Fe=l==="mouseout"||l==="pointerout",ke&&x!==mu&&(ze=x.relatedTarget||x.fromElement)&&(yl(ze)||ze[Yi]))break e;if((Fe||ke)&&(ke=Ce.window===Ce?Ce:(ke=Ce.ownerDocument)?ke.defaultView||ke.parentWindow:window,Fe?(ze=x.relatedTarget||x.toElement,Fe=Ne,ze=ze?yl(ze):null,ze!==null&&(rn=gl(ze),ze!==rn||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Fe=null,ze=Ne),Fe!==ze)){if(We=xj,Le="onMouseLeave",ye="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(We=bj,Le="onPointerLeave",ye="onPointerEnter",pe="pointer"),rn=Fe==null?ke:_u(Fe),be=ze==null?ke:_u(ze),ke=new We(Le,pe+"leave",Fe,x,Ce),ke.target=rn,ke.relatedTarget=be,Le=null,yl(Ce)===Ne&&(We=new We(ye,pe+"enter",ze,x,Ce),We.target=be,We.relatedTarget=rn,Le=We),rn=Le,Fe&&ze)t:{for(We=Fe,ye=ze,pe=0,be=We;be;be=Su(be))pe++;for(be=0,Le=ye;Le;Le=Su(Le))be++;for(;0<pe-be;)We=Su(We),pe--;for(;0<be-pe;)ye=Su(ye),be--;for(;pe--;){if(We===ye||ye!==null&&We===ye.alternate)break t;We=Su(We),ye=Su(ye)}We=null}else We=null;Fe!==null&&Gj(Te,ke,Fe,We,!1),ze!==null&&rn!==null&&Gj(Te,rn,ze,We,!0)}}e:{if(ke=Ne?_u(Ne):window,Fe=ke.nodeName&&ke.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ke.type==="file")var Ge=yM;else if(Aj(ke))if(kj)Ge=wM;else{Ge=vM;var Ye=xM}else(Fe=ke.nodeName)&&Fe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Ge=bM);if(Ge&&(Ge=Ge(l,Ne))){Ej(Te,Ge,x,Ce);break e}Ye&&Ye(l,ke,Ne),l==="focusout"&&(Ye=ke._wrapperState)&&Ye.controlled&&ke.type==="number"&&Se(ke,"number",ke.value)}switch(Ye=Ne?_u(Ne):window,l){case"focusin":(Aj(Ye)||Ye.contentEditable==="true")&&(wu=Ye,Jx=Ne,Bh=null);break;case"focusout":Bh=Jx=wu=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,Ij(Te,x,Ce);break;case"selectionchange":if(jM)break;case"keydown":case"keyup":Ij(Te,x,Ce)}var Qe;if(Xx)e:{switch(l){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else bu?jj(l,x)&&(et="onCompositionEnd"):l==="keydown"&&x.keyCode===229&&(et="onCompositionStart");et&&(wj&&x.locale!=="ko"&&(bu||et!=="onCompositionStart"?et==="onCompositionEnd"&&bu&&(Qe=gj()):(to=Ce,Vx="value"in to?to.value:to.textContent,bu=!0)),Ye=yg(Ne,et),0<Ye.length&&(et=new vj(et,l,null,x,Ce),Te.push({event:et,listeners:Ye}),Qe?et.data=Qe:(Qe=_j(x),Qe!==null&&(et.data=Qe)))),(Qe=hM?fM(l,x):pM(l,x))&&(Ne=yg(Ne,"onBeforeInput"),0<Ne.length&&(Ce=new vj("onBeforeInput","beforeinput",null,x,Ce),Te.push({event:Ce,listeners:Ne}),Ce.data=Qe))}Hj(Te,u)})}function qh(l,u,x){return{instance:l,listener:u,currentTarget:x}}function yg(l,u){for(var x=u+"Capture",_=[];l!==null;){var C=l,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=Sh(l,x),M!=null&&_.unshift(qh(l,M,C)),M=Sh(l,u),M!=null&&_.push(qh(l,M,C))),l=l.return}return _}function Su(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Gj(l,u,x,_,C){for(var M=u._reactName,G=[];x!==null&&x!==_;){var ce=x,he=ce.alternate,Ne=ce.stateNode;if(he!==null&&he===_)break;ce.tag===5&&Ne!==null&&(ce=Ne,C?(he=Sh(x,M),he!=null&&G.unshift(qh(x,he,ce))):C||(he=Sh(x,M),he!=null&&G.push(qh(x,he,ce)))),x=x.return}G.length!==0&&l.push({event:u,listeners:G})}var kM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function Kj(l){return(typeof l=="string"?l:""+l).replace(kM,`
`).replace(CM,"")}function xg(l,u,x){if(u=Kj(u),Kj(l)!==u&&x)throw Error(t(425))}function vg(){}var av=null,ov=null;function lv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cv=typeof setTimeout=="function"?setTimeout:void 0,TM=typeof clearTimeout=="function"?clearTimeout:void 0,Xj=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof Xj<"u"?function(l){return Xj.resolve(null).then(l).catch(OM)}:cv;function OM(l){setTimeout(function(){throw l})}function uv(l,u){var x=u,_=0;do{var C=x.nextSibling;if(l.removeChild(x),C&&C.nodeType===8)if(x=C.data,x==="/$"){if(_===0){l.removeChild(C),Oh(u);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=C}while(x);Oh(u)}function ro(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Yj(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var x=l.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return l;u--}else x==="/$"&&u++}l=l.previousSibling}return null}var ju=Math.random().toString(36).slice(2),pi="__reactFiber$"+ju,Vh="__reactProps$"+ju,Yi="__reactContainer$"+ju,dv="__reactEvents$"+ju,RM="__reactListeners$"+ju,MM="__reactHandles$"+ju;function yl(l){var u=l[pi];if(u)return u;for(var x=l.parentNode;x;){if(u=x[Yi]||x[pi]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(l=Yj(l);l!==null;){if(x=l[pi])return x;l=Yj(l)}return u}l=x,x=l.parentNode}return null}function zh(l){return l=l[pi]||l[Yi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function _u(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function bg(l){return l[Vh]||null}var hv=[],Au=-1;function so(l){return{current:l}}function It(l){0>Au||(l.current=hv[Au],hv[Au]=null,Au--)}function Pt(l,u){Au++,hv[Au]=l.current,l.current=u}var io={},Yn=so(io),Sr=so(!1),xl=io;function Eu(l,u){var x=l.type.contextTypes;if(!x)return io;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in x)C[M]=u[M];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=C),C}function jr(l){return l=l.childContextTypes,l!=null}function wg(){It(Sr),It(Yn)}function Qj(l,u,x){if(Yn.current!==io)throw Error(t(168));Pt(Yn,u),Pt(Sr,x)}function Zj(l,u,x){var _=l.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var C in _)if(!(C in u))throw Error(t(108,ie(l)||"Unknown",C));return X({},x,_)}function Ng(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||io,xl=Yn.current,Pt(Yn,l),Pt(Sr,Sr.current),!0}function Jj(l,u,x){var _=l.stateNode;if(!_)throw Error(t(169));x?(l=Zj(l,u,xl),_.__reactInternalMemoizedMergedChildContext=l,It(Sr),It(Yn),Pt(Yn,l)):It(Sr),Pt(Sr,x)}var Qi=null,Sg=!1,fv=!1;function e_(l){Qi===null?Qi=[l]:Qi.push(l)}function LM(l){Sg=!0,e_(l)}function ao(){if(!fv&&Qi!==null){fv=!0;var l=0,u=Nt;try{var x=Qi;for(Nt=1;l<x.length;l++){var _=x[l];do _=_(!0);while(_!==null)}Qi=null,Sg=!1}catch(C){throw Qi!==null&&(Qi=Qi.slice(l+1)),nj(Lx,ao),C}finally{Nt=u,fv=!1}}return null}var ku=[],Cu=0,jg=null,_g=0,gs=[],ys=0,vl=null,Zi=1,Ji="";function bl(l,u){ku[Cu++]=_g,ku[Cu++]=jg,jg=l,_g=u}function t_(l,u,x){gs[ys++]=Zi,gs[ys++]=Ji,gs[ys++]=vl,vl=l;var _=Zi;l=Ji;var C=32-Ls(_)-1;_&=~(1<<C),x+=1;var M=32-Ls(u)+C;if(30<M){var G=C-C%5;M=(_&(1<<G)-1).toString(32),_>>=G,C-=G,Zi=1<<32-Ls(u)+C|x<<C|_,Ji=M+l}else Zi=1<<M|x<<C|_,Ji=l}function pv(l){l.return!==null&&(bl(l,1),t_(l,1,0))}function mv(l){for(;l===jg;)jg=ku[--Cu],ku[Cu]=null,_g=ku[--Cu],ku[Cu]=null;for(;l===vl;)vl=gs[--ys],gs[ys]=null,Ji=gs[--ys],gs[ys]=null,Zi=gs[--ys],gs[ys]=null}var zr=null,Hr=null,Ft=!1,Ds=null;function n_(l,u){var x=ws(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=l,u=l.deletions,u===null?(l.deletions=[x],l.flags|=16):u.push(x)}function r_(l,u){switch(l.tag){case 5:var x=l.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,zr=l,Hr=ro(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,zr=l,Hr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=vl!==null?{id:Zi,overflow:Ji}:null,l.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=ws(18,null,null,0),x.stateNode=u,x.return=l,l.child=x,zr=l,Hr=null,!0):!1;default:return!1}}function gv(l){return(l.mode&1)!==0&&(l.flags&128)===0}function yv(l){if(Ft){var u=Hr;if(u){var x=u;if(!r_(l,u)){if(gv(l))throw Error(t(418));u=ro(x.nextSibling);var _=zr;u&&r_(l,u)?n_(_,x):(l.flags=l.flags&-4097|2,Ft=!1,zr=l)}}else{if(gv(l))throw Error(t(418));l.flags=l.flags&-4097|2,Ft=!1,zr=l}}}function s_(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;zr=l}function Ag(l){if(l!==zr)return!1;if(!Ft)return s_(l),Ft=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!lv(l.type,l.memoizedProps)),u&&(u=Hr)){if(gv(l))throw i_(),Error(t(418));for(;u;)n_(l,u),u=ro(u.nextSibling)}if(s_(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var x=l.data;if(x==="/$"){if(u===0){Hr=ro(l.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}l=l.nextSibling}Hr=null}}else Hr=zr?ro(l.stateNode.nextSibling):null;return!0}function i_(){for(var l=Hr;l;)l=ro(l.nextSibling)}function Tu(){Hr=zr=null,Ft=!1}function xv(l){Ds===null?Ds=[l]:Ds.push(l)}var IM=S.ReactCurrentBatchConfig;function Hh(l,u,x){if(l=x.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(t(309));var _=x.stateNode}if(!_)throw Error(t(147,l));var C=_,M=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===M?u.ref:(u=function(G){var ce=C.refs;G===null?delete ce[M]:ce[M]=G},u._stringRef=M,u)}if(typeof l!="string")throw Error(t(284));if(!x._owner)throw Error(t(290,l))}return l}function Eg(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function a_(l){var u=l._init;return u(l._payload)}function o_(l){function u(ye,pe){if(l){var be=ye.deletions;be===null?(ye.deletions=[pe],ye.flags|=16):be.push(pe)}}function x(ye,pe){if(!l)return null;for(;pe!==null;)u(ye,pe),pe=pe.sibling;return null}function _(ye,pe){for(ye=new Map;pe!==null;)pe.key!==null?ye.set(pe.key,pe):ye.set(pe.index,pe),pe=pe.sibling;return ye}function C(ye,pe){return ye=mo(ye,pe),ye.index=0,ye.sibling=null,ye}function M(ye,pe,be){return ye.index=be,l?(be=ye.alternate,be!==null?(be=be.index,be<pe?(ye.flags|=2,pe):be):(ye.flags|=2,pe)):(ye.flags|=1048576,pe)}function G(ye){return l&&ye.alternate===null&&(ye.flags|=2),ye}function ce(ye,pe,be,Le){return pe===null||pe.tag!==6?(pe=cb(be,ye.mode,Le),pe.return=ye,pe):(pe=C(pe,be),pe.return=ye,pe)}function he(ye,pe,be,Le){var Ge=be.type;return Ge===k?Ce(ye,pe,be.props.children,Le,be.key):pe!==null&&(pe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===se&&a_(Ge)===pe.type)?(Le=C(pe,be.props),Le.ref=Hh(ye,pe,be),Le.return=ye,Le):(Le=Qg(be.type,be.key,be.props,null,ye.mode,Le),Le.ref=Hh(ye,pe,be),Le.return=ye,Le)}function Ne(ye,pe,be,Le){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==be.containerInfo||pe.stateNode.implementation!==be.implementation?(pe=ub(be,ye.mode,Le),pe.return=ye,pe):(pe=C(pe,be.children||[]),pe.return=ye,pe)}function Ce(ye,pe,be,Le,Ge){return pe===null||pe.tag!==7?(pe=kl(be,ye.mode,Le,Ge),pe.return=ye,pe):(pe=C(pe,be),pe.return=ye,pe)}function Te(ye,pe,be){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=cb(""+pe,ye.mode,be),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:return be=Qg(pe.type,pe.key,pe.props,null,ye.mode,be),be.ref=Hh(ye,null,pe),be.return=ye,be;case T:return pe=ub(pe,ye.mode,be),pe.return=ye,pe;case se:var Le=pe._init;return Te(ye,Le(pe._payload),be)}if(K(pe)||ne(pe))return pe=kl(pe,ye.mode,be,null),pe.return=ye,pe;Eg(ye,pe)}return null}function ke(ye,pe,be,Le){var Ge=pe!==null?pe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return Ge!==null?null:ce(ye,pe,""+be,Le);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return be.key===Ge?he(ye,pe,be,Le):null;case T:return be.key===Ge?Ne(ye,pe,be,Le):null;case se:return Ge=be._init,ke(ye,pe,Ge(be._payload),Le)}if(K(be)||ne(be))return Ge!==null?null:Ce(ye,pe,be,Le,null);Eg(ye,be)}return null}function Fe(ye,pe,be,Le,Ge){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return ye=ye.get(be)||null,ce(pe,ye,""+Le,Ge);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case A:return ye=ye.get(Le.key===null?be:Le.key)||null,he(pe,ye,Le,Ge);case T:return ye=ye.get(Le.key===null?be:Le.key)||null,Ne(pe,ye,Le,Ge);case se:var Ye=Le._init;return Fe(ye,pe,be,Ye(Le._payload),Ge)}if(K(Le)||ne(Le))return ye=ye.get(be)||null,Ce(pe,ye,Le,Ge,null);Eg(pe,Le)}return null}function ze(ye,pe,be,Le){for(var Ge=null,Ye=null,Qe=pe,et=pe=0,Cn=null;Qe!==null&&et<be.length;et++){Qe.index>et?(Cn=Qe,Qe=null):Cn=Qe.sibling;var xt=ke(ye,Qe,be[et],Le);if(xt===null){Qe===null&&(Qe=Cn);break}l&&Qe&&xt.alternate===null&&u(ye,Qe),pe=M(xt,pe,et),Ye===null?Ge=xt:Ye.sibling=xt,Ye=xt,Qe=Cn}if(et===be.length)return x(ye,Qe),Ft&&bl(ye,et),Ge;if(Qe===null){for(;et<be.length;et++)Qe=Te(ye,be[et],Le),Qe!==null&&(pe=M(Qe,pe,et),Ye===null?Ge=Qe:Ye.sibling=Qe,Ye=Qe);return Ft&&bl(ye,et),Ge}for(Qe=_(ye,Qe);et<be.length;et++)Cn=Fe(Qe,ye,et,be[et],Le),Cn!==null&&(l&&Cn.alternate!==null&&Qe.delete(Cn.key===null?et:Cn.key),pe=M(Cn,pe,et),Ye===null?Ge=Cn:Ye.sibling=Cn,Ye=Cn);return l&&Qe.forEach(function(go){return u(ye,go)}),Ft&&bl(ye,et),Ge}function We(ye,pe,be,Le){var Ge=ne(be);if(typeof Ge!="function")throw Error(t(150));if(be=Ge.call(be),be==null)throw Error(t(151));for(var Ye=Ge=null,Qe=pe,et=pe=0,Cn=null,xt=be.next();Qe!==null&&!xt.done;et++,xt=be.next()){Qe.index>et?(Cn=Qe,Qe=null):Cn=Qe.sibling;var go=ke(ye,Qe,xt.value,Le);if(go===null){Qe===null&&(Qe=Cn);break}l&&Qe&&go.alternate===null&&u(ye,Qe),pe=M(go,pe,et),Ye===null?Ge=go:Ye.sibling=go,Ye=go,Qe=Cn}if(xt.done)return x(ye,Qe),Ft&&bl(ye,et),Ge;if(Qe===null){for(;!xt.done;et++,xt=be.next())xt=Te(ye,xt.value,Le),xt!==null&&(pe=M(xt,pe,et),Ye===null?Ge=xt:Ye.sibling=xt,Ye=xt);return Ft&&bl(ye,et),Ge}for(Qe=_(ye,Qe);!xt.done;et++,xt=be.next())xt=Fe(Qe,ye,et,xt.value,Le),xt!==null&&(l&&xt.alternate!==null&&Qe.delete(xt.key===null?et:xt.key),pe=M(xt,pe,et),Ye===null?Ge=xt:Ye.sibling=xt,Ye=xt);return l&&Qe.forEach(function(mL){return u(ye,mL)}),Ft&&bl(ye,et),Ge}function rn(ye,pe,be,Le){if(typeof be=="object"&&be!==null&&be.type===k&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case A:e:{for(var Ge=be.key,Ye=pe;Ye!==null;){if(Ye.key===Ge){if(Ge=be.type,Ge===k){if(Ye.tag===7){x(ye,Ye.sibling),pe=C(Ye,be.props.children),pe.return=ye,ye=pe;break e}}else if(Ye.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===se&&a_(Ge)===Ye.type){x(ye,Ye.sibling),pe=C(Ye,be.props),pe.ref=Hh(ye,Ye,be),pe.return=ye,ye=pe;break e}x(ye,Ye);break}else u(ye,Ye);Ye=Ye.sibling}be.type===k?(pe=kl(be.props.children,ye.mode,Le,be.key),pe.return=ye,ye=pe):(Le=Qg(be.type,be.key,be.props,null,ye.mode,Le),Le.ref=Hh(ye,pe,be),Le.return=ye,ye=Le)}return G(ye);case T:e:{for(Ye=be.key;pe!==null;){if(pe.key===Ye)if(pe.tag===4&&pe.stateNode.containerInfo===be.containerInfo&&pe.stateNode.implementation===be.implementation){x(ye,pe.sibling),pe=C(pe,be.children||[]),pe.return=ye,ye=pe;break e}else{x(ye,pe);break}else u(ye,pe);pe=pe.sibling}pe=ub(be,ye.mode,Le),pe.return=ye,ye=pe}return G(ye);case se:return Ye=be._init,rn(ye,pe,Ye(be._payload),Le)}if(K(be))return ze(ye,pe,be,Le);if(ne(be))return We(ye,pe,be,Le);Eg(ye,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,pe!==null&&pe.tag===6?(x(ye,pe.sibling),pe=C(pe,be),pe.return=ye,ye=pe):(x(ye,pe),pe=cb(be,ye.mode,Le),pe.return=ye,ye=pe),G(ye)):x(ye,pe)}return rn}var Pu=o_(!0),l_=o_(!1),kg=so(null),Cg=null,Ou=null,vv=null;function bv(){vv=Ou=Cg=null}function wv(l){var u=kg.current;It(kg),l._currentValue=u}function Nv(l,u,x){for(;l!==null;){var _=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),l===x)break;l=l.return}}function Ru(l,u){Cg=l,vv=Ou=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(_r=!0),l.firstContext=null)}function xs(l){var u=l._currentValue;if(vv!==l)if(l={context:l,memoizedValue:u,next:null},Ou===null){if(Cg===null)throw Error(t(308));Ou=l,Cg.dependencies={lanes:0,firstContext:l}}else Ou=Ou.next=l;return u}var wl=null;function Sv(l){wl===null?wl=[l]:wl.push(l)}function c_(l,u,x,_){var C=u.interleaved;return C===null?(x.next=x,Sv(u)):(x.next=C.next,C.next=x),u.interleaved=x,ea(l,_)}function ea(l,u){l.lanes|=u;var x=l.alternate;for(x!==null&&(x.lanes|=u),x=l,l=l.return;l!==null;)l.childLanes|=u,x=l.alternate,x!==null&&(x.childLanes|=u),x=l,l=l.return;return x.tag===3?x.stateNode:null}var oo=!1;function jv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ta(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function lo(l,u,x){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,(mt&2)!==0){var C=_.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),_.pending=u,ea(l,x)}return C=_.interleaved,C===null?(u.next=u,Sv(_)):(u.next=C.next,C.next=u),_.interleaved=u,ea(l,x)}function Tg(l,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var _=u.lanes;_&=l.pendingLanes,x|=_,u.lanes=x,Fx(l,x)}}function d_(l,u){var x=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var C=null,M=null;if(x=x.firstBaseUpdate,x!==null){do{var G={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};M===null?C=M=G:M=M.next=G,x=x.next}while(x!==null);M===null?C=M=u:M=M.next=u}else C=M=u;x={baseState:_.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:_.shared,effects:_.effects},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=u:l.next=u,x.lastBaseUpdate=u}function Pg(l,u,x,_){var C=l.updateQueue;oo=!1;var M=C.firstBaseUpdate,G=C.lastBaseUpdate,ce=C.shared.pending;if(ce!==null){C.shared.pending=null;var he=ce,Ne=he.next;he.next=null,G===null?M=Ne:G.next=Ne,G=he;var Ce=l.alternate;Ce!==null&&(Ce=Ce.updateQueue,ce=Ce.lastBaseUpdate,ce!==G&&(ce===null?Ce.firstBaseUpdate=Ne:ce.next=Ne,Ce.lastBaseUpdate=he))}if(M!==null){var Te=C.baseState;G=0,Ce=Ne=he=null,ce=M;do{var ke=ce.lane,Fe=ce.eventTime;if((_&ke)===ke){Ce!==null&&(Ce=Ce.next={eventTime:Fe,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var ze=l,We=ce;switch(ke=u,Fe=x,We.tag){case 1:if(ze=We.payload,typeof ze=="function"){Te=ze.call(Fe,Te,ke);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=We.payload,ke=typeof ze=="function"?ze.call(Fe,Te,ke):ze,ke==null)break e;Te=X({},Te,ke);break e;case 2:oo=!0}}ce.callback!==null&&ce.lane!==0&&(l.flags|=64,ke=C.effects,ke===null?C.effects=[ce]:ke.push(ce))}else Fe={eventTime:Fe,lane:ke,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Ce===null?(Ne=Ce=Fe,he=Te):Ce=Ce.next=Fe,G|=ke;if(ce=ce.next,ce===null){if(ce=C.shared.pending,ce===null)break;ke=ce,ce=ke.next,ke.next=null,C.lastBaseUpdate=ke,C.shared.pending=null}}while(!0);if(Ce===null&&(he=Te),C.baseState=he,C.firstBaseUpdate=Ne,C.lastBaseUpdate=Ce,u=C.shared.interleaved,u!==null){C=u;do G|=C.lane,C=C.next;while(C!==u)}else M===null&&(C.shared.lanes=0);jl|=G,l.lanes=G,l.memoizedState=Te}}function h_(l,u,x){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var _=l[u],C=_.callback;if(C!==null){if(_.callback=null,_=x,typeof C!="function")throw Error(t(191,C));C.call(_)}}}var Wh={},mi=so(Wh),Gh=so(Wh),Kh=so(Wh);function Nl(l){if(l===Wh)throw Error(t(174));return l}function _v(l,u){switch(Pt(Kh,u),Pt(Gh,l),Pt(mi,Wh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Re(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Re(u,l)}It(mi),Pt(mi,u)}function Mu(){It(mi),It(Gh),It(Kh)}function f_(l){Nl(Kh.current);var u=Nl(mi.current),x=Re(u,l.type);u!==x&&(Pt(Gh,l),Pt(mi,x))}function Av(l){Gh.current===l&&(It(mi),It(Gh))}var zt=so(0);function Og(l){for(var u=l;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ev=[];function kv(){for(var l=0;l<Ev.length;l++)Ev[l]._workInProgressVersionPrimary=null;Ev.length=0}var Rg=S.ReactCurrentDispatcher,Cv=S.ReactCurrentBatchConfig,Sl=0,Ht=null,vn=null,En=null,Mg=!1,Xh=!1,Yh=0,DM=0;function Qn(){throw Error(t(321))}function Tv(l,u){if(u===null)return!1;for(var x=0;x<u.length&&x<l.length;x++)if(!Is(l[x],u[x]))return!1;return!0}function Pv(l,u,x,_,C,M){if(Sl=M,Ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Rg.current=l===null||l.memoizedState===null?$M:qM,l=x(_,C),Xh){M=0;do{if(Xh=!1,Yh=0,25<=M)throw Error(t(301));M+=1,En=vn=null,u.updateQueue=null,Rg.current=VM,l=x(_,C)}while(Xh)}if(Rg.current=Dg,u=vn!==null&&vn.next!==null,Sl=0,En=vn=Ht=null,Mg=!1,u)throw Error(t(300));return l}function Ov(){var l=Yh!==0;return Yh=0,l}function gi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Ht.memoizedState=En=l:En=En.next=l,En}function vs(){if(vn===null){var l=Ht.alternate;l=l!==null?l.memoizedState:null}else l=vn.next;var u=En===null?Ht.memoizedState:En.next;if(u!==null)En=u,vn=l;else{if(l===null)throw Error(t(310));vn=l,l={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},En===null?Ht.memoizedState=En=l:En=En.next=l}return En}function Qh(l,u){return typeof u=="function"?u(l):u}function Rv(l){var u=vs(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=l;var _=vn,C=_.baseQueue,M=x.pending;if(M!==null){if(C!==null){var G=C.next;C.next=M.next,M.next=G}_.baseQueue=C=M,x.pending=null}if(C!==null){M=C.next,_=_.baseState;var ce=G=null,he=null,Ne=M;do{var Ce=Ne.lane;if((Sl&Ce)===Ce)he!==null&&(he=he.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),_=Ne.hasEagerState?Ne.eagerState:l(_,Ne.action);else{var Te={lane:Ce,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};he===null?(ce=he=Te,G=_):he=he.next=Te,Ht.lanes|=Ce,jl|=Ce}Ne=Ne.next}while(Ne!==null&&Ne!==M);he===null?G=_:he.next=ce,Is(_,u.memoizedState)||(_r=!0),u.memoizedState=_,u.baseState=G,u.baseQueue=he,x.lastRenderedState=_}if(l=x.interleaved,l!==null){C=l;do M=C.lane,Ht.lanes|=M,jl|=M,C=C.next;while(C!==l)}else C===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Mv(l){var u=vs(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=l;var _=x.dispatch,C=x.pending,M=u.memoizedState;if(C!==null){x.pending=null;var G=C=C.next;do M=l(M,G.action),G=G.next;while(G!==C);Is(M,u.memoizedState)||(_r=!0),u.memoizedState=M,u.baseQueue===null&&(u.baseState=M),x.lastRenderedState=M}return[M,_]}function p_(){}function m_(l,u){var x=Ht,_=vs(),C=u(),M=!Is(_.memoizedState,C);if(M&&(_.memoizedState=C,_r=!0),_=_.queue,Lv(x_.bind(null,x,_,l),[l]),_.getSnapshot!==u||M||En!==null&&En.memoizedState.tag&1){if(x.flags|=2048,Zh(9,y_.bind(null,x,_,C,u),void 0,null),kn===null)throw Error(t(349));(Sl&30)!==0||g_(x,u,C)}return C}function g_(l,u,x){l.flags|=16384,l={getSnapshot:u,value:x},u=Ht.updateQueue,u===null?(u={lastEffect:null,stores:null},Ht.updateQueue=u,u.stores=[l]):(x=u.stores,x===null?u.stores=[l]:x.push(l))}function y_(l,u,x,_){u.value=x,u.getSnapshot=_,v_(u)&&b_(l)}function x_(l,u,x){return x(function(){v_(u)&&b_(l)})}function v_(l){var u=l.getSnapshot;l=l.value;try{var x=u();return!Is(l,x)}catch{return!0}}function b_(l){var u=ea(l,1);u!==null&&$s(u,l,1,-1)}function w_(l){var u=gi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:l},u.queue=l,l=l.dispatch=UM.bind(null,Ht,l),[u.memoizedState,l]}function Zh(l,u,x,_){return l={tag:l,create:u,destroy:x,deps:_,next:null},u=Ht.updateQueue,u===null?(u={lastEffect:null,stores:null},Ht.updateQueue=u,u.lastEffect=l.next=l):(x=u.lastEffect,x===null?u.lastEffect=l.next=l:(_=x.next,x.next=l,l.next=_,u.lastEffect=l)),l}function N_(){return vs().memoizedState}function Lg(l,u,x,_){var C=gi();Ht.flags|=l,C.memoizedState=Zh(1|u,x,void 0,_===void 0?null:_)}function Ig(l,u,x,_){var C=vs();_=_===void 0?null:_;var M=void 0;if(vn!==null){var G=vn.memoizedState;if(M=G.destroy,_!==null&&Tv(_,G.deps)){C.memoizedState=Zh(u,x,M,_);return}}Ht.flags|=l,C.memoizedState=Zh(1|u,x,M,_)}function S_(l,u){return Lg(8390656,8,l,u)}function Lv(l,u){return Ig(2048,8,l,u)}function j_(l,u){return Ig(4,2,l,u)}function __(l,u){return Ig(4,4,l,u)}function A_(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function E_(l,u,x){return x=x!=null?x.concat([l]):null,Ig(4,4,A_.bind(null,u,l),x)}function Iv(){}function k_(l,u){var x=vs();u=u===void 0?null:u;var _=x.memoizedState;return _!==null&&u!==null&&Tv(u,_[1])?_[0]:(x.memoizedState=[l,u],l)}function C_(l,u){var x=vs();u=u===void 0?null:u;var _=x.memoizedState;return _!==null&&u!==null&&Tv(u,_[1])?_[0]:(l=l(),x.memoizedState=[l,u],l)}function T_(l,u,x){return(Sl&21)===0?(l.baseState&&(l.baseState=!1,_r=!0),l.memoizedState=x):(Is(x,u)||(x=aj(),Ht.lanes|=x,jl|=x,l.baseState=!0),u)}function FM(l,u){var x=Nt;Nt=x!==0&&4>x?x:4,l(!0);var _=Cv.transition;Cv.transition={};try{l(!1),u()}finally{Nt=x,Cv.transition=_}}function P_(){return vs().memoizedState}function BM(l,u,x){var _=fo(l);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},O_(l))R_(u,x);else if(x=c_(l,u,x,_),x!==null){var C=cr();$s(x,l,_,C),M_(x,u,_)}}function UM(l,u,x){var _=fo(l),C={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(O_(l))R_(u,C);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=u.lastRenderedReducer,M!==null))try{var G=u.lastRenderedState,ce=M(G,x);if(C.hasEagerState=!0,C.eagerState=ce,Is(ce,G)){var he=u.interleaved;he===null?(C.next=C,Sv(u)):(C.next=he.next,he.next=C),u.interleaved=C;return}}catch{}finally{}x=c_(l,u,C,_),x!==null&&(C=cr(),$s(x,l,_,C),M_(x,u,_))}}function O_(l){var u=l.alternate;return l===Ht||u!==null&&u===Ht}function R_(l,u){Xh=Mg=!0;var x=l.pending;x===null?u.next=u:(u.next=x.next,x.next=u),l.pending=u}function M_(l,u,x){if((x&4194240)!==0){var _=u.lanes;_&=l.pendingLanes,x|=_,u.lanes=x,Fx(l,x)}}var Dg={readContext:xs,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},$M={readContext:xs,useCallback:function(l,u){return gi().memoizedState=[l,u===void 0?null:u],l},useContext:xs,useEffect:S_,useImperativeHandle:function(l,u,x){return x=x!=null?x.concat([l]):null,Lg(4194308,4,A_.bind(null,u,l),x)},useLayoutEffect:function(l,u){return Lg(4194308,4,l,u)},useInsertionEffect:function(l,u){return Lg(4,2,l,u)},useMemo:function(l,u){var x=gi();return u=u===void 0?null:u,l=l(),x.memoizedState=[l,u],l},useReducer:function(l,u,x){var _=gi();return u=x!==void 0?x(u):u,_.memoizedState=_.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},_.queue=l,l=l.dispatch=BM.bind(null,Ht,l),[_.memoizedState,l]},useRef:function(l){var u=gi();return l={current:l},u.memoizedState=l},useState:w_,useDebugValue:Iv,useDeferredValue:function(l){return gi().memoizedState=l},useTransition:function(){var l=w_(!1),u=l[0];return l=FM.bind(null,l[1]),gi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,x){var _=Ht,C=gi();if(Ft){if(x===void 0)throw Error(t(407));x=x()}else{if(x=u(),kn===null)throw Error(t(349));(Sl&30)!==0||g_(_,u,x)}C.memoizedState=x;var M={value:x,getSnapshot:u};return C.queue=M,S_(x_.bind(null,_,M,l),[l]),_.flags|=2048,Zh(9,y_.bind(null,_,M,x,u),void 0,null),x},useId:function(){var l=gi(),u=kn.identifierPrefix;if(Ft){var x=Ji,_=Zi;x=(_&~(1<<32-Ls(_)-1)).toString(32)+x,u=":"+u+"R"+x,x=Yh++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=DM++,u=":"+u+"r"+x.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},qM={readContext:xs,useCallback:k_,useContext:xs,useEffect:Lv,useImperativeHandle:E_,useInsertionEffect:j_,useLayoutEffect:__,useMemo:C_,useReducer:Rv,useRef:N_,useState:function(){return Rv(Qh)},useDebugValue:Iv,useDeferredValue:function(l){var u=vs();return T_(u,vn.memoizedState,l)},useTransition:function(){var l=Rv(Qh)[0],u=vs().memoizedState;return[l,u]},useMutableSource:p_,useSyncExternalStore:m_,useId:P_,unstable_isNewReconciler:!1},VM={readContext:xs,useCallback:k_,useContext:xs,useEffect:Lv,useImperativeHandle:E_,useInsertionEffect:j_,useLayoutEffect:__,useMemo:C_,useReducer:Mv,useRef:N_,useState:function(){return Mv(Qh)},useDebugValue:Iv,useDeferredValue:function(l){var u=vs();return vn===null?u.memoizedState=l:T_(u,vn.memoizedState,l)},useTransition:function(){var l=Mv(Qh)[0],u=vs().memoizedState;return[l,u]},useMutableSource:p_,useSyncExternalStore:m_,useId:P_,unstable_isNewReconciler:!1};function Fs(l,u){if(l&&l.defaultProps){u=X({},u),l=l.defaultProps;for(var x in l)u[x]===void 0&&(u[x]=l[x]);return u}return u}function Dv(l,u,x,_){u=l.memoizedState,x=x(_,u),x=x==null?u:X({},u,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}var Fg={isMounted:function(l){return(l=l._reactInternals)?gl(l)===l:!1},enqueueSetState:function(l,u,x){l=l._reactInternals;var _=cr(),C=fo(l),M=ta(_,C);M.payload=u,x!=null&&(M.callback=x),u=lo(l,M,C),u!==null&&($s(u,l,C,_),Tg(u,l,C))},enqueueReplaceState:function(l,u,x){l=l._reactInternals;var _=cr(),C=fo(l),M=ta(_,C);M.tag=1,M.payload=u,x!=null&&(M.callback=x),u=lo(l,M,C),u!==null&&($s(u,l,C,_),Tg(u,l,C))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var x=cr(),_=fo(l),C=ta(x,_);C.tag=2,u!=null&&(C.callback=u),u=lo(l,C,_),u!==null&&($s(u,l,_,x),Tg(u,l,_))}};function L_(l,u,x,_,C,M,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,M,G):u.prototype&&u.prototype.isPureReactComponent?!Fh(x,_)||!Fh(C,M):!0}function I_(l,u,x){var _=!1,C=io,M=u.contextType;return typeof M=="object"&&M!==null?M=xs(M):(C=jr(u)?xl:Yn.current,_=u.contextTypes,M=(_=_!=null)?Eu(l,C):io),u=new u(x,M),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Fg,l.stateNode=u,u._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=C,l.__reactInternalMemoizedMaskedChildContext=M),u}function D_(l,u,x,_){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,_),u.state!==l&&Fg.enqueueReplaceState(u,u.state,null)}function Fv(l,u,x,_){var C=l.stateNode;C.props=x,C.state=l.memoizedState,C.refs={},jv(l);var M=u.contextType;typeof M=="object"&&M!==null?C.context=xs(M):(M=jr(u)?xl:Yn.current,C.context=Eu(l,M)),C.state=l.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Dv(l,u,M,x),C.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&Fg.enqueueReplaceState(C,C.state,null),Pg(l,x,C,_),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308)}function Lu(l,u){try{var x="",_=u;do x+=te(_),_=_.return;while(_);var C=x}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:l,source:u,stack:C,digest:null}}function Bv(l,u,x){return{value:l,source:null,stack:x??null,digest:u??null}}function Uv(l,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var zM=typeof WeakMap=="function"?WeakMap:Map;function F_(l,u,x){x=ta(-1,x),x.tag=3,x.payload={element:null};var _=u.value;return x.callback=function(){Hg||(Hg=!0,tb=_),Uv(l,u)},x}function B_(l,u,x){x=ta(-1,x),x.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var C=u.value;x.payload=function(){return _(C)},x.callback=function(){Uv(l,u)}}var M=l.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(x.callback=function(){Uv(l,u),typeof _!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})}),x}function U_(l,u,x){var _=l.pingCache;if(_===null){_=l.pingCache=new zM;var C=new Set;_.set(u,C)}else C=_.get(u),C===void 0&&(C=new Set,_.set(u,C));C.has(x)||(C.add(x),l=sL.bind(null,l,u,x),u.then(l,l))}function $_(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function q_(l,u,x,_,C){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=ta(-1,1),u.tag=2,lo(x,u,1))),x.lanes|=1),l):(l.flags|=65536,l.lanes=C,l)}var HM=S.ReactCurrentOwner,_r=!1;function lr(l,u,x,_){u.child=l===null?l_(u,null,x,_):Pu(u,l.child,x,_)}function V_(l,u,x,_,C){x=x.render;var M=u.ref;return Ru(u,C),_=Pv(l,u,x,_,M,C),x=Ov(),l!==null&&!_r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~C,na(l,u,C)):(Ft&&x&&pv(u),u.flags|=1,lr(l,u,_,C),u.child)}function z_(l,u,x,_,C){if(l===null){var M=x.type;return typeof M=="function"&&!lb(M)&&M.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=M,H_(l,u,M,_,C)):(l=Qg(x.type,null,_,u,u.mode,C),l.ref=u.ref,l.return=u,u.child=l)}if(M=l.child,(l.lanes&C)===0){var G=M.memoizedProps;if(x=x.compare,x=x!==null?x:Fh,x(G,_)&&l.ref===u.ref)return na(l,u,C)}return u.flags|=1,l=mo(M,_),l.ref=u.ref,l.return=u,u.child=l}function H_(l,u,x,_,C){if(l!==null){var M=l.memoizedProps;if(Fh(M,_)&&l.ref===u.ref)if(_r=!1,u.pendingProps=_=M,(l.lanes&C)!==0)(l.flags&131072)!==0&&(_r=!0);else return u.lanes=l.lanes,na(l,u,C)}return $v(l,u,x,_,C)}function W_(l,u,x){var _=u.pendingProps,C=_.children,M=l!==null?l.memoizedState:null;if(_.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Du,Wr),Wr|=x;else{if((x&1073741824)===0)return l=M!==null?M.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Pt(Du,Wr),Wr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=M!==null?M.baseLanes:x,Pt(Du,Wr),Wr|=_}else M!==null?(_=M.baseLanes|x,u.memoizedState=null):_=x,Pt(Du,Wr),Wr|=_;return lr(l,u,C,x),u.child}function G_(l,u){var x=u.ref;(l===null&&x!==null||l!==null&&l.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function $v(l,u,x,_,C){var M=jr(x)?xl:Yn.current;return M=Eu(u,M),Ru(u,C),x=Pv(l,u,x,_,M,C),_=Ov(),l!==null&&!_r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~C,na(l,u,C)):(Ft&&_&&pv(u),u.flags|=1,lr(l,u,x,C),u.child)}function K_(l,u,x,_,C){if(jr(x)){var M=!0;Ng(u)}else M=!1;if(Ru(u,C),u.stateNode===null)Ug(l,u),I_(u,x,_),Fv(u,x,_,C),_=!0;else if(l===null){var G=u.stateNode,ce=u.memoizedProps;G.props=ce;var he=G.context,Ne=x.contextType;typeof Ne=="object"&&Ne!==null?Ne=xs(Ne):(Ne=jr(x)?xl:Yn.current,Ne=Eu(u,Ne));var Ce=x.getDerivedStateFromProps,Te=typeof Ce=="function"||typeof G.getSnapshotBeforeUpdate=="function";Te||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ce!==_||he!==Ne)&&D_(u,G,_,Ne),oo=!1;var ke=u.memoizedState;G.state=ke,Pg(u,_,G,C),he=u.memoizedState,ce!==_||ke!==he||Sr.current||oo?(typeof Ce=="function"&&(Dv(u,x,Ce,_),he=u.memoizedState),(ce=oo||L_(u,x,ce,_,ke,he,Ne))?(Te||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(u.flags|=4194308)):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=he),G.props=_,G.state=he,G.context=Ne,_=ce):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{G=u.stateNode,u_(l,u),ce=u.memoizedProps,Ne=u.type===u.elementType?ce:Fs(u.type,ce),G.props=Ne,Te=u.pendingProps,ke=G.context,he=x.contextType,typeof he=="object"&&he!==null?he=xs(he):(he=jr(x)?xl:Yn.current,he=Eu(u,he));var Fe=x.getDerivedStateFromProps;(Ce=typeof Fe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ce!==Te||ke!==he)&&D_(u,G,_,he),oo=!1,ke=u.memoizedState,G.state=ke,Pg(u,_,G,C);var ze=u.memoizedState;ce!==Te||ke!==ze||Sr.current||oo?(typeof Fe=="function"&&(Dv(u,x,Fe,_),ze=u.memoizedState),(Ne=oo||L_(u,x,Ne,_,ke,ze,he)||!1)?(Ce||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(_,ze,he),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(_,ze,he)),typeof G.componentDidUpdate=="function"&&(u.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof G.componentDidUpdate!="function"||ce===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=ze),G.props=_,G.state=ze,G.context=he,_=Ne):(typeof G.componentDidUpdate!="function"||ce===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),_=!1)}return qv(l,u,x,_,M,C)}function qv(l,u,x,_,C,M){G_(l,u);var G=(u.flags&128)!==0;if(!_&&!G)return C&&Jj(u,x,!1),na(l,u,M);_=u.stateNode,HM.current=u;var ce=G&&typeof x.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,l!==null&&G?(u.child=Pu(u,l.child,null,M),u.child=Pu(u,null,ce,M)):lr(l,u,ce,M),u.memoizedState=_.state,C&&Jj(u,x,!0),u.child}function X_(l){var u=l.stateNode;u.pendingContext?Qj(l,u.pendingContext,u.pendingContext!==u.context):u.context&&Qj(l,u.context,!1),_v(l,u.containerInfo)}function Y_(l,u,x,_,C){return Tu(),xv(C),u.flags|=256,lr(l,u,x,_),u.child}var Vv={dehydrated:null,treeContext:null,retryLane:0};function zv(l){return{baseLanes:l,cachePool:null,transitions:null}}function Q_(l,u,x){var _=u.pendingProps,C=zt.current,M=!1,G=(u.flags&128)!==0,ce;if((ce=G)||(ce=l!==null&&l.memoizedState===null?!1:(C&2)!==0),ce?(M=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(C|=1),Pt(zt,C&1),l===null)return yv(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(G=_.children,l=_.fallback,M?(_=u.mode,M=u.child,G={mode:"hidden",children:G},(_&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=G):M=Zg(G,_,0,null),l=kl(l,_,x,null),M.return=u,l.return=u,M.sibling=l,u.child=M,u.child.memoizedState=zv(x),u.memoizedState=Vv,l):Hv(u,G));if(C=l.memoizedState,C!==null&&(ce=C.dehydrated,ce!==null))return WM(l,u,G,_,ce,C,x);if(M){M=_.fallback,G=u.mode,C=l.child,ce=C.sibling;var he={mode:"hidden",children:_.children};return(G&1)===0&&u.child!==C?(_=u.child,_.childLanes=0,_.pendingProps=he,u.deletions=null):(_=mo(C,he),_.subtreeFlags=C.subtreeFlags&14680064),ce!==null?M=mo(ce,M):(M=kl(M,G,x,null),M.flags|=2),M.return=u,_.return=u,_.sibling=M,u.child=_,_=M,M=u.child,G=l.child.memoizedState,G=G===null?zv(x):{baseLanes:G.baseLanes|x,cachePool:null,transitions:G.transitions},M.memoizedState=G,M.childLanes=l.childLanes&~x,u.memoizedState=Vv,_}return M=l.child,l=M.sibling,_=mo(M,{mode:"visible",children:_.children}),(u.mode&1)===0&&(_.lanes=x),_.return=u,_.sibling=null,l!==null&&(x=u.deletions,x===null?(u.deletions=[l],u.flags|=16):x.push(l)),u.child=_,u.memoizedState=null,_}function Hv(l,u){return u=Zg({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Bg(l,u,x,_){return _!==null&&xv(_),Pu(u,l.child,null,x),l=Hv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function WM(l,u,x,_,C,M,G){if(x)return u.flags&256?(u.flags&=-257,_=Bv(Error(t(422))),Bg(l,u,G,_)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(M=_.fallback,C=u.mode,_=Zg({mode:"visible",children:_.children},C,0,null),M=kl(M,C,G,null),M.flags|=2,_.return=u,M.return=u,_.sibling=M,u.child=_,(u.mode&1)!==0&&Pu(u,l.child,null,G),u.child.memoizedState=zv(G),u.memoizedState=Vv,M);if((u.mode&1)===0)return Bg(l,u,G,null);if(C.data==="$!"){if(_=C.nextSibling&&C.nextSibling.dataset,_)var ce=_.dgst;return _=ce,M=Error(t(419)),_=Bv(M,_,void 0),Bg(l,u,G,_)}if(ce=(G&l.childLanes)!==0,_r||ce){if(_=kn,_!==null){switch(G&-G){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(_.suspendedLanes|G))!==0?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,ea(l,C),$s(_,l,C,-1))}return ob(),_=Bv(Error(t(421))),Bg(l,u,G,_)}return C.data==="$?"?(u.flags|=128,u.child=l.child,u=iL.bind(null,l),C._reactRetry=u,null):(l=M.treeContext,Hr=ro(C.nextSibling),zr=u,Ft=!0,Ds=null,l!==null&&(gs[ys++]=Zi,gs[ys++]=Ji,gs[ys++]=vl,Zi=l.id,Ji=l.overflow,vl=u),u=Hv(u,_.children),u.flags|=4096,u)}function Z_(l,u,x){l.lanes|=u;var _=l.alternate;_!==null&&(_.lanes|=u),Nv(l.return,u,x)}function Wv(l,u,x,_,C){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:C}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=_,M.tail=x,M.tailMode=C)}function J_(l,u,x){var _=u.pendingProps,C=_.revealOrder,M=_.tail;if(lr(l,u,_.children,x),_=zt.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Z_(l,x,u);else if(l.tag===19)Z_(l,x,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(Pt(zt,_),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(x=u.child,C=null;x!==null;)l=x.alternate,l!==null&&Og(l)===null&&(C=x),x=x.sibling;x=C,x===null?(C=u.child,u.child=null):(C=x.sibling,x.sibling=null),Wv(u,!1,C,x,M);break;case"backwards":for(x=null,C=u.child,u.child=null;C!==null;){if(l=C.alternate,l!==null&&Og(l)===null){u.child=C;break}l=C.sibling,C.sibling=x,x=C,C=l}Wv(u,!0,x,null,M);break;case"together":Wv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ug(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function na(l,u,x){if(l!==null&&(u.dependencies=l.dependencies),jl|=u.lanes,(x&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,x=mo(l,l.pendingProps),u.child=x,x.return=u;l.sibling!==null;)l=l.sibling,x=x.sibling=mo(l,l.pendingProps),x.return=u;x.sibling=null}return u.child}function GM(l,u,x){switch(u.tag){case 3:X_(u),Tu();break;case 5:f_(u);break;case 1:jr(u.type)&&Ng(u);break;case 4:_v(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,C=u.memoizedProps.value;Pt(kg,_._currentValue),_._currentValue=C;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(Pt(zt,zt.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?Q_(l,u,x):(Pt(zt,zt.current&1),l=na(l,u,x),l!==null?l.sibling:null);Pt(zt,zt.current&1);break;case 19:if(_=(x&u.childLanes)!==0,(l.flags&128)!==0){if(_)return J_(l,u,x);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Pt(zt,zt.current),_)break;return null;case 22:case 23:return u.lanes=0,W_(l,u,x)}return na(l,u,x)}var eA,Gv,tA,nA;eA=function(l,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Gv=function(){},tA=function(l,u,x,_){var C=l.memoizedProps;if(C!==_){l=u.stateNode,Nl(mi.current);var M=null;switch(x){case"input":C=de(l,C),_=de(l,_),M=[];break;case"select":C=X({},C,{value:void 0}),_=X({},_,{value:void 0}),M=[];break;case"textarea":C=re(l,C),_=re(l,_),M=[];break;default:typeof C.onClick!="function"&&typeof _.onClick=="function"&&(l.onclick=vg)}pu(x,_);var G;x=null;for(Ne in C)if(!_.hasOwnProperty(Ne)&&C.hasOwnProperty(Ne)&&C[Ne]!=null)if(Ne==="style"){var ce=C[Ne];for(G in ce)ce.hasOwnProperty(G)&&(x||(x={}),x[G]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(s.hasOwnProperty(Ne)?M||(M=[]):(M=M||[]).push(Ne,null));for(Ne in _){var he=_[Ne];if(ce=C!=null?C[Ne]:void 0,_.hasOwnProperty(Ne)&&he!==ce&&(he!=null||ce!=null))if(Ne==="style")if(ce){for(G in ce)!ce.hasOwnProperty(G)||he&&he.hasOwnProperty(G)||(x||(x={}),x[G]="");for(G in he)he.hasOwnProperty(G)&&ce[G]!==he[G]&&(x||(x={}),x[G]=he[G])}else x||(M||(M=[]),M.push(Ne,x)),x=he;else Ne==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ce=ce?ce.__html:void 0,he!=null&&ce!==he&&(M=M||[]).push(Ne,he)):Ne==="children"?typeof he!="string"&&typeof he!="number"||(M=M||[]).push(Ne,""+he):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ne)?(he!=null&&Ne==="onScroll"&&Lt("scroll",l),M||ce===he||(M=[])):(M=M||[]).push(Ne,he))}x&&(M=M||[]).push("style",x);var Ne=M;(u.updateQueue=Ne)&&(u.flags|=4)}},nA=function(l,u,x,_){x!==_&&(u.flags|=4)};function Jh(l,u){if(!Ft)switch(l.tailMode){case"hidden":u=l.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function Zn(l){var u=l.alternate!==null&&l.alternate.child===l.child,x=0,_=0;if(u)for(var C=l.child;C!==null;)x|=C.lanes|C.childLanes,_|=C.subtreeFlags&14680064,_|=C.flags&14680064,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)x|=C.lanes|C.childLanes,_|=C.subtreeFlags,_|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=_,l.childLanes=x,u}function KM(l,u,x){var _=u.pendingProps;switch(mv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(u),null;case 1:return jr(u.type)&&wg(),Zn(u),null;case 3:return _=u.stateNode,Mu(),It(Sr),It(Yn),kv(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(Ag(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ds!==null&&(sb(Ds),Ds=null))),Gv(l,u),Zn(u),null;case 5:Av(u);var C=Nl(Kh.current);if(x=u.type,l!==null&&u.stateNode!=null)tA(l,u,x,_,C),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(t(166));return Zn(u),null}if(l=Nl(mi.current),Ag(u)){_=u.stateNode,x=u.type;var M=u.memoizedProps;switch(_[pi]=u,_[Vh]=M,l=(u.mode&1)!==0,x){case"dialog":Lt("cancel",_),Lt("close",_);break;case"iframe":case"object":case"embed":Lt("load",_);break;case"video":case"audio":for(C=0;C<Uh.length;C++)Lt(Uh[C],_);break;case"source":Lt("error",_);break;case"img":case"image":case"link":Lt("error",_),Lt("load",_);break;case"details":Lt("toggle",_);break;case"input":_e(_,M),Lt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!M.multiple},Lt("invalid",_);break;case"textarea":B(_,M),Lt("invalid",_)}pu(x,M),C=null;for(var G in M)if(M.hasOwnProperty(G)){var ce=M[G];G==="children"?typeof ce=="string"?_.textContent!==ce&&(M.suppressHydrationWarning!==!0&&xg(_.textContent,ce,l),C=["children",ce]):typeof ce=="number"&&_.textContent!==""+ce&&(M.suppressHydrationWarning!==!0&&xg(_.textContent,ce,l),C=["children",""+ce]):s.hasOwnProperty(G)&&ce!=null&&G==="onScroll"&&Lt("scroll",_)}switch(x){case"input":Ae(_),we(_,M,!0);break;case"textarea":Ae(_),ae(_);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(_.onclick=vg)}_=C,u.updateQueue=_,_!==null&&(u.flags|=4)}else{G=C.nodeType===9?C:C.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=xe(x)),l==="http://www.w3.org/1999/xhtml"?x==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof _.is=="string"?l=G.createElement(x,{is:_.is}):(l=G.createElement(x),x==="select"&&(G=l,_.multiple?G.multiple=!0:_.size&&(G.size=_.size))):l=G.createElementNS(l,x),l[pi]=u,l[Vh]=_,eA(l,u,!1,!1),u.stateNode=l;e:{switch(G=Nh(x,_),x){case"dialog":Lt("cancel",l),Lt("close",l),C=_;break;case"iframe":case"object":case"embed":Lt("load",l),C=_;break;case"video":case"audio":for(C=0;C<Uh.length;C++)Lt(Uh[C],l);C=_;break;case"source":Lt("error",l),C=_;break;case"img":case"image":case"link":Lt("error",l),Lt("load",l),C=_;break;case"details":Lt("toggle",l),C=_;break;case"input":_e(l,_),C=de(l,_),Lt("invalid",l);break;case"option":C=_;break;case"select":l._wrapperState={wasMultiple:!!_.multiple},C=X({},_,{value:void 0}),Lt("invalid",l);break;case"textarea":B(l,_),C=re(l,_),Lt("invalid",l);break;default:C=_}pu(x,C),ce=C;for(M in ce)if(ce.hasOwnProperty(M)){var he=ce[M];M==="style"?fu(l,he):M==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&lt(l,he)):M==="children"?typeof he=="string"?(x!=="textarea"||he!=="")&&ft(l,he):typeof he=="number"&&ft(l,""+he):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?he!=null&&M==="onScroll"&&Lt("scroll",l):he!=null&&E(l,M,he,G))}switch(x){case"input":Ae(l),we(l,_,!1);break;case"textarea":Ae(l),ae(l);break;case"option":_.value!=null&&l.setAttribute("value",""+ue(_.value));break;case"select":l.multiple=!!_.multiple,M=_.value,M!=null?ee(l,!!_.multiple,M,!1):_.defaultValue!=null&&ee(l,!!_.multiple,_.defaultValue,!0);break;default:typeof C.onClick=="function"&&(l.onclick=vg)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zn(u),null;case 6:if(l&&u.stateNode!=null)nA(l,u,l.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(t(166));if(x=Nl(Kh.current),Nl(mi.current),Ag(u)){if(_=u.stateNode,x=u.memoizedProps,_[pi]=u,(M=_.nodeValue!==x)&&(l=zr,l!==null))switch(l.tag){case 3:xg(_.nodeValue,x,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&xg(_.nodeValue,x,(l.mode&1)!==0)}M&&(u.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[pi]=u,u.stateNode=_}return Zn(u),null;case 13:if(It(zt),_=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ft&&Hr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)i_(),Tu(),u.flags|=98560,M=!1;else if(M=Ag(u),_!==null&&_.dehydrated!==null){if(l===null){if(!M)throw Error(t(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[pi]=u}else Tu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zn(u),M=!1}else Ds!==null&&(sb(Ds),Ds=null),M=!0;if(!M)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(_=_!==null,_!==(l!==null&&l.memoizedState!==null)&&_&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(zt.current&1)!==0?bn===0&&(bn=3):ob())),u.updateQueue!==null&&(u.flags|=4),Zn(u),null);case 4:return Mu(),Gv(l,u),l===null&&$h(u.stateNode.containerInfo),Zn(u),null;case 10:return wv(u.type._context),Zn(u),null;case 17:return jr(u.type)&&wg(),Zn(u),null;case 19:if(It(zt),M=u.memoizedState,M===null)return Zn(u),null;if(_=(u.flags&128)!==0,G=M.rendering,G===null)if(_)Jh(M,!1);else{if(bn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(G=Og(l),G!==null){for(u.flags|=128,Jh(M,!1),_=G.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=x,x=u.child;x!==null;)M=x,l=_,M.flags&=14680066,G=M.alternate,G===null?(M.childLanes=0,M.lanes=l,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=G.childLanes,M.lanes=G.lanes,M.child=G.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=G.memoizedProps,M.memoizedState=G.memoizedState,M.updateQueue=G.updateQueue,M.type=G.type,l=G.dependencies,M.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),x=x.sibling;return Pt(zt,zt.current&1|2),u.child}l=l.sibling}M.tail!==null&&nn()>Fu&&(u.flags|=128,_=!0,Jh(M,!1),u.lanes=4194304)}else{if(!_)if(l=Og(G),l!==null){if(u.flags|=128,_=!0,x=l.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),Jh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!G.alternate&&!Ft)return Zn(u),null}else 2*nn()-M.renderingStartTime>Fu&&x!==1073741824&&(u.flags|=128,_=!0,Jh(M,!1),u.lanes=4194304);M.isBackwards?(G.sibling=u.child,u.child=G):(x=M.last,x!==null?x.sibling=G:u.child=G,M.last=G)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=nn(),u.sibling=null,x=zt.current,Pt(zt,_?x&1|2:x&1),u):(Zn(u),null);case 22:case 23:return ab(),_=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==_&&(u.flags|=8192),_&&(u.mode&1)!==0?(Wr&1073741824)!==0&&(Zn(u),u.subtreeFlags&6&&(u.flags|=8192)):Zn(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function XM(l,u){switch(mv(u),u.tag){case 1:return jr(u.type)&&wg(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Mu(),It(Sr),It(Yn),kv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Av(u),null;case 13:if(It(zt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Tu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return It(zt),null;case 4:return Mu(),null;case 10:return wv(u.type._context),null;case 22:case 23:return ab(),null;case 24:return null;default:return null}}var $g=!1,Jn=!1,YM=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Iu(l,u){var x=l.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){Zt(l,u,_)}else x.current=null}function Kv(l,u,x){try{x()}catch(_){Zt(l,u,_)}}var rA=!1;function QM(l,u){if(av=og,l=Lj(),Zx(l)){if("selectionStart"in l)var x={start:l.selectionStart,end:l.selectionEnd};else e:{x=(x=l.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var C=_.anchorOffset,M=_.focusNode;_=_.focusOffset;try{x.nodeType,M.nodeType}catch{x=null;break e}var G=0,ce=-1,he=-1,Ne=0,Ce=0,Te=l,ke=null;t:for(;;){for(var Fe;Te!==x||C!==0&&Te.nodeType!==3||(ce=G+C),Te!==M||_!==0&&Te.nodeType!==3||(he=G+_),Te.nodeType===3&&(G+=Te.nodeValue.length),(Fe=Te.firstChild)!==null;)ke=Te,Te=Fe;for(;;){if(Te===l)break t;if(ke===x&&++Ne===C&&(ce=G),ke===M&&++Ce===_&&(he=G),(Fe=Te.nextSibling)!==null)break;Te=ke,ke=Te.parentNode}Te=Fe}x=ce===-1||he===-1?null:{start:ce,end:he}}else x=null}x=x||{start:0,end:0}}else x=null;for(ov={focusedElem:l,selectionRange:x},og=!1,qe=u;qe!==null;)if(u=qe,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,qe=l;else for(;qe!==null;){u=qe;try{var ze=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var We=ze.memoizedProps,rn=ze.memoizedState,ye=u.stateNode,pe=ye.getSnapshotBeforeUpdate(u.elementType===u.type?We:Fs(u.type,We),rn);ye.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var be=u.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Le){Zt(u,u.return,Le)}if(l=u.sibling,l!==null){l.return=u.return,qe=l;break}qe=u.return}return ze=rA,rA=!1,ze}function ef(l,u,x){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var C=_=_.next;do{if((C.tag&l)===l){var M=C.destroy;C.destroy=void 0,M!==void 0&&Kv(u,x,M)}C=C.next}while(C!==_)}}function qg(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&l)===l){var _=x.create;x.destroy=_()}x=x.next}while(x!==u)}}function Xv(l){var u=l.ref;if(u!==null){var x=l.stateNode;switch(l.tag){case 5:l=x;break;default:l=x}typeof u=="function"?u(l):u.current=l}}function sA(l){var u=l.alternate;u!==null&&(l.alternate=null,sA(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[pi],delete u[Vh],delete u[dv],delete u[RM],delete u[MM])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function iA(l){return l.tag===5||l.tag===3||l.tag===4}function aA(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||iA(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Yv(l,u,x){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(l,u):x.insertBefore(l,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(l,x)):(u=x,u.appendChild(l)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=vg));else if(_!==4&&(l=l.child,l!==null))for(Yv(l,u,x),l=l.sibling;l!==null;)Yv(l,u,x),l=l.sibling}function Qv(l,u,x){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?x.insertBefore(l,u):x.appendChild(l);else if(_!==4&&(l=l.child,l!==null))for(Qv(l,u,x),l=l.sibling;l!==null;)Qv(l,u,x),l=l.sibling}var Dn=null,Bs=!1;function co(l,u,x){for(x=x.child;x!==null;)oA(l,u,x),x=x.sibling}function oA(l,u,x){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(tg,x)}catch{}switch(x.tag){case 5:Jn||Iu(x,u);case 6:var _=Dn,C=Bs;Dn=null,co(l,u,x),Dn=_,Bs=C,Dn!==null&&(Bs?(l=Dn,x=x.stateNode,l.nodeType===8?l.parentNode.removeChild(x):l.removeChild(x)):Dn.removeChild(x.stateNode));break;case 18:Dn!==null&&(Bs?(l=Dn,x=x.stateNode,l.nodeType===8?uv(l.parentNode,x):l.nodeType===1&&uv(l,x),Oh(l)):uv(Dn,x.stateNode));break;case 4:_=Dn,C=Bs,Dn=x.stateNode.containerInfo,Bs=!0,co(l,u,x),Dn=_,Bs=C;break;case 0:case 11:case 14:case 15:if(!Jn&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){C=_=_.next;do{var M=C,G=M.destroy;M=M.tag,G!==void 0&&((M&2)!==0||(M&4)!==0)&&Kv(x,u,G),C=C.next}while(C!==_)}co(l,u,x);break;case 1:if(!Jn&&(Iu(x,u),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(ce){Zt(x,u,ce)}co(l,u,x);break;case 21:co(l,u,x);break;case 22:x.mode&1?(Jn=(_=Jn)||x.memoizedState!==null,co(l,u,x),Jn=_):co(l,u,x);break;default:co(l,u,x)}}function lA(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var x=l.stateNode;x===null&&(x=l.stateNode=new YM),u.forEach(function(_){var C=aL.bind(null,l,_);x.has(_)||(x.add(_),_.then(C,C))})}}function Us(l,u){var x=u.deletions;if(x!==null)for(var _=0;_<x.length;_++){var C=x[_];try{var M=l,G=u,ce=G;e:for(;ce!==null;){switch(ce.tag){case 5:Dn=ce.stateNode,Bs=!1;break e;case 3:Dn=ce.stateNode.containerInfo,Bs=!0;break e;case 4:Dn=ce.stateNode.containerInfo,Bs=!0;break e}ce=ce.return}if(Dn===null)throw Error(t(160));oA(M,G,C),Dn=null,Bs=!1;var he=C.alternate;he!==null&&(he.return=null),C.return=null}catch(Ne){Zt(C,u,Ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)cA(u,l),u=u.sibling}function cA(l,u){var x=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Us(u,l),yi(l),_&4){try{ef(3,l,l.return),qg(3,l)}catch(We){Zt(l,l.return,We)}try{ef(5,l,l.return)}catch(We){Zt(l,l.return,We)}}break;case 1:Us(u,l),yi(l),_&512&&x!==null&&Iu(x,x.return);break;case 5:if(Us(u,l),yi(l),_&512&&x!==null&&Iu(x,x.return),l.flags&32){var C=l.stateNode;try{ft(C,"")}catch(We){Zt(l,l.return,We)}}if(_&4&&(C=l.stateNode,C!=null)){var M=l.memoizedProps,G=x!==null?x.memoizedProps:M,ce=l.type,he=l.updateQueue;if(l.updateQueue=null,he!==null)try{ce==="input"&&M.type==="radio"&&M.name!=null&&Oe(C,M),Nh(ce,G);var Ne=Nh(ce,M);for(G=0;G<he.length;G+=2){var Ce=he[G],Te=he[G+1];Ce==="style"?fu(C,Te):Ce==="dangerouslySetInnerHTML"?lt(C,Te):Ce==="children"?ft(C,Te):E(C,Ce,Te,Ne)}switch(ce){case"input":Be(C,M);break;case"textarea":J(C,M);break;case"select":var ke=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var Fe=M.value;Fe!=null?ee(C,!!M.multiple,Fe,!1):ke!==!!M.multiple&&(M.defaultValue!=null?ee(C,!!M.multiple,M.defaultValue,!0):ee(C,!!M.multiple,M.multiple?[]:"",!1))}C[Vh]=M}catch(We){Zt(l,l.return,We)}}break;case 6:if(Us(u,l),yi(l),_&4){if(l.stateNode===null)throw Error(t(162));C=l.stateNode,M=l.memoizedProps;try{C.nodeValue=M}catch(We){Zt(l,l.return,We)}}break;case 3:if(Us(u,l),yi(l),_&4&&x!==null&&x.memoizedState.isDehydrated)try{Oh(u.containerInfo)}catch(We){Zt(l,l.return,We)}break;case 4:Us(u,l),yi(l);break;case 13:Us(u,l),yi(l),C=l.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(eb=nn())),_&4&&lA(l);break;case 22:if(Ce=x!==null&&x.memoizedState!==null,l.mode&1?(Jn=(Ne=Jn)||Ce,Us(u,l),Jn=Ne):Us(u,l),yi(l),_&8192){if(Ne=l.memoizedState!==null,(l.stateNode.isHidden=Ne)&&!Ce&&(l.mode&1)!==0)for(qe=l,Ce=l.child;Ce!==null;){for(Te=qe=Ce;qe!==null;){switch(ke=qe,Fe=ke.child,ke.tag){case 0:case 11:case 14:case 15:ef(4,ke,ke.return);break;case 1:Iu(ke,ke.return);var ze=ke.stateNode;if(typeof ze.componentWillUnmount=="function"){_=ke,x=ke.return;try{u=_,ze.props=u.memoizedProps,ze.state=u.memoizedState,ze.componentWillUnmount()}catch(We){Zt(_,x,We)}}break;case 5:Iu(ke,ke.return);break;case 22:if(ke.memoizedState!==null){hA(Te);continue}}Fe!==null?(Fe.return=ke,qe=Fe):hA(Te)}Ce=Ce.sibling}e:for(Ce=null,Te=l;;){if(Te.tag===5){if(Ce===null){Ce=Te;try{C=Te.stateNode,Ne?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ce=Te.stateNode,he=Te.memoizedProps.style,G=he!=null&&he.hasOwnProperty("display")?he.display:null,ce.style.display=hu("display",G))}catch(We){Zt(l,l.return,We)}}}else if(Te.tag===6){if(Ce===null)try{Te.stateNode.nodeValue=Ne?"":Te.memoizedProps}catch(We){Zt(l,l.return,We)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===l)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===l)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===l)break e;Ce===Te&&(Ce=null),Te=Te.return}Ce===Te&&(Ce=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Us(u,l),yi(l),_&4&&lA(l);break;case 21:break;default:Us(u,l),yi(l)}}function yi(l){var u=l.flags;if(u&2){try{e:{for(var x=l.return;x!==null;){if(iA(x)){var _=x;break e}x=x.return}throw Error(t(160))}switch(_.tag){case 5:var C=_.stateNode;_.flags&32&&(ft(C,""),_.flags&=-33);var M=aA(l);Qv(l,M,C);break;case 3:case 4:var G=_.stateNode.containerInfo,ce=aA(l);Yv(l,ce,G);break;default:throw Error(t(161))}}catch(he){Zt(l,l.return,he)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function ZM(l,u,x){qe=l,uA(l)}function uA(l,u,x){for(var _=(l.mode&1)!==0;qe!==null;){var C=qe,M=C.child;if(C.tag===22&&_){var G=C.memoizedState!==null||$g;if(!G){var ce=C.alternate,he=ce!==null&&ce.memoizedState!==null||Jn;ce=$g;var Ne=Jn;if($g=G,(Jn=he)&&!Ne)for(qe=C;qe!==null;)G=qe,he=G.child,G.tag===22&&G.memoizedState!==null?fA(C):he!==null?(he.return=G,qe=he):fA(C);for(;M!==null;)qe=M,uA(M),M=M.sibling;qe=C,$g=ce,Jn=Ne}dA(l)}else(C.subtreeFlags&8772)!==0&&M!==null?(M.return=C,qe=M):dA(l)}}function dA(l){for(;qe!==null;){var u=qe;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Jn||qg(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!Jn)if(x===null)_.componentDidMount();else{var C=u.elementType===u.type?x.memoizedProps:Fs(u.type,x.memoizedProps);_.componentDidUpdate(C,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var M=u.updateQueue;M!==null&&h_(u,M,_);break;case 3:var G=u.updateQueue;if(G!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}h_(u,G,x)}break;case 5:var ce=u.stateNode;if(x===null&&u.flags&4){x=ce;var he=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&x.focus();break;case"img":he.src&&(x.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ne=u.alternate;if(Ne!==null){var Ce=Ne.memoizedState;if(Ce!==null){var Te=Ce.dehydrated;Te!==null&&Oh(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jn||u.flags&512&&Xv(u)}catch(ke){Zt(u,u.return,ke)}}if(u===l){qe=null;break}if(x=u.sibling,x!==null){x.return=u.return,qe=x;break}qe=u.return}}function hA(l){for(;qe!==null;){var u=qe;if(u===l){qe=null;break}var x=u.sibling;if(x!==null){x.return=u.return,qe=x;break}qe=u.return}}function fA(l){for(;qe!==null;){var u=qe;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{qg(4,u)}catch(he){Zt(u,x,he)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var C=u.return;try{_.componentDidMount()}catch(he){Zt(u,C,he)}}var M=u.return;try{Xv(u)}catch(he){Zt(u,M,he)}break;case 5:var G=u.return;try{Xv(u)}catch(he){Zt(u,G,he)}}}catch(he){Zt(u,u.return,he)}if(u===l){qe=null;break}var ce=u.sibling;if(ce!==null){ce.return=u.return,qe=ce;break}qe=u.return}}var JM=Math.ceil,Vg=S.ReactCurrentDispatcher,Zv=S.ReactCurrentOwner,bs=S.ReactCurrentBatchConfig,mt=0,kn=null,un=null,Fn=0,Wr=0,Du=so(0),bn=0,tf=null,jl=0,zg=0,Jv=0,nf=null,Ar=null,eb=0,Fu=1/0,ra=null,Hg=!1,tb=null,uo=null,Wg=!1,ho=null,Gg=0,rf=0,nb=null,Kg=-1,Xg=0;function cr(){return(mt&6)!==0?nn():Kg!==-1?Kg:Kg=nn()}function fo(l){return(l.mode&1)===0?1:(mt&2)!==0&&Fn!==0?Fn&-Fn:IM.transition!==null?(Xg===0&&(Xg=aj()),Xg):(l=Nt,l!==0||(l=window.event,l=l===void 0?16:mj(l.type)),l)}function $s(l,u,x,_){if(50<rf)throw rf=0,nb=null,Error(t(185));Eh(l,x,_),((mt&2)===0||l!==kn)&&(l===kn&&((mt&2)===0&&(zg|=x),bn===4&&po(l,Fn)),Er(l,_),x===1&&mt===0&&(u.mode&1)===0&&(Fu=nn()+500,Sg&&ao()))}function Er(l,u){var x=l.callbackNode;IR(l,u);var _=sg(l,l===kn?Fn:0);if(_===0)x!==null&&rj(x),l.callbackNode=null,l.callbackPriority=0;else if(u=_&-_,l.callbackPriority!==u){if(x!=null&&rj(x),u===1)l.tag===0?LM(mA.bind(null,l)):e_(mA.bind(null,l)),PM(function(){(mt&6)===0&&ao()}),x=null;else{switch(oj(_)){case 1:x=Lx;break;case 4:x=sj;break;case 16:x=eg;break;case 536870912:x=ij;break;default:x=eg}x=SA(x,pA.bind(null,l))}l.callbackPriority=u,l.callbackNode=x}}function pA(l,u){if(Kg=-1,Xg=0,(mt&6)!==0)throw Error(t(327));var x=l.callbackNode;if(Bu()&&l.callbackNode!==x)return null;var _=sg(l,l===kn?Fn:0);if(_===0)return null;if((_&30)!==0||(_&l.expiredLanes)!==0||u)u=Yg(l,_);else{u=_;var C=mt;mt|=2;var M=yA();(kn!==l||Fn!==u)&&(ra=null,Fu=nn()+500,Al(l,u));do try{nL();break}catch(ce){gA(l,ce)}while(!0);bv(),Vg.current=M,mt=C,un!==null?u=0:(kn=null,Fn=0,u=bn)}if(u!==0){if(u===2&&(C=Ix(l),C!==0&&(_=C,u=rb(l,C))),u===1)throw x=tf,Al(l,0),po(l,_),Er(l,nn()),x;if(u===6)po(l,_);else{if(C=l.current.alternate,(_&30)===0&&!eL(C)&&(u=Yg(l,_),u===2&&(M=Ix(l),M!==0&&(_=M,u=rb(l,M))),u===1))throw x=tf,Al(l,0),po(l,_),Er(l,nn()),x;switch(l.finishedWork=C,l.finishedLanes=_,u){case 0:case 1:throw Error(t(345));case 2:El(l,Ar,ra);break;case 3:if(po(l,_),(_&130023424)===_&&(u=eb+500-nn(),10<u)){if(sg(l,0)!==0)break;if(C=l.suspendedLanes,(C&_)!==_){cr(),l.pingedLanes|=l.suspendedLanes&C;break}l.timeoutHandle=cv(El.bind(null,l,Ar,ra),u);break}El(l,Ar,ra);break;case 4:if(po(l,_),(_&4194240)===_)break;for(u=l.eventTimes,C=-1;0<_;){var G=31-Ls(_);M=1<<G,G=u[G],G>C&&(C=G),_&=~M}if(_=C,_=nn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*JM(_/1960))-_,10<_){l.timeoutHandle=cv(El.bind(null,l,Ar,ra),_);break}El(l,Ar,ra);break;case 5:El(l,Ar,ra);break;default:throw Error(t(329))}}}return Er(l,nn()),l.callbackNode===x?pA.bind(null,l):null}function rb(l,u){var x=nf;return l.current.memoizedState.isDehydrated&&(Al(l,u).flags|=256),l=Yg(l,u),l!==2&&(u=Ar,Ar=x,u!==null&&sb(u)),l}function sb(l){Ar===null?Ar=l:Ar.push.apply(Ar,l)}function eL(l){for(var u=l;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var C=x[_],M=C.getSnapshot;C=C.value;try{if(!Is(M(),C))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function po(l,u){for(u&=~Jv,u&=~zg,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var x=31-Ls(u),_=1<<x;l[x]=-1,u&=~_}}function mA(l){if((mt&6)!==0)throw Error(t(327));Bu();var u=sg(l,0);if((u&1)===0)return Er(l,nn()),null;var x=Yg(l,u);if(l.tag!==0&&x===2){var _=Ix(l);_!==0&&(u=_,x=rb(l,_))}if(x===1)throw x=tf,Al(l,0),po(l,u),Er(l,nn()),x;if(x===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,El(l,Ar,ra),Er(l,nn()),null}function ib(l,u){var x=mt;mt|=1;try{return l(u)}finally{mt=x,mt===0&&(Fu=nn()+500,Sg&&ao())}}function _l(l){ho!==null&&ho.tag===0&&(mt&6)===0&&Bu();var u=mt;mt|=1;var x=bs.transition,_=Nt;try{if(bs.transition=null,Nt=1,l)return l()}finally{Nt=_,bs.transition=x,mt=u,(mt&6)===0&&ao()}}function ab(){Wr=Du.current,It(Du)}function Al(l,u){l.finishedWork=null,l.finishedLanes=0;var x=l.timeoutHandle;if(x!==-1&&(l.timeoutHandle=-1,TM(x)),un!==null)for(x=un.return;x!==null;){var _=x;switch(mv(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&wg();break;case 3:Mu(),It(Sr),It(Yn),kv();break;case 5:Av(_);break;case 4:Mu();break;case 13:It(zt);break;case 19:It(zt);break;case 10:wv(_.type._context);break;case 22:case 23:ab()}x=x.return}if(kn=l,un=l=mo(l.current,null),Fn=Wr=u,bn=0,tf=null,Jv=zg=jl=0,Ar=nf=null,wl!==null){for(u=0;u<wl.length;u++)if(x=wl[u],_=x.interleaved,_!==null){x.interleaved=null;var C=_.next,M=x.pending;if(M!==null){var G=M.next;M.next=C,_.next=G}x.pending=_}wl=null}return l}function gA(l,u){do{var x=un;try{if(bv(),Rg.current=Dg,Mg){for(var _=Ht.memoizedState;_!==null;){var C=_.queue;C!==null&&(C.pending=null),_=_.next}Mg=!1}if(Sl=0,En=vn=Ht=null,Xh=!1,Yh=0,Zv.current=null,x===null||x.return===null){bn=1,tf=u,un=null;break}e:{var M=l,G=x.return,ce=x,he=u;if(u=Fn,ce.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ne=he,Ce=ce,Te=Ce.tag;if((Ce.mode&1)===0&&(Te===0||Te===11||Te===15)){var ke=Ce.alternate;ke?(Ce.updateQueue=ke.updateQueue,Ce.memoizedState=ke.memoizedState,Ce.lanes=ke.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Fe=$_(G);if(Fe!==null){Fe.flags&=-257,q_(Fe,G,ce,M,u),Fe.mode&1&&U_(M,Ne,u),u=Fe,he=Ne;var ze=u.updateQueue;if(ze===null){var We=new Set;We.add(he),u.updateQueue=We}else ze.add(he);break e}else{if((u&1)===0){U_(M,Ne,u),ob();break e}he=Error(t(426))}}else if(Ft&&ce.mode&1){var rn=$_(G);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),q_(rn,G,ce,M,u),xv(Lu(he,ce));break e}}M=he=Lu(he,ce),bn!==4&&(bn=2),nf===null?nf=[M]:nf.push(M),M=G;do{switch(M.tag){case 3:M.flags|=65536,u&=-u,M.lanes|=u;var ye=F_(M,he,u);d_(M,ye);break e;case 1:ce=he;var pe=M.type,be=M.stateNode;if((M.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(uo===null||!uo.has(be)))){M.flags|=65536,u&=-u,M.lanes|=u;var Le=B_(M,ce,u);d_(M,Le);break e}}M=M.return}while(M!==null)}vA(x)}catch(Ge){u=Ge,un===x&&x!==null&&(un=x=x.return);continue}break}while(!0)}function yA(){var l=Vg.current;return Vg.current=Dg,l===null?Dg:l}function ob(){(bn===0||bn===3||bn===2)&&(bn=4),kn===null||(jl&268435455)===0&&(zg&268435455)===0||po(kn,Fn)}function Yg(l,u){var x=mt;mt|=2;var _=yA();(kn!==l||Fn!==u)&&(ra=null,Al(l,u));do try{tL();break}catch(C){gA(l,C)}while(!0);if(bv(),mt=x,Vg.current=_,un!==null)throw Error(t(261));return kn=null,Fn=0,bn}function tL(){for(;un!==null;)xA(un)}function nL(){for(;un!==null&&!ER();)xA(un)}function xA(l){var u=NA(l.alternate,l,Wr);l.memoizedProps=l.pendingProps,u===null?vA(l):un=u,Zv.current=null}function vA(l){var u=l;do{var x=u.alternate;if(l=u.return,(u.flags&32768)===0){if(x=KM(x,u,Wr),x!==null){un=x;return}}else{if(x=XM(x,u),x!==null){x.flags&=32767,un=x;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{bn=6,un=null;return}}if(u=u.sibling,u!==null){un=u;return}un=u=l}while(u!==null);bn===0&&(bn=5)}function El(l,u,x){var _=Nt,C=bs.transition;try{bs.transition=null,Nt=1,rL(l,u,x,_)}finally{bs.transition=C,Nt=_}return null}function rL(l,u,x,_){do Bu();while(ho!==null);if((mt&6)!==0)throw Error(t(327));x=l.finishedWork;var C=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var M=x.lanes|x.childLanes;if(DR(l,M),l===kn&&(un=kn=null,Fn=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Wg||(Wg=!0,SA(eg,function(){return Bu(),null})),M=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||M){M=bs.transition,bs.transition=null;var G=Nt;Nt=1;var ce=mt;mt|=4,Zv.current=null,QM(l,x),cA(x,l),SM(ov),og=!!av,ov=av=null,l.current=x,ZM(x),kR(),mt=ce,Nt=G,bs.transition=M}else l.current=x;if(Wg&&(Wg=!1,ho=l,Gg=C),M=l.pendingLanes,M===0&&(uo=null),PR(x.stateNode),Er(l,nn()),u!==null)for(_=l.onRecoverableError,x=0;x<u.length;x++)C=u[x],_(C.value,{componentStack:C.stack,digest:C.digest});if(Hg)throw Hg=!1,l=tb,tb=null,l;return(Gg&1)!==0&&l.tag!==0&&Bu(),M=l.pendingLanes,(M&1)!==0?l===nb?rf++:(rf=0,nb=l):rf=0,ao(),null}function Bu(){if(ho!==null){var l=oj(Gg),u=bs.transition,x=Nt;try{if(bs.transition=null,Nt=16>l?16:l,ho===null)var _=!1;else{if(l=ho,ho=null,Gg=0,(mt&6)!==0)throw Error(t(331));var C=mt;for(mt|=4,qe=l.current;qe!==null;){var M=qe,G=M.child;if((qe.flags&16)!==0){var ce=M.deletions;if(ce!==null){for(var he=0;he<ce.length;he++){var Ne=ce[he];for(qe=Ne;qe!==null;){var Ce=qe;switch(Ce.tag){case 0:case 11:case 15:ef(8,Ce,M)}var Te=Ce.child;if(Te!==null)Te.return=Ce,qe=Te;else for(;qe!==null;){Ce=qe;var ke=Ce.sibling,Fe=Ce.return;if(sA(Ce),Ce===Ne){qe=null;break}if(ke!==null){ke.return=Fe,qe=ke;break}qe=Fe}}}var ze=M.alternate;if(ze!==null){var We=ze.child;if(We!==null){ze.child=null;do{var rn=We.sibling;We.sibling=null,We=rn}while(We!==null)}}qe=M}}if((M.subtreeFlags&2064)!==0&&G!==null)G.return=M,qe=G;else e:for(;qe!==null;){if(M=qe,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:ef(9,M,M.return)}var ye=M.sibling;if(ye!==null){ye.return=M.return,qe=ye;break e}qe=M.return}}var pe=l.current;for(qe=pe;qe!==null;){G=qe;var be=G.child;if((G.subtreeFlags&2064)!==0&&be!==null)be.return=G,qe=be;else e:for(G=pe;qe!==null;){if(ce=qe,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:qg(9,ce)}}catch(Ge){Zt(ce,ce.return,Ge)}if(ce===G){qe=null;break e}var Le=ce.sibling;if(Le!==null){Le.return=ce.return,qe=Le;break e}qe=ce.return}}if(mt=C,ao(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(tg,l)}catch{}_=!0}return _}finally{Nt=x,bs.transition=u}}return!1}function bA(l,u,x){u=Lu(x,u),u=F_(l,u,1),l=lo(l,u,1),u=cr(),l!==null&&(Eh(l,1,u),Er(l,u))}function Zt(l,u,x){if(l.tag===3)bA(l,l,x);else for(;u!==null;){if(u.tag===3){bA(u,l,x);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(uo===null||!uo.has(_))){l=Lu(x,l),l=B_(u,l,1),u=lo(u,l,1),l=cr(),u!==null&&(Eh(u,1,l),Er(u,l));break}}u=u.return}}function sL(l,u,x){var _=l.pingCache;_!==null&&_.delete(u),u=cr(),l.pingedLanes|=l.suspendedLanes&x,kn===l&&(Fn&x)===x&&(bn===4||bn===3&&(Fn&130023424)===Fn&&500>nn()-eb?Al(l,0):Jv|=x),Er(l,u)}function wA(l,u){u===0&&((l.mode&1)===0?u=1:(u=rg,rg<<=1,(rg&130023424)===0&&(rg=4194304)));var x=cr();l=ea(l,u),l!==null&&(Eh(l,u,x),Er(l,x))}function iL(l){var u=l.memoizedState,x=0;u!==null&&(x=u.retryLane),wA(l,x)}function aL(l,u){var x=0;switch(l.tag){case 13:var _=l.stateNode,C=l.memoizedState;C!==null&&(x=C.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(t(314))}_!==null&&_.delete(u),wA(l,x)}var NA;NA=function(l,u,x){if(l!==null)if(l.memoizedProps!==u.pendingProps||Sr.current)_r=!0;else{if((l.lanes&x)===0&&(u.flags&128)===0)return _r=!1,GM(l,u,x);_r=(l.flags&131072)!==0}else _r=!1,Ft&&(u.flags&1048576)!==0&&t_(u,_g,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;Ug(l,u),l=u.pendingProps;var C=Eu(u,Yn.current);Ru(u,x),C=Pv(null,u,_,l,C,x);var M=Ov();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,jr(_)?(M=!0,Ng(u)):M=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,jv(u),C.updater=Fg,u.stateNode=C,C._reactInternals=u,Fv(u,_,l,x),u=qv(null,u,_,!0,M,x)):(u.tag=0,Ft&&M&&pv(u),lr(null,u,C,x),u=u.child),u;case 16:_=u.elementType;e:{switch(Ug(l,u),l=u.pendingProps,C=_._init,_=C(_._payload),u.type=_,C=u.tag=lL(_),l=Fs(_,l),C){case 0:u=$v(null,u,_,l,x);break e;case 1:u=K_(null,u,_,l,x);break e;case 11:u=V_(null,u,_,l,x);break e;case 14:u=z_(null,u,_,Fs(_.type,l),x);break e}throw Error(t(306,_,""))}return u;case 0:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Fs(_,C),$v(l,u,_,C,x);case 1:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Fs(_,C),K_(l,u,_,C,x);case 3:e:{if(X_(u),l===null)throw Error(t(387));_=u.pendingProps,M=u.memoizedState,C=M.element,u_(l,u),Pg(u,_,null,x);var G=u.memoizedState;if(_=G.element,M.isDehydrated)if(M={element:_,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},u.updateQueue.baseState=M,u.memoizedState=M,u.flags&256){C=Lu(Error(t(423)),u),u=Y_(l,u,_,x,C);break e}else if(_!==C){C=Lu(Error(t(424)),u),u=Y_(l,u,_,x,C);break e}else for(Hr=ro(u.stateNode.containerInfo.firstChild),zr=u,Ft=!0,Ds=null,x=l_(u,null,_,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Tu(),_===C){u=na(l,u,x);break e}lr(l,u,_,x)}u=u.child}return u;case 5:return f_(u),l===null&&yv(u),_=u.type,C=u.pendingProps,M=l!==null?l.memoizedProps:null,G=C.children,lv(_,C)?G=null:M!==null&&lv(_,M)&&(u.flags|=32),G_(l,u),lr(l,u,G,x),u.child;case 6:return l===null&&yv(u),null;case 13:return Q_(l,u,x);case 4:return _v(u,u.stateNode.containerInfo),_=u.pendingProps,l===null?u.child=Pu(u,null,_,x):lr(l,u,_,x),u.child;case 11:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Fs(_,C),V_(l,u,_,C,x);case 7:return lr(l,u,u.pendingProps,x),u.child;case 8:return lr(l,u,u.pendingProps.children,x),u.child;case 12:return lr(l,u,u.pendingProps.children,x),u.child;case 10:e:{if(_=u.type._context,C=u.pendingProps,M=u.memoizedProps,G=C.value,Pt(kg,_._currentValue),_._currentValue=G,M!==null)if(Is(M.value,G)){if(M.children===C.children&&!Sr.current){u=na(l,u,x);break e}}else for(M=u.child,M!==null&&(M.return=u);M!==null;){var ce=M.dependencies;if(ce!==null){G=M.child;for(var he=ce.firstContext;he!==null;){if(he.context===_){if(M.tag===1){he=ta(-1,x&-x),he.tag=2;var Ne=M.updateQueue;if(Ne!==null){Ne=Ne.shared;var Ce=Ne.pending;Ce===null?he.next=he:(he.next=Ce.next,Ce.next=he),Ne.pending=he}}M.lanes|=x,he=M.alternate,he!==null&&(he.lanes|=x),Nv(M.return,x,u),ce.lanes|=x;break}he=he.next}}else if(M.tag===10)G=M.type===u.type?null:M.child;else if(M.tag===18){if(G=M.return,G===null)throw Error(t(341));G.lanes|=x,ce=G.alternate,ce!==null&&(ce.lanes|=x),Nv(G,x,u),G=M.sibling}else G=M.child;if(G!==null)G.return=M;else for(G=M;G!==null;){if(G===u){G=null;break}if(M=G.sibling,M!==null){M.return=G.return,G=M;break}G=G.return}M=G}lr(l,u,C.children,x),u=u.child}return u;case 9:return C=u.type,_=u.pendingProps.children,Ru(u,x),C=xs(C),_=_(C),u.flags|=1,lr(l,u,_,x),u.child;case 14:return _=u.type,C=Fs(_,u.pendingProps),C=Fs(_.type,C),z_(l,u,_,C,x);case 15:return H_(l,u,u.type,u.pendingProps,x);case 17:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Fs(_,C),Ug(l,u),u.tag=1,jr(_)?(l=!0,Ng(u)):l=!1,Ru(u,x),I_(u,_,C),Fv(u,_,C,x),qv(null,u,_,!0,l,x);case 19:return J_(l,u,x);case 22:return W_(l,u,x)}throw Error(t(156,u.tag))};function SA(l,u){return nj(l,u)}function oL(l,u,x,_){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(l,u,x,_){return new oL(l,u,x,_)}function lb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lL(l){if(typeof l=="function")return lb(l)?1:0;if(l!=null){if(l=l.$$typeof,l===F)return 11;if(l===Z)return 14}return 2}function mo(l,u){var x=l.alternate;return x===null?(x=ws(l.tag,u,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=u,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&14680064,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,u=l.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x}function Qg(l,u,x,_,C,M){var G=2;if(_=l,typeof l=="function")lb(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case k:return kl(x.children,C,M,u);case P:G=8,C|=8;break;case D:return l=ws(12,x,u,C|2),l.elementType=D,l.lanes=M,l;case $:return l=ws(13,x,u,C),l.elementType=$,l.lanes=M,l;case z:return l=ws(19,x,u,C),l.elementType=z,l.lanes=M,l;case Q:return Zg(x,C,M,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:G=10;break e;case R:G=9;break e;case F:G=11;break e;case Z:G=14;break e;case se:G=16,_=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=ws(G,x,u,C),u.elementType=l,u.type=_,u.lanes=M,u}function kl(l,u,x,_){return l=ws(7,l,_,u),l.lanes=x,l}function Zg(l,u,x,_){return l=ws(22,l,_,u),l.elementType=Q,l.lanes=x,l.stateNode={isHidden:!1},l}function cb(l,u,x){return l=ws(6,l,null,u),l.lanes=x,l}function ub(l,u,x){return u=ws(4,l.children!==null?l.children:[],l.key,u),u.lanes=x,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function cL(l,u,x,_,C){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dx(0),this.expirationTimes=Dx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dx(0),this.identifierPrefix=_,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function db(l,u,x,_,C,M,G,ce,he){return l=new cL(l,u,x,ce,he),u===1?(u=1,M===!0&&(u|=8)):u=0,M=ws(3,null,null,u),l.current=M,M.stateNode=l,M.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},jv(M),l}function uL(l,u,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:_==null?null:""+_,children:l,containerInfo:u,implementation:x}}function jA(l){if(!l)return io;l=l._reactInternals;e:{if(gl(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(jr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var x=l.type;if(jr(x))return Zj(l,x,u)}return u}function _A(l,u,x,_,C,M,G,ce,he){return l=db(x,_,!0,l,C,M,G,ce,he),l.context=jA(null),x=l.current,_=cr(),C=fo(x),M=ta(_,C),M.callback=u??null,lo(x,M,C),l.current.lanes=C,Eh(l,C,_),Er(l,_),l}function Jg(l,u,x,_){var C=u.current,M=cr(),G=fo(C);return x=jA(x),u.context===null?u.context=x:u.pendingContext=x,u=ta(M,G),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=lo(C,u,G),l!==null&&($s(l,C,G,M),Tg(l,C,G)),G}function e0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function AA(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<u?x:u}}function hb(l,u){AA(l,u),(l=l.alternate)&&AA(l,u)}function dL(){return null}var EA=typeof reportError=="function"?reportError:function(l){console.error(l)};function fb(l){this._internalRoot=l}t0.prototype.render=fb.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));Jg(l,u,null,null)},t0.prototype.unmount=fb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;_l(function(){Jg(null,l,null,null)}),u[Yi]=null}};function t0(l){this._internalRoot=l}t0.prototype.unstable_scheduleHydration=function(l){if(l){var u=uj();l={blockedOn:null,target:l,priority:u};for(var x=0;x<eo.length&&u!==0&&u<eo[x].priority;x++);eo.splice(x,0,l),x===0&&fj(l)}};function pb(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function n0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function kA(){}function hL(l,u,x,_,C){if(C){if(typeof _=="function"){var M=_;_=function(){var Ne=e0(G);M.call(Ne)}}var G=_A(u,_,l,0,null,!1,!1,"",kA);return l._reactRootContainer=G,l[Yi]=G.current,$h(l.nodeType===8?l.parentNode:l),_l(),G}for(;C=l.lastChild;)l.removeChild(C);if(typeof _=="function"){var ce=_;_=function(){var Ne=e0(he);ce.call(Ne)}}var he=db(l,0,!1,null,null,!1,!1,"",kA);return l._reactRootContainer=he,l[Yi]=he.current,$h(l.nodeType===8?l.parentNode:l),_l(function(){Jg(u,he,x,_)}),he}function r0(l,u,x,_,C){var M=x._reactRootContainer;if(M){var G=M;if(typeof C=="function"){var ce=C;C=function(){var he=e0(G);ce.call(he)}}Jg(u,G,l,C)}else G=hL(x,u,l,C,_);return e0(G)}lj=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var x=Ah(u.pendingLanes);x!==0&&(Fx(u,x|1),Er(u,nn()),(mt&6)===0&&(Fu=nn()+500,ao()))}break;case 13:_l(function(){var _=ea(l,1);if(_!==null){var C=cr();$s(_,l,1,C)}}),hb(l,1)}},Bx=function(l){if(l.tag===13){var u=ea(l,134217728);if(u!==null){var x=cr();$s(u,l,134217728,x)}hb(l,134217728)}},cj=function(l){if(l.tag===13){var u=fo(l),x=ea(l,u);if(x!==null){var _=cr();$s(x,l,u,_)}hb(l,u)}},uj=function(){return Nt},dj=function(l,u){var x=Nt;try{return Nt=l,u()}finally{Nt=x}},Px=function(l,u,x){switch(u){case"input":if(Be(l,x),u=x.name,x.type==="radio"&&u!=null){for(x=l;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var _=x[u];if(_!==l&&_.form===l.form){var C=bg(_);if(!C)throw Error(t(90));Pe(_),Be(_,C)}}}break;case"textarea":J(l,x);break;case"select":u=x.value,u!=null&&ee(l,!!x.multiple,u,!1)}},XS=ib,YS=_l;var fL={usingClientEntryPoint:!1,Events:[zh,_u,bg,GS,KS,ib]},sf={findFiberByHostInstance:yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pL={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ej(l),l===null?null:l.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||dL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{tg=s0.inject(pL),fi=s0}catch{}}return kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fL,kr.createPortal=function(l,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pb(u))throw Error(t(200));return uL(l,u,null,x)},kr.createRoot=function(l,u){if(!pb(l))throw Error(t(299));var x=!1,_="",C=EA;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=db(l,1,!1,null,null,x,!1,_,C),l[Yi]=u.current,$h(l.nodeType===8?l.parentNode:l),new fb(u)},kr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=ej(u),l=l===null?null:l.stateNode,l},kr.flushSync=function(l){return _l(l)},kr.hydrate=function(l,u,x){if(!n0(u))throw Error(t(200));return r0(null,l,u,!0,x)},kr.hydrateRoot=function(l,u,x){if(!pb(l))throw Error(t(405));var _=x!=null&&x.hydratedSources||null,C=!1,M="",G=EA;if(x!=null&&(x.unstable_strictMode===!0&&(C=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onRecoverableError!==void 0&&(G=x.onRecoverableError)),u=_A(u,null,l,1,x??null,C,!1,M,G),l[Yi]=u.current,$h(l),_)for(l=0;l<_.length;l++)x=_[l],C=x._getVersion,C=C(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,C]:u.mutableSourceEagerHydrationData.push(x,C);return new t0(u)},kr.render=function(l,u,x){if(!n0(u))throw Error(t(200));return r0(null,l,u,!1,x)},kr.unmountComponentAtNode=function(l){if(!n0(l))throw Error(t(40));return l._reactRootContainer?(_l(function(){r0(null,null,l,!1,function(){l._reactRootContainer=null,l[Yi]=null})}),!0):!1},kr.unstable_batchedUpdates=ib,kr.unstable_renderSubtreeIntoContainer=function(l,u,x,_){if(!n0(x))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return r0(l,u,x,!1,_)},kr.version="18.3.1-next-f1338f8080-20240426",kr}var DA;function RN(){if(DA)return xb.exports;DA=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xb.exports=_L(),xb.exports}var FA;function AL(){if(FA)return a0;FA=1;var r=RN();return a0.createRoot=r.createRoot,a0.hydrateRoot=r.hydrateRoot,a0}var EL=AL();let kL={data:""},CL=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||kL,TL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PL=/\/\*[^]*?\*\/|  +/g,BA=/\n+/g,vo=(r,e)=>{let t="",n="",s="";for(let i in r){let a=r[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":n+=i[1]=="f"?vo(a,i):i+"{"+vo(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=vo(a,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=vo.p?vo.p(i,a):i+":"+a+";")}return t+(e&&s?e+"{"+s+"}":s)+n},sa={},pP=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+pP(r[t]);return e}return r},OL=(r,e,t,n,s)=>{let i=pP(r),a=sa[i]||(sa[i]=(d=>{let f=0,h=11;for(;f<d.length;)h=101*h+d.charCodeAt(f++)>>>0;return"go"+h})(i));if(!sa[a]){let d=i!==r?r:(f=>{let h,p,m=[{}];for(;h=TL.exec(f.replace(PL,""));)h[4]?m.shift():h[3]?(p=h[3].replace(BA," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][h[1]]=h[2].replace(BA," ").trim();return m[0]})(r);sa[a]=vo(s?{["@keyframes "+a]:d}:d,t?"":"."+a)}let c=t&&sa.g?sa.g:null;return t&&(sa.g=sa[a]),((d,f,h,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=h?d+f.data:f.data+d)})(sa[a],e,n,c),a},RL=(r,e,t)=>r.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let c=a(t),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=d?"."+d:c&&typeof c=="object"?c.props?"":vo(c,""):c===!1?"":c}return n+s+(a??"")},"");function ex(r){let e=this||{},t=r.call?r(e.p):r;return OL(t.unshift?t.raw?RL(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,CL(e.target),e.g,e.o,e.k)}let mP,Ow,Rw;ex.bind({g:1});let Ha=ex.bind({k:1});function ML(r,e,t,n){vo.p=e,mP=r,Ow=t,Rw=n}function pl(r,e){let t=this||{};return function(){let n=arguments;function s(i,a){let c=Object.assign({},i),d=c.className||s.className;t.p=Object.assign({theme:Ow&&Ow()},c),t.o=/ *go\d+/.test(d),c.className=ex.apply(t,n)+(d?" "+d:"");let f=r;return r[0]&&(f=c.as||r,delete c.as),Rw&&f[0]&&Rw(c),mP(f,c)}return s}}var LL=r=>typeof r=="function",uy=(r,e)=>LL(r)?r(e):r,IL=(()=>{let r=0;return()=>(++r).toString()})(),gP=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),DL=20,yP=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,DL)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return yP(r,{type:r.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},w0=[],Il={toasts:[],pausedAt:void 0},au=r=>{Il=yP(Il,r),w0.forEach(e=>{e(Il)})},FL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BL=(r={})=>{let[e,t]=L.useState(Il),n=L.useRef(Il);L.useEffect(()=>(n.current!==Il&&t(Il),w0.push(t),()=>{let i=w0.indexOf(t);i>-1&&w0.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,c,d;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((a=r[i.type])==null?void 0:a.removeDelay)||(r==null?void 0:r.removeDelay),duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||(r==null?void 0:r.duration)||FL[i.type],style:{...r.style,...(d=r[i.type])==null?void 0:d.style,...i.style}}});return{...e,toasts:s}},UL=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||IL()}),Mm=r=>(e,t)=>{let n=UL(e,r,t);return au({type:2,toast:n}),n.id},dt=(r,e)=>Mm("blank")(r,e);dt.error=Mm("error");dt.success=Mm("success");dt.loading=Mm("loading");dt.custom=Mm("custom");dt.dismiss=r=>{au({type:3,toastId:r})};dt.remove=r=>au({type:4,toastId:r});dt.promise=(r,e,t)=>{let n=dt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(s=>{let i=e.success?uy(e.success,s):void 0;return i?dt.success(i,{id:n,...t,...t==null?void 0:t.success}):dt.dismiss(n),s}).catch(s=>{let i=e.error?uy(e.error,s):void 0;i?dt.error(i,{id:n,...t,...t==null?void 0:t.error}):dt.dismiss(n)}),r};var $L=(r,e)=>{au({type:1,toast:{id:r,height:e}})},qL=()=>{au({type:5,time:Date.now()})},Ff=new Map,VL=1e3,zL=(r,e=VL)=>{if(Ff.has(r))return;let t=setTimeout(()=>{Ff.delete(r),au({type:4,toastId:r})},e);Ff.set(r,t)},HL=r=>{let{toasts:e,pausedAt:t}=BL(r);L.useEffect(()=>{if(t)return;let i=Date.now(),a=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(d<0){c.visible&&dt.dismiss(c.id);return}return setTimeout(()=>dt.dismiss(c.id),d)});return()=>{a.forEach(c=>c&&clearTimeout(c))}},[e,t]);let n=L.useCallback(()=>{t&&au({type:6,time:Date.now()})},[t]),s=L.useCallback((i,a)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:f}=a||{},h=e.filter(y=>(y.position||f)===(i.position||f)&&y.height),p=h.findIndex(y=>y.id===i.id),m=h.filter((y,v)=>v<p&&y.visible).length;return h.filter(y=>y.visible).slice(...c?[m+1]:[0,m]).reduce((y,v)=>y+(v.height||0)+d,0)},[e]);return L.useEffect(()=>{e.forEach(i=>{if(i.dismissed)zL(i.id,i.removeDelay);else{let a=Ff.get(i.id);a&&(clearTimeout(a),Ff.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:$L,startPause:qL,endPause:n,calculateOffset:s}}},WL=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,GL=Ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KL=Ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XL=pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${GL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,YL=Ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QL=pl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${YL} 1s linear infinite;
`,ZL=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JL=Ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,e6=pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,t6=pl("div")`
  position: absolute;
`,n6=pl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,r6=Ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s6=pl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${r6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i6=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?L.createElement(s6,null,e):e:t==="blank"?null:L.createElement(n6,null,L.createElement(QL,{...n}),t!=="loading"&&L.createElement(t6,null,t==="error"?L.createElement(XL,{...n}):L.createElement(e6,{...n})))},a6=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,o6=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,l6="0%{opacity:0;} 100%{opacity:1;}",c6="0%{opacity:1;} 100%{opacity:0;}",u6=pl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,d6=pl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,h6=(r,e)=>{let t=r.includes("top")?1:-1,[n,s]=gP()?[l6,c6]:[a6(t),o6(t)];return{animation:e?`${Ha(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ha(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},f6=L.memo(({toast:r,position:e,style:t,children:n})=>{let s=r.height?h6(r.position||e||"top-center",r.visible):{opacity:0},i=L.createElement(i6,{toast:r}),a=L.createElement(d6,{...r.ariaProps},uy(r.message,r));return L.createElement(u6,{className:r.className,style:{...s,...t,...r.style}},typeof n=="function"?n({icon:i,message:a}):L.createElement(L.Fragment,null,i,a))});ML(L.createElement);var p6=({id:r,className:e,style:t,onHeightUpdate:n,children:s})=>{let i=L.useCallback(a=>{if(a){let c=()=>{let d=a.getBoundingClientRect().height;n(r,d)};c(),new MutationObserver(c).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return L.createElement("div",{ref:i,className:e,style:t},s)},m6=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},s=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...s}},g6=ex`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,o0=16,MN=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:c,handlers:d}=HL(t);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:o0,left:o0,right:o0,bottom:o0,pointerEvents:"none",...i},className:a,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let h=f.position||e,p=d.calculateOffset(f,{reverseOrder:r,gutter:n,defaultPosition:e}),m=m6(h,p);return L.createElement(p6,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?g6:"",style:m},f.type==="custom"?uy(f.message,f):s?s(f):L.createElement(f6,{toast:f,position:h}))}))},fe=dt;RN();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Wf.apply(this,arguments)}var il;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(il||(il={}));const UA="popstate";function y6(r){r===void 0&&(r={});function e(n,s){let{pathname:i,search:a,hash:c}=n.location;return Mw("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:vP(s)}return v6(e,t,null,r)}function yn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xP(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x6(){return Math.random().toString(36).substr(2,8)}function $A(r,e){return{usr:r.state,key:r.key,idx:e}}function Mw(r,e,t,n){return t===void 0&&(t=null),Wf({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?fh(e):e,{state:t,key:e&&e.key||n||x6()})}function vP(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function v6(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,c=il.Pop,d=null,f=h();f==null&&(f=0,a.replaceState(Wf({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function p(){c=il.Pop;let w=h(),N=w==null?null:w-f;f=w,d&&d({action:c,location:b.location,delta:N})}function m(w,N){c=il.Push;let j=Mw(b.location,w,N);f=h()+1;let E=$A(j,f),S=b.createHref(j);try{a.pushState(E,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(S)}i&&d&&d({action:c,location:b.location,delta:1})}function y(w,N){c=il.Replace;let j=Mw(b.location,w,N);f=h();let E=$A(j,f),S=b.createHref(j);a.replaceState(E,"",S),i&&d&&d({action:c,location:b.location,delta:0})}function v(w){let N=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof w=="string"?w:vP(w);return j=j.replace(/ $/,"%20"),yn(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let b={get action(){return c},get location(){return r(s,a)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(UA,p),d=w,()=>{s.removeEventListener(UA,p),d=null}},createHref(w){return e(s,w)},createURL:v,encodeLocation(w){let N=v(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:y,go(w){return a.go(w)}};return b}var qA;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(qA||(qA={}));function b6(r,e,t){return t===void 0&&(t="/"),w6(r,e,t)}function w6(r,e,t,n){let s=typeof e=="string"?fh(e):e,i=NP(s.pathname||"/",t);if(i==null)return null;let a=bP(r);N6(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=M6(i);c=P6(a[d],f)}return c}function bP(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(i,a,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(yn(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Yc([n,d.relativePath]),h=t.concat(d);i.children&&i.children.length>0&&(yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),bP(i.children,e,h,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:C6(f,i.index),routesMeta:h})};return r.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let d of wP(i.path))s(i,a,d)}),e}function wP(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=wP(n.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...a),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function N6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:T6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const S6=/^:[\w-]+$/,j6=3,_6=2,A6=1,E6=10,k6=-2,VA=r=>r==="*";function C6(r,e){let t=r.split("/"),n=t.length;return t.some(VA)&&(n+=k6),e&&(n+=_6),t.filter(s=>!VA(s)).reduce((s,i)=>s+(S6.test(i)?j6:i===""?A6:E6),n)}function T6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function P6(r,e,t){let{routesMeta:n}=r,s={},i="/",a=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=O6({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),m=d.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Yc([i,p.pathname]),pathnameBase:F6(Yc([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Yc([i,p.pathnameBase]))}return a}function O6(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=R6(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let b=c[p]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[p];return y&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:r}}function R6(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xP(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function M6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xP(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function NP(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function L6(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?fh(r):r;return{pathname:t?t.startsWith("/")?t:I6(t,e):e,search:B6(n),hash:U6(s)}}function I6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wb(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D6(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SP(r,e){let t=D6(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function jP(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=fh(r):(s=Wf({},r),yn(!s.pathname||!s.pathname.includes("?"),wb("?","pathname","search",s)),yn(!s.pathname||!s.pathname.includes("#"),wb("#","pathname","hash",s)),yn(!s.search||!s.search.includes("#"),wb("#","search","hash",s)));let i=r===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=t;else{let p=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}c=p>=0?e[p]:"/"}let d=L6(s,c),f=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}const Yc=r=>r.join("/").replace(/\/\/+/g,"/"),F6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),B6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,U6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const _P=["post","put","patch","delete"];new Set(_P);const q6=["get",..._P];new Set(q6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Gf.apply(this,arguments)}const LN=L.createContext(null),V6=L.createContext(null),Lm=L.createContext(null),tx=L.createContext(null),ou=L.createContext({outlet:null,matches:[],isDataRoute:!1}),AP=L.createContext(null);function Im(){return L.useContext(tx)!=null}function ph(){return Im()||yn(!1),L.useContext(tx).location}function EP(r){L.useContext(Lm).static||L.useLayoutEffect(r)}function nx(){let{isDataRoute:r}=L.useContext(ou);return r?nI():z6()}function z6(){Im()||yn(!1);let r=L.useContext(LN),{basename:e,future:t,navigator:n}=L.useContext(Lm),{matches:s}=L.useContext(ou),{pathname:i}=ph(),a=JSON.stringify(SP(s,t.v7_relativeSplatPath)),c=L.useRef(!1);return EP(()=>{c.current=!0}),L.useCallback(function(f,h){if(h===void 0&&(h={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=jP(f,JSON.parse(a),i,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Yc([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,r])}function H6(r,e){return W6(r,e)}function W6(r,e,t,n){Im()||yn(!1);let{navigator:s}=L.useContext(Lm),{matches:i}=L.useContext(ou),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=ph(),h;if(e){var p;let w=typeof e=="string"?fh(e):e;d==="/"||(p=w.pathname)!=null&&p.startsWith(d)||yn(!1),h=w}else h=f;let m=h.pathname||"/",y=m;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=b6(r,{pathname:y}),b=Q6(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Yc([d,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Yc([d,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,n);return e&&b?L.createElement(tx.Provider,{value:{location:Gf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:il.Pop}},b):b}function G6(){let r=tI(),e=$6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,null)}const K6=L.createElement(G6,null);class X6 extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(ou.Provider,{value:this.props.routeContext},L.createElement(AP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y6(r){let{routeContext:e,match:t,children:n}=r,s=L.useContext(LN);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(ou.Provider,{value:e},n)}function Q6(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,c=(s=t)==null?void 0:s.errors;if(c!=null){let h=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);h>=0||yn(!1),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:m,errors:y}=t,v=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let y,v=!1,b=null,w=null;t&&(y=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||K6,d&&(f<0&&m===0?(rI("route-fallback"),v=!0,w=null):f===m&&(v=!0,w=p.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,m+1)),j=()=>{let E;return y?E=b:v?E=w:p.route.Component?E=L.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=h,L.createElement(Y6,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:t!=null},children:E})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?L.createElement(X6,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var kP=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(kP||{}),CP=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(CP||{});function Z6(r){let e=L.useContext(LN);return e||yn(!1),e}function J6(r){let e=L.useContext(V6);return e||yn(!1),e}function eI(r){let e=L.useContext(ou);return e||yn(!1),e}function TP(r){let e=eI(),t=e.matches[e.matches.length-1];return t.route.id||yn(!1),t.route.id}function tI(){var r;let e=L.useContext(AP),t=J6(),n=TP();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function nI(){let{router:r}=Z6(kP.UseNavigateStable),e=TP(CP.UseNavigateStable),t=L.useRef(!1);return EP(()=>{t.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Gf({fromRouteId:e},i)))},[r,e])}const zA={};function rI(r,e,t){zA[r]||(zA[r]=!0)}function sI(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function PP(r){let{to:e,replace:t,state:n,relative:s}=r;Im()||yn(!1);let{future:i,static:a}=L.useContext(Lm),{matches:c}=L.useContext(ou),{pathname:d}=ph(),f=nx(),h=jP(e,SP(c,i.v7_relativeSplatPath),d,s==="path"),p=JSON.stringify(h);return L.useEffect(()=>f(JSON.parse(p),{replace:t,state:n,relative:s}),[f,p,s,t,n]),null}function Bn(r){yn(!1)}function iI(r){let{basename:e="/",children:t=null,location:n,navigationType:s=il.Pop,navigator:i,static:a=!1,future:c}=r;Im()&&yn(!1);let d=e.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:d,navigator:i,static:a,future:Gf({v7_relativeSplatPath:!1},c)}),[d,c,i,a]);typeof n=="string"&&(n=fh(n));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:v="default"}=n,b=L.useMemo(()=>{let w=NP(h,d);return w==null?null:{location:{pathname:w,search:p,hash:m,state:y,key:v},navigationType:s}},[d,h,p,m,y,v,s]);return b==null?null:L.createElement(Lm.Provider,{value:f},L.createElement(tx.Provider,{children:t,value:b}))}function aI(r){let{children:e,location:t}=r;return H6(Lw(e),t)}new Promise(()=>{});function Lw(r,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(r,(n,s)=>{if(!L.isValidElement(n))return;let i=[...e,s];if(n.type===L.Fragment){t.push.apply(t,Lw(n.props.children,i));return}n.type!==Bn&&yn(!1),!n.props.index||!n.props.children||yn(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Lw(n.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oI="6";try{window.__reactRouterVersion=oI}catch{}const lI="startTransition",HA=NL[lI];function cI(r){let{basename:e,children:t,future:n,window:s}=r,i=L.useRef();i.current==null&&(i.current=y6({window:s,v5Compat:!0}));let a=i.current,[c,d]=L.useState({action:a.action,location:a.location}),{v7_startTransition:f}=n||{},h=L.useCallback(p=>{f&&HA?HA(()=>d(p)):d(p)},[d,f]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.useEffect(()=>sI(n),[n]),L.createElement(iI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,future:n})}var WA;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(WA||(WA={}));var GA;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(GA||(GA={}));const KA=r=>{let e;const t=new Set,n=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=r(n,s,c);return c},uI=r=>r?KA(r):KA,dI=r=>r;function hI(r,e=dI){const t=Kt.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return Kt.useDebugValue(t),t}const XA=r=>{const e=uI(r),t=n=>hI(e,n);return Object.assign(t,e),t},fI=r=>r?XA(r):XA,rx=fI(r=>({user:JSON.parse(localStorage.getItem("user"))||null,isLoggedIn:!!localStorage.getItem("token"),login:({token:e,user:t})=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),r({user:t,isLoggedIn:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,isLoggedIn:!1})}})),pI=({children:r})=>{const{isLoggedIn:e}=rx();return e?o.jsx(PP,{to:"/admin-dashboard",replace:!0}):r};var Dm=r=>r.type==="checkbox",Dl=r=>r instanceof Date,xr=r=>r==null;const OP=r=>typeof r=="object";var ln=r=>!xr(r)&&!Array.isArray(r)&&OP(r)&&!Dl(r),mI=r=>ln(r)&&r.target?Dm(r.target)?r.target.checked:r.target.value:r,gI=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,yI=(r,e)=>r.has(gI(e)),xI=r=>{const e=r.constructor&&r.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},IN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function er(r){let e;const t=Array.isArray(r),n=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(IN&&(r instanceof Blob||n))&&(t||ln(r)))if(e=t?[]:{},!t&&!xI(r))e=r;else for(const s in r)r.hasOwnProperty(s)&&(e[s]=er(r[s]));else return r;return e}var sx=r=>Array.isArray(r)?r.filter(Boolean):[],pn=r=>r===void 0,He=(r,e,t)=>{if(!e||!ln(r))return t;const n=sx(e.split(/[,[\].]+?/)).reduce((s,i)=>xr(s)?s:s[i],r);return pn(n)||n===r?pn(r[e])?t:r[e]:n},Ni=r=>typeof r=="boolean",DN=r=>/^\w*$/.test(r),RP=r=>sx(r.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(r,e,t)=>{let n=-1;const s=DN(e)?[e]:RP(e),i=s.length,a=i-1;for(;++n<i;){const c=s[n];let d=t;if(n!==a){const f=r[c];d=ln(f)||Array.isArray(f)?f:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;r[c]=d,r=r[c]}};const YA={BLUR:"blur",FOCUS_OUT:"focusout"},ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ia={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Kt.createContext(null);var vI=(r,e,t,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in r)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ri.all&&(e._proxyFormState[a]=!n||ri.all),r[a]}});return s};const bI=typeof window<"u"?L.useLayoutEffect:L.useEffect;var qi=r=>typeof r=="string",wI=(r,e,t,n,s)=>qi(r)?(n&&e.watch.add(r),He(t,r,s)):Array.isArray(r)?r.map(i=>(n&&e.watch.add(i),He(t,i))):(n&&(e.watchAll=!0),t),MP=(r,e,t,n,s)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:s||!0}}:{},Bf=r=>Array.isArray(r)?r:[r],QA=()=>{let r=[];return{get observers(){return r},next:s=>{for(const i of r)i.next&&i.next(s)},subscribe:s=>(r.push(s),{unsubscribe:()=>{r=r.filter(i=>i!==s)}}),unsubscribe:()=>{r=[]}}},Iw=r=>xr(r)||!OP(r);function bo(r,e){if(Iw(r)||Iw(e))return r===e;if(Dl(r)&&Dl(e))return r.getTime()===e.getTime();const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const s of t){const i=r[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Dl(i)&&Dl(a)||ln(i)&&ln(a)||Array.isArray(i)&&Array.isArray(a)?!bo(i,a):i!==a)return!1}}return!0}var Lr=r=>ln(r)&&!Object.keys(r).length,FN=r=>r.type==="file",si=r=>typeof r=="function",dy=r=>{if(!IN)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},LP=r=>r.type==="select-multiple",BN=r=>r.type==="radio",NI=r=>BN(r)||Dm(r),Nb=r=>dy(r)&&r.isConnected;function SI(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=pn(r)?n++:r[e[n++]];return r}function jI(r){for(const e in r)if(r.hasOwnProperty(e)&&!pn(r[e]))return!1;return!0}function wn(r,e){const t=Array.isArray(e)?e:DN(e)?[e]:RP(e),n=t.length===1?r:SI(r,t),s=t.length-1,i=t[s];return n&&delete n[i],s!==0&&(ln(n)&&Lr(n)||Array.isArray(n)&&jI(n))&&wn(r,t.slice(0,-1)),r}var IP=r=>{for(const e in r)if(si(r[e]))return!0;return!1};function hy(r,e={}){const t=Array.isArray(r);if(ln(r)||t)for(const n in r)Array.isArray(r[n])||ln(r[n])&&!IP(r[n])?(e[n]=Array.isArray(r[n])?[]:{},hy(r[n],e[n])):xr(r[n])||(e[n]=!0);return e}function DP(r,e,t){const n=Array.isArray(r);if(ln(r)||n)for(const s in r)Array.isArray(r[s])||ln(r[s])&&!IP(r[s])?pn(e)||Iw(t[s])?t[s]=Array.isArray(r[s])?hy(r[s],[]):{...hy(r[s])}:DP(r[s],xr(e)?{}:e[s],t[s]):t[s]=!bo(r[s],e[s]);return t}var of=(r,e)=>DP(r,e,hy(e));const ZA={value:!1,isValid:!1},JA={value:!0,isValid:!0};var FP=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!pn(r[0].attributes.value)?pn(r[0].value)||r[0].value===""?JA:{value:r[0].value,isValid:!0}:JA:ZA}return ZA},BP=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>pn(r)?r:e?r===""?NaN:r&&+r:t&&qi(r)?new Date(r):n?n(r):r;const eE={isValid:!1,value:null};var UP=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,eE):eE;function tE(r){const e=r.ref;return FN(e)?e.files:BN(e)?UP(r.refs).value:LP(e)?[...e.selectedOptions].map(({value:t})=>t):Dm(e)?FP(r.refs).value:BP(pn(e.value)?r.ref.value:e.value,r)}var _I=(r,e,t,n)=>{const s={};for(const i of r){const a=He(e,i);a&&_t(s,i,a._f)}return{criteriaMode:t,names:[...r],fields:s,shouldUseNativeValidation:n}},fy=r=>r instanceof RegExp,lf=r=>pn(r)?r:fy(r)?r.source:ln(r)?fy(r.value)?r.value.source:r.value:r,nE=r=>({isOnSubmit:!r||r===ri.onSubmit,isOnBlur:r===ri.onBlur,isOnChange:r===ri.onChange,isOnAll:r===ri.all,isOnTouch:r===ri.onTouched});const rE="AsyncFunction";var AI=r=>!!r&&!!r.validate&&!!(si(r.validate)&&r.validate.constructor.name===rE||ln(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===rE)),EI=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),sE=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const Uf=(r,e,t,n)=>{for(const s of t||Object.keys(r)){const i=He(r,s);if(i){const{_f:a,...c}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Uf(c,e))break}else if(ln(c)&&Uf(c,e))break}}};function iE(r,e,t){const n=He(r,t);if(n||DN(t))return{error:n,name:t};const s=t.split(".");for(;s.length;){const i=s.join("."),a=He(e,i),c=He(r,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:t}}var kI=(r,e,t,n)=>{t(r);const{name:s,...i}=r;return Lr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||ri.all))},CI=(r,e,t)=>!r||!e||r===e||Bf(r).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n))),TI=(r,e,t,n,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||r):(t?n.isOnBlur:s.isOnBlur)?!r:(t?n.isOnChange:s.isOnChange)?r:!0,PI=(r,e)=>!sx(He(r,e)).length&&wn(r,e),OI=(r,e,t)=>{const n=Bf(He(r,t));return _t(n,"root",e[t]),_t(r,t,n),r},N0=r=>qi(r);function aE(r,e,t="validate"){if(N0(r)||Array.isArray(r)&&r.every(N0)||Ni(r)&&!r)return{type:t,message:N0(r)?r:"",ref:e}}var Uu=r=>ln(r)&&!fy(r)?r:{value:r,message:""},oE=async(r,e,t,n,s,i)=>{const{ref:a,refs:c,required:d,maxLength:f,minLength:h,min:p,max:m,pattern:y,validate:v,name:b,valueAsNumber:w,mount:N}=r._f,j=He(t,b);if(!N||e.has(b))return{};const E=c?c[0]:a,S=F=>{s&&E.reportValidity&&(E.setCustomValidity(Ni(F)?"":F||""),E.reportValidity())},A={},T=BN(a),k=Dm(a),P=T||k,D=(w||FN(a))&&pn(a.value)&&pn(j)||dy(a)&&a.value===""||j===""||Array.isArray(j)&&!j.length,O=MP.bind(null,b,n,A),R=(F,$,z,Z=ia.maxLength,se=ia.minLength)=>{const Q=F?$:z;A[b]={type:F?Z:se,message:Q,ref:a,...O(F?Z:se,Q)}};if(i?!Array.isArray(j)||!j.length:d&&(!P&&(D||xr(j))||Ni(j)&&!j||k&&!FP(c).isValid||T&&!UP(c).isValid)){const{value:F,message:$}=N0(d)?{value:!!d,message:d}:Uu(d);if(F&&(A[b]={type:ia.required,message:$,ref:E,...O(ia.required,$)},!n))return S($),A}if(!D&&(!xr(p)||!xr(m))){let F,$;const z=Uu(m),Z=Uu(p);if(!xr(j)&&!isNaN(j)){const se=a.valueAsNumber||j&&+j;xr(z.value)||(F=se>z.value),xr(Z.value)||($=se<Z.value)}else{const se=a.valueAsDate||new Date(j),Q=X=>new Date(new Date().toDateString()+" "+X),oe=a.type=="time",ne=a.type=="week";qi(z.value)&&j&&(F=oe?Q(j)>Q(z.value):ne?j>z.value:se>new Date(z.value)),qi(Z.value)&&j&&($=oe?Q(j)<Q(Z.value):ne?j<Z.value:se<new Date(Z.value))}if((F||$)&&(R(!!F,z.message,Z.message,ia.max,ia.min),!n))return S(A[b].message),A}if((f||h)&&!D&&(qi(j)||i&&Array.isArray(j))){const F=Uu(f),$=Uu(h),z=!xr(F.value)&&j.length>+F.value,Z=!xr($.value)&&j.length<+$.value;if((z||Z)&&(R(z,F.message,$.message),!n))return S(A[b].message),A}if(y&&!D&&qi(j)){const{value:F,message:$}=Uu(y);if(fy(F)&&!j.match(F)&&(A[b]={type:ia.pattern,message:$,ref:a,...O(ia.pattern,$)},!n))return S($),A}if(v){if(si(v)){const F=await v(j,t),$=aE(F,E);if($&&(A[b]={...$,...O(ia.validate,$.message)},!n))return S($.message),A}else if(ln(v)){let F={};for(const $ in v){if(!Lr(F)&&!n)break;const z=aE(await v[$](j,t),E,$);z&&(F={...z,...O($,z.message)},S(z.message),n&&(A[b]=F))}if(!Lr(F)&&(A[b]={ref:E,...F},!n))return A}}return S(!0),A};const RI={mode:ri.onSubmit,reValidateMode:ri.onChange,shouldFocusError:!0};function MI(r={}){let e={...RI,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:si(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=ln(e.defaultValues)||ln(e.values)?er(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:er(s),a={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const m={array:QA(),state:QA()},y=e.criteriaMode===ri.all,v=K=>ee=>{clearTimeout(f),f=setTimeout(K,ee)},b=async K=>{if(!e.disabled&&(h.isValid||p.isValid||K)){const ee=e.resolver?Lr((await k()).errors):await D(n,!0);ee!==t.isValid&&m.state.next({isValid:ee})}},w=(K,ee)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((K||Array.from(c.mount)).forEach(re=>{re&&(ee?_t(t.validatingFields,re,ee):wn(t.validatingFields,re))}),m.state.next({validatingFields:t.validatingFields,isValidating:!Lr(t.validatingFields)}))},N=(K,ee=[],re,B,J=!0,ae=!0)=>{if(B&&re&&!e.disabled){if(a.action=!0,ae&&Array.isArray(He(n,K))){const xe=re(He(n,K),B.argA,B.argB);J&&_t(n,K,xe)}if(ae&&Array.isArray(He(t.errors,K))){const xe=re(He(t.errors,K),B.argA,B.argB);J&&_t(t.errors,K,xe),PI(t.errors,K)}if((h.touchedFields||p.touchedFields)&&ae&&Array.isArray(He(t.touchedFields,K))){const xe=re(He(t.touchedFields,K),B.argA,B.argB);J&&_t(t.touchedFields,K,xe)}(h.dirtyFields||p.dirtyFields)&&(t.dirtyFields=of(s,i)),m.state.next({name:K,isDirty:R(K,ee),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else _t(i,K,ee)},j=(K,ee)=>{_t(t.errors,K,ee),m.state.next({errors:t.errors})},E=K=>{t.errors=K,m.state.next({errors:t.errors,isValid:!1})},S=(K,ee,re,B)=>{const J=He(n,K);if(J){const ae=He(i,K,pn(re)?He(s,K):re);pn(ae)||B&&B.defaultChecked||ee?_t(i,K,ee?ae:tE(J._f)):z(K,ae),a.mount&&b()}},A=(K,ee,re,B,J)=>{let ae=!1,xe=!1;const Re={name:K};if(!e.disabled){if(!re||B){(h.isDirty||p.isDirty)&&(xe=t.isDirty,t.isDirty=Re.isDirty=R(),ae=xe!==Re.isDirty);const De=bo(He(s,K),ee);xe=!!He(t.dirtyFields,K),De?wn(t.dirtyFields,K):_t(t.dirtyFields,K,!0),Re.dirtyFields=t.dirtyFields,ae=ae||(h.dirtyFields||p.dirtyFields)&&xe!==!De}if(re){const De=He(t.touchedFields,K);De||(_t(t.touchedFields,K,re),Re.touchedFields=t.touchedFields,ae=ae||(h.touchedFields||p.touchedFields)&&De!==re)}ae&&J&&m.state.next(Re)}return ae?Re:{}},T=(K,ee,re,B)=>{const J=He(t.errors,K),ae=(h.isValid||p.isValid)&&Ni(ee)&&t.isValid!==ee;if(e.delayError&&re?(d=v(()=>j(K,re)),d(e.delayError)):(clearTimeout(f),d=null,re?_t(t.errors,K,re):wn(t.errors,K)),(re?!bo(J,re):J)||!Lr(B)||ae){const xe={...B,...ae&&Ni(ee)?{isValid:ee}:{},errors:t.errors,name:K};t={...t,...xe},m.state.next(xe)}},k=async K=>{w(K,!0);const ee=await e.resolver(i,e.context,_I(K||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(K),ee},P=async K=>{const{errors:ee}=await k(K);if(K)for(const re of K){const B=He(ee,re);B?_t(t.errors,re,B):wn(t.errors,re)}else t.errors=ee;return ee},D=async(K,ee,re={valid:!0})=>{for(const B in K){const J=K[B];if(J){const{_f:ae,...xe}=J;if(ae){const Re=c.array.has(ae.name),De=J._f&&AI(J._f);De&&h.validatingFields&&w([B],!0);const lt=await oE(J,c.disabled,i,y,e.shouldUseNativeValidation&&!ee,Re);if(De&&h.validatingFields&&w([B]),lt[ae.name]&&(re.valid=!1,ee))break;!ee&&(He(lt,ae.name)?Re?OI(t.errors,lt,ae.name):_t(t.errors,ae.name,lt[ae.name]):wn(t.errors,ae.name))}!Lr(xe)&&await D(xe,ee,re)}}return re.valid},O=()=>{for(const K of c.unMount){const ee=He(n,K);ee&&(ee._f.refs?ee._f.refs.every(re=>!Nb(re)):!Nb(ee._f.ref))&&ie(K)}c.unMount=new Set},R=(K,ee)=>!e.disabled&&(K&&ee&&_t(i,K,ee),!bo(X(),s)),F=(K,ee,re)=>wI(K,c,{...a.mount?i:pn(ee)?s:qi(K)?{[K]:ee}:ee},re,ee),$=K=>sx(He(a.mount?i:s,K,e.shouldUnregister?He(s,K,[]):[])),z=(K,ee,re={})=>{const B=He(n,K);let J=ee;if(B){const ae=B._f;ae&&(!ae.disabled&&_t(i,K,BP(ee,ae)),J=dy(ae.ref)&&xr(ee)?"":ee,LP(ae.ref)?[...ae.ref.options].forEach(xe=>xe.selected=J.includes(xe.value)):ae.refs?Dm(ae.ref)?ae.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(J)?xe.checked=!!J.find(Re=>Re===xe.value):xe.checked=J===xe.value||!!J)}):ae.refs.forEach(xe=>xe.checked=xe.value===J):FN(ae.ref)?ae.ref.value="":(ae.ref.value=J,ae.ref.type||m.state.next({name:K,values:er(i)})))}(re.shouldDirty||re.shouldTouch)&&A(K,J,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&ne(K)},Z=(K,ee,re)=>{for(const B in ee){if(!ee.hasOwnProperty(B))return;const J=ee[B],ae=K+"."+B,xe=He(n,ae);(c.array.has(K)||ln(J)||xe&&!xe._f)&&!Dl(J)?Z(ae,J,re):z(ae,J,re)}},se=(K,ee,re={})=>{const B=He(n,K),J=c.array.has(K),ae=er(ee);_t(i,K,ae),J?(m.array.next({name:K,values:er(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&re.shouldDirty&&m.state.next({name:K,dirtyFields:of(s,i),isDirty:R(K,ae)})):B&&!B._f&&!xr(ae)?Z(K,ae,re):z(K,ae,re),sE(K,c)&&m.state.next({...t}),m.state.next({name:a.mount?K:void 0,values:er(i)})},Q=async K=>{a.mount=!0;const ee=K.target;let re=ee.name,B=!0;const J=He(n,re),ae=De=>{B=Number.isNaN(De)||Dl(De)&&isNaN(De.getTime())||bo(De,He(i,re,De))},xe=nE(e.mode),Re=nE(e.reValidateMode);if(J){let De,lt;const ft=ee.type?tE(J._f):mI(K),Vt=K.type===YA.BLUR||K.type===YA.FOCUS_OUT,kx=!EI(J._f)&&!e.resolver&&!He(t.errors,re)&&!J._f.deps||TI(Vt,He(t.touchedFields,re),t.isSubmitted,Re,xe),hu=sE(re,c,Vt);_t(i,re,ft),Vt?(J._f.onBlur&&J._f.onBlur(K),d&&d(0)):J._f.onChange&&J._f.onChange(K);const fu=A(re,ft,Vt),Cx=!Lr(fu)||hu;if(!Vt&&m.state.next({name:re,type:K.type,values:er(i)}),kx)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Vt&&b():Vt||b()),Cx&&m.state.next({name:re,...hu?{}:fu});if(!Vt&&hu&&m.state.next({...t}),e.resolver){const{errors:pu}=await k([re]);if(ae(ft),B){const Nh=iE(t.errors,n,re),mu=iE(pu,n,Nh.name||re);De=mu.error,re=mu.name,lt=Lr(pu)}}else w([re],!0),De=(await oE(J,c.disabled,i,y,e.shouldUseNativeValidation))[re],w([re]),ae(ft),B&&(De?lt=!1:(h.isValid||p.isValid)&&(lt=await D(n,!0)));B&&(J._f.deps&&ne(J._f.deps),T(re,lt,De,fu))}},oe=(K,ee)=>{if(He(t.errors,ee)&&K.focus)return K.focus(),1},ne=async(K,ee={})=>{let re,B;const J=Bf(K);if(e.resolver){const ae=await P(pn(K)?K:J);re=Lr(ae),B=K?!J.some(xe=>He(ae,xe)):re}else K?(B=(await Promise.all(J.map(async ae=>{const xe=He(n,ae);return await D(xe&&xe._f?{[ae]:xe}:xe)}))).every(Boolean),!(!B&&!t.isValid)&&b()):B=re=await D(n);return m.state.next({...!qi(K)||(h.isValid||p.isValid)&&re!==t.isValid?{}:{name:K},...e.resolver||!K?{isValid:re}:{},errors:t.errors}),ee.shouldFocus&&!B&&Uf(n,oe,K?J:c.mount),B},X=K=>{const ee={...a.mount?i:s};return pn(K)?ee:qi(K)?He(ee,K):K.map(re=>He(ee,re))},I=(K,ee)=>({invalid:!!He((ee||t).errors,K),isDirty:!!He((ee||t).dirtyFields,K),error:He((ee||t).errors,K),isValidating:!!He(t.validatingFields,K),isTouched:!!He((ee||t).touchedFields,K)}),q=K=>{K&&Bf(K).forEach(ee=>wn(t.errors,ee)),m.state.next({errors:K?t.errors:{}})},Y=(K,ee,re)=>{const B=(He(n,K,{_f:{}})._f||{}).ref,J=He(t.errors,K)||{},{ref:ae,message:xe,type:Re,...De}=J;_t(t.errors,K,{...De,...ee,ref:B}),m.state.next({name:K,errors:t.errors,isValid:!1}),re&&re.shouldFocus&&B&&B.focus&&B.focus()},le=(K,ee)=>si(K)?m.state.subscribe({next:re=>K(F(void 0,ee),re)}):F(K,ee,!0),te=K=>m.state.subscribe({next:ee=>{CI(K.name,ee.name,K.exact)&&kI(ee,K.formState||h,Be,K.reRenderRoot)&&K.callback({values:{...i},...t,...ee})}}).unsubscribe,V=K=>(a.mount=!0,p={...p,...K.formState},te({...K,formState:p})),ie=(K,ee={})=>{for(const re of K?Bf(K):c.mount)c.mount.delete(re),c.array.delete(re),ee.keepValue||(wn(n,re),wn(i,re)),!ee.keepError&&wn(t.errors,re),!ee.keepDirty&&wn(t.dirtyFields,re),!ee.keepTouched&&wn(t.touchedFields,re),!ee.keepIsValidating&&wn(t.validatingFields,re),!e.shouldUnregister&&!ee.keepDefaultValue&&wn(s,re);m.state.next({values:er(i)}),m.state.next({...t,...ee.keepDirty?{isDirty:R()}:{}}),!ee.keepIsValid&&b()},ue=({disabled:K,name:ee})=>{(Ni(K)&&a.mount||K||c.disabled.has(ee))&&(K?c.disabled.add(ee):c.disabled.delete(ee))},me=(K,ee={})=>{let re=He(n,K);const B=Ni(ee.disabled)||Ni(e.disabled);return _t(n,K,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:K}},name:K,mount:!0,...ee}}),c.mount.add(K),re?ue({disabled:Ni(ee.disabled)?ee.disabled:e.disabled,name:K}):S(K,!0,ee.value),{...B?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:lf(ee.min),max:lf(ee.max),minLength:lf(ee.minLength),maxLength:lf(ee.maxLength),pattern:lf(ee.pattern)}:{},name:K,onChange:Q,onBlur:Q,ref:J=>{if(J){me(K,ee),re=He(n,K);const ae=pn(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,xe=NI(ae),Re=re._f.refs||[];if(xe?Re.find(De=>De===ae):ae===re._f.ref)return;_t(n,K,{_f:{...re._f,...xe?{refs:[...Re.filter(Nb),ae,...Array.isArray(He(s,K))?[{}]:[]],ref:{type:ae.type,name:K}}:{ref:ae}}}),S(K,!1,void 0,ae)}else re=He(n,K,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(yI(c.array,K)&&a.action)&&c.unMount.add(K)}}},ge=()=>e.shouldFocusError&&Uf(n,oe,c.mount),Ae=K=>{Ni(K)&&(m.state.next({disabled:K}),Uf(n,(ee,re)=>{const B=He(n,re);B&&(ee.disabled=B._f.disabled||K,Array.isArray(B._f.refs)&&B._f.refs.forEach(J=>{J.disabled=B._f.disabled||K}))},0,!1))},Pe=(K,ee)=>async re=>{let B;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let J=er(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:xe}=await k();t.errors=ae,J=xe}else await D(n);if(c.disabled.size)for(const ae of c.disabled)_t(J,ae,void 0);if(wn(t.errors,"root"),Lr(t.errors)){m.state.next({errors:{}});try{await K(J,re)}catch(ae){B=ae}}else ee&&await ee({...t.errors},re),ge(),setTimeout(ge);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(t.errors)&&!B,submitCount:t.submitCount+1,errors:t.errors}),B)throw B},ve=(K,ee={})=>{He(n,K)&&(pn(ee.defaultValue)?se(K,er(He(s,K))):(se(K,ee.defaultValue),_t(s,K,er(ee.defaultValue))),ee.keepTouched||wn(t.touchedFields,K),ee.keepDirty||(wn(t.dirtyFields,K),t.isDirty=ee.defaultValue?R(K,er(He(s,K))):R()),ee.keepError||(wn(t.errors,K),h.isValid&&b()),m.state.next({...t}))},de=(K,ee={})=>{const re=K?er(K):s,B=er(re),J=Lr(K),ae=J?s:B;if(ee.keepDefaultValues||(s=re),!ee.keepValues){if(ee.keepDirtyValues){const xe=new Set([...c.mount,...Object.keys(of(s,i))]);for(const Re of Array.from(xe))He(t.dirtyFields,Re)?_t(ae,Re,He(i,Re)):se(Re,He(ae,Re))}else{if(IN&&pn(K))for(const xe of c.mount){const Re=He(n,xe);if(Re&&Re._f){const De=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(dy(De)){const lt=De.closest("form");if(lt){lt.reset();break}}}}for(const xe of c.mount)se(xe,He(ae,xe))}i=er(ae),m.array.next({values:{...ae}}),m.state.next({values:{...ae}})}c={mount:ee.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:ee.keepSubmitCount?t.submitCount:0,isDirty:J?!1:ee.keepDirty?t.isDirty:!!(ee.keepDefaultValues&&!bo(K,s)),isSubmitted:ee.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:J?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?of(s,i):t.dirtyFields:ee.keepDefaultValues&&K?of(s,K):ee.keepDirty?t.dirtyFields:{},touchedFields:ee.keepTouched?t.touchedFields:{},errors:ee.keepErrors?t.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(K,ee)=>de(si(K)?K(i):K,ee),Oe=(K,ee={})=>{const re=He(n,K),B=re&&re._f;if(B){const J=B.refs?B.refs[0]:B.ref;J.focus&&(J.focus(),ee.shouldSelect&&si(J.select)&&J.select())}},Be=K=>{t={...t,...K}},Se={control:{register:me,unregister:ie,getFieldState:I,handleSubmit:Pe,setError:Y,_subscribe:te,_runSchema:k,_focusError:ge,_getWatch:F,_getDirty:R,_setValid:b,_setFieldArray:N,_setDisabledField:ue,_setErrors:E,_getFieldArray:$,_reset:de,_resetDefaultValues:()=>si(e.defaultValues)&&e.defaultValues().then(K=>{_e(K,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ae,_subjects:m,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(K){a=K},get _defaultValues(){return s},get _names(){return c},set _names(K){c=K},get _formState(){return t},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:V,trigger:ne,register:me,handleSubmit:Pe,watch:le,setValue:se,getValues:X,reset:_e,resetField:ve,clearErrors:q,unregister:ie,setError:Y,setFocus:Oe,getFieldState:I};return{...Se,formControl:Se}}function LI(r={}){const e=Kt.useRef(void 0),t=Kt.useRef(void 0),[n,s]=Kt.useState({isDirty:!1,isValidating:!1,isLoading:si(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:si(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:MI(r),formState:n},r.formControl&&r.defaultValues&&!si(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const i=e.current.control;return i._options=r,bI(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,a},[i]),Kt.useEffect(()=>i._disableForm(r.disabled),[i,r.disabled]),Kt.useEffect(()=>{r.mode&&(i._options.mode=r.mode),r.reValidateMode&&(i._options.reValidateMode=r.reValidateMode)},[i,r.mode,r.reValidateMode]),Kt.useEffect(()=>{r.errors&&(i._setErrors(r.errors),i._focusError())},[i,r.errors]),Kt.useEffect(()=>{r.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,r.shouldUnregister]),Kt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Kt.useEffect(()=>{r.values&&!bo(r.values,t.current)?(i._reset(r.values,i._options.resetOptions),t.current=r.values,s(a=>({...a}))):i._resetDefaultValues()},[i,r.values]),Kt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=vI(n,i),e.current}const lE=(r,e,t)=>{if(r&&"reportValidity"in r){const n=He(t,e);r.setCustomValidity(n&&n.message||""),r.reportValidity()}},$P=(r,e)=>{for(const t in e.fields){const n=e.fields[t];n&&n.ref&&"reportValidity"in n.ref?lE(n.ref,t,r):n&&n.refs&&n.refs.forEach(s=>lE(s,t,r))}},II=(r,e)=>{e.shouldUseNativeValidation&&$P(r,e);const t={};for(const n in r){const s=He(e.fields,n),i=Object.assign(r[n]||{},{ref:s&&s.ref});if(DI(e.names||Object.keys(r),n)){const a=Object.assign({},He(t,n));_t(a,"root",i),_t(t,n,a)}else _t(t,n,i)}return t},DI=(r,e)=>{const t=cE(e);return r.some(n=>cE(n).match(`^${t}\\.\\d+`))};function cE(r){return r.replace(/\]|\[/g,"")}function FI(r,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(n,s,i){try{return Promise.resolve(function(a,c){try{var d=(e.context,Promise.resolve(r[t.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:s}))).then(function(f){return i.shouldUseNativeValidation&&$P({},i),{values:t.raw?Object.assign({},n):f,errors:{}}}))}catch(f){return c(f)}return d&&d.then?d.then(void 0,c):d}(0,function(a){if(!a.inner)throw a;return{values:{},errors:II((c=a,d=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(c.inner||[]).reduce(function(f,h){if(f[h.path]||(f[h.path]={message:h.message,type:h.type}),d){var p=f[h.path].types,m=p&&p[h.type];f[h.path]=MP(h.path,d,f,h.type,m?[].concat(m,h.message):h.message)}return f},{})),i)};var c,d}))}catch(a){return Promise.reject(a)}}}var Sb,uE;function BI(){if(uE)return Sb;uE=1;function r(N){this._maxSize=N,this.clear()}r.prototype.clear=function(){this._size=0,this._values=Object.create(null)},r.prototype.get=function(N){return this._values[N]},r.prototype.set=function(N,j){return this._size>=this._maxSize&&this.clear(),N in this._values||this._size++,this._values[N]=j};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,c=new r(a),d=new r(a),f=new r(a);Sb={Cache:r,split:p,normalizePath:h,setter:function(N){var j=h(N);return d.get(N)||d.set(N,function(S,A){for(var T=0,k=j.length,P=S;T<k-1;){var D=j[T];if(D==="__proto__"||D==="constructor"||D==="prototype")return S;P=P[j[T++]]}P[j[T]]=A})},getter:function(N,j){var E=h(N);return f.get(N)||f.set(N,function(A){for(var T=0,k=E.length;T<k;)if(A!=null||!j)A=A[E[T++]];else return;return A})},join:function(N){return N.reduce(function(j,E){return j+(y(E)||t.test(E)?"["+E+"]":(j?".":"")+E)},"")},forEach:function(N,j,E){m(Array.isArray(N)?N:p(N),j,E)}};function h(N){return c.get(N)||c.set(N,p(N).map(function(j){return j.replace(i,"$2")}))}function p(N){return N.match(e)||[""]}function m(N,j,E){var S=N.length,A,T,k,P;for(T=0;T<S;T++)A=N[T],A&&(w(A)&&(A='"'+A+'"'),P=y(A),k=!P&&/^\d+$/.test(A),j.call(E,A,P,k,T,N))}function y(N){return typeof N=="string"&&N&&["'",'"'].indexOf(N.charAt(0))!==-1}function v(N){return N.match(n)&&!N.match(t)}function b(N){return s.test(N)}function w(N){return!y(N)&&(v(N)||b(N))}return Sb}var Qc=BI(),jb,dE;function UI(){if(dE)return jb;dE=1;const r=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(r)||[],t=h=>h[0].toUpperCase()+h.slice(1),n=(h,p)=>e(h).join(p).toLowerCase(),s=h=>e(h).reduce((p,m)=>`${p}${p?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return jb={words:e,upperFirst:t,camelCase:s,pascalCase:h=>t(s(h)),snakeCase:h=>n(h,"_"),kebabCase:h=>n(h,"-"),sentenceCase:h=>t(n(h," ")),titleCase:h=>e(h).map(t).join(" ")},jb}var _b=UI(),l0={exports:{}},hE;function $I(){if(hE)return l0.exports;hE=1,l0.exports=function(s){return r(e(s),s)},l0.exports.array=r;function r(s,i){var a=s.length,c=new Array(a),d={},f=a,h=t(i),p=n(s);for(i.forEach(function(y){if(!p.has(y[0])||!p.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)d[f]||m(s[f],f,new Set);return c;function m(y,v,b){if(b.has(y)){var w;try{w=", node was:"+JSON.stringify(y)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!p.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!d[v]){d[v]=!0;var N=h.get(y)||new Set;if(N=Array.from(N),v=N.length){b.add(y);do{var j=N[--v];m(j,p.get(j),b)}while(v);b.delete(y)}c[--a]=y}}}function e(s){for(var i=new Set,a=0,c=s.length;a<c;a++){var d=s[a];i.add(d[0]),i.add(d[1])}return Array.from(i)}function t(s){for(var i=new Map,a=0,c=s.length;a<c;a++){var d=s[a];i.has(d[0])||i.set(d[0],new Set),i.has(d[1])||i.set(d[1],new Set),i.get(d[0]).add(d[1])}return i}function n(s){for(var i=new Map,a=0,c=s.length;a<c;a++)i.set(s[a],a);return i}return l0.exports}var qI=$I();const VI=ON(qI),zI=Object.prototype.toString,HI=Error.prototype.toString,WI=RegExp.prototype.toString,GI=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",KI=/^Symbol\((.*)\)(.*)$/;function XI(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function fE(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return XI(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return GI.call(r).replace(KI,"Symbol($1)");const n=zI.call(r).slice(8,-1);return n==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):n==="Error"||r instanceof Error?"["+HI.call(r)+"]":n==="RegExp"?WI.call(r):null}function al(r,e){let t=fE(r,e);return t!==null?t:JSON.stringify(r,function(n,s){let i=fE(this[n],e);return i!==null?i:s},2)}function qP(r){return r==null?[]:[].concat(r)}let VP,zP,HP,YI=/\$\{\s*(\w+)\s*\}/g;VP=Symbol.toStringTag;class pE{constructor(e,t,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[VP]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=s,this.errors=[],this.inner=[],qP(e).forEach(i=>{if(Dr.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}zP=Symbol.hasInstance;HP=Symbol.toStringTag;class Dr extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),typeof e=="string"?e.replace(YI,(s,i)=>al(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,n,s,i){const a=new pE(e,t,n,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[HP]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Dr)}static[zP](e){return pE[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Si={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:n})=>{const s=n!=null&&n!==t?` (cast from the value \`${al(n,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${al(t,!0)}\``+s:`${r} must match the configured type. The validated value was: \`${al(t,!0)}\``+s}},Cr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},QI={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Dw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ZI={isValue:"${path} field must be ${value}"},S0={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},JI={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},eD={notType:r=>{const{path:e,value:t,spec:n}=r,s=n.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${al(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${al(t,!0)}\``}return Dr.formatError(Si.notType,r)}};Object.assign(Object.create(null),{mixed:Si,string:Cr,number:QI,date:Dw,object:S0,array:JI,boolean:ZI,tuple:eD});const UN=r=>r&&r.__isYupSchema__;class py{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=t,a=typeof n=="function"?n:(...c)=>c.every(d=>d===n);return new py(e,(c,d)=>{var f;let h=a(...c)?s:i;return(f=h==null?void 0:h(d))!=null?f:d})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(n,e,t);if(s===void 0||s===e)return e;if(!UN(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const c0={context:"$",value:"."};class lu{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===c0.context,this.isValue=this.key[0]===c0.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?c0.context:this.isValue?c0.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Qc.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let s=this.isContext?n:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}lu.prototype.__isYupRef=!0;const Fl=r=>r==null;function $u(r){function e({value:t,path:n="",options:s,originalValue:i,schema:a},c,d){const{name:f,test:h,params:p,message:m,skipAbsent:y}=r;let{parent:v,context:b,abortEarly:w=a.spec.abortEarly,disableStackTrace:N=a.spec.disableStackTrace}=s;function j(R){return lu.isRef(R)?R.getValue(t,v,b):R}function E(R={}){const F=Object.assign({value:t,originalValue:i,label:a.spec.label,path:R.path||n,spec:a.spec,disableStackTrace:R.disableStackTrace||N},p,R.params);for(const z of Object.keys(F))F[z]=j(F[z]);const $=new Dr(Dr.formatError(R.message||m,F),t,F.path,R.type||f,F.disableStackTrace);return $.params=F,$}const S=w?c:d;let A={path:n,parent:v,type:f,from:s.from,createError:E,resolve:j,options:s,originalValue:i,schema:a};const T=R=>{Dr.isError(R)?S(R):R?d(null):S(E())},k=R=>{Dr.isError(R)?S(R):c(R)};if(y&&Fl(t))return T(!0);let D;try{var O;if(D=h.call(A,t,A),typeof((O=D)==null?void 0:O.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(T,k)}}catch(R){k(R);return}T(D)}return e.OPTIONS=r,e}function tD(r,e,t,n=t){let s,i,a;return e?(Qc.forEach(e,(c,d,f)=>{let h=d?c.slice(1,c.length-1):c;r=r.resolve({context:n,parent:s,value:t});let p=r.type==="tuple",m=f?parseInt(h,10):0;if(r.innerType||p){if(p&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&m>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[m],r=p?r.spec.types[m]:r.innerType}if(!f){if(!r.fields||!r.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${r.type}")`);s=t,t=t&&t[h],r=r.fields[h]}i=h,a=d?"["+c+"]":"."+c}),{schema:r,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:r}}class my extends Set{describe(){const e=[];for(const t of this.values())e.push(lu.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new my(this.values())}merge(e,t){const n=this.clone();return e.forEach(s=>n.add(s)),t.forEach(s=>n.delete(s)),n}}function Yu(r,e=new Map){if(UN(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let n=0;n<r.length;n++)t[n]=Yu(r[n],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[n,s]of r.entries())t.set(n,Yu(s,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const n of r)t.add(Yu(n,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[n,s]of Object.entries(r))t[n]=Yu(s,e)}else throw Error(`Unable to clone ${r}`);return t}class Wi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new my,this._blacklist=new my,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Si.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Yu(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const s=Object.assign({},t.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((s,i)=>i.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",i=n._cast(e,t);if(t.assert!==!1&&!n.isType(i)){if(s&&Fl(i))return i;let a=al(e),c=al(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(c!==a?`result of cast: ${c}`:""))}return i}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,s){let{path:i,originalValue:a=e,strict:c=this.spec.strict}=t,d=e;c||(d=this._cast(d,Object.assign({assert:!1},t)));let f=[];for(let h of Object.values(this.internalTests))h&&f.push(h);this.runTests({path:i,value:d,originalValue:a,options:t,tests:f},n,h=>{if(h.length)return s(h,d);this.runTests({path:i,value:d,originalValue:a,options:t,tests:this.tests},n,s)})}runTests(e,t,n){let s=!1,{tests:i,value:a,originalValue:c,path:d,options:f}=e,h=b=>{s||(s=!0,t(b,a))},p=b=>{s||(s=!0,n(b,a))},m=i.length,y=[];if(!m)return p([]);let v={value:a,originalValue:c,path:d,options:f,schema:this};for(let b=0;b<i.length;b++){const w=i[b];w(v,h,function(j){j&&(Array.isArray(j)?y.push(...j):y.push(j)),--m<=0&&p(y)})}}asNestedTest({key:e,index:t,parent:n,parentPath:s,originalParent:i,options:a}){const c=e??t;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof c=="number";let f=n[c];const h=Object.assign({},a,{strict:!0,parent:n,value:f,originalValue:i[c],key:void 0,[d?"index":"key"]:c,path:d||c.includes(".")?`${s||""}[${d?c:`"${c}"`}]`:(s?`${s}.`:"")+e});return(p,m,y)=>this.resolve(h)._validate(f,h,m,y)}validate(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((a,c)=>s._validate(e,t,(d,f)=>{Dr.isError(d)&&(d.value=f),c(d)},(d,f)=>{d.length?c(new Dr(d,f,void 0,void 0,i)):a(f)}))}validateSync(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i,a=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(c,d)=>{throw Dr.isError(c)&&(c.value=d),c},(c,d)=>{if(c.length)throw new Dr(c,e,void 0,void 0,a);i=d}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(Dr.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(Dr.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Yu(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=$u({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=$u({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Si.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Si.notNull){return this.nullability(!1,e)}required(e=Si.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Si.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=$u(t),i=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===t.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),s=qP(e).map(i=>new lu(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof t=="function"?new py(s,t):py.fromOptions(s,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=$u({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Si.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=$u({message:t,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),n}notOneOf(e,t=Si.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=$u({message:t,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:a}=t.spec;return{meta:s,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,f,h)=>h.findIndex(p=>p.name===d.name)===f)}}}Wi.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Wi.prototype[`${r}At`]=function(e,t,n={}){const{parent:s,parentPath:i,schema:a}=tD(this,e,t,n.context);return a[r](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const r of["equals","is"])Wi.prototype[r]=Wi.prototype.oneOf;for(const r of["not","nope"])Wi.prototype[r]=Wi.prototype.notOneOf;const nD=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function rD(r){const e=Fw(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Fw(r){var e,t;const n=nD.exec(r);return n?{year:aa(n[1]),month:aa(n[2],1)-1,day:aa(n[3],1),hour:aa(n[4]),minute:aa(n[5]),second:aa(n[6]),millisecond:n[7]?aa(n[7].substring(0,3)):0,precision:(e=(t=n[7])==null?void 0:t.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:aa(n[10]),minuteOffset:aa(n[11])}:null}function aa(r,e=0){return Number(r)||e}let sD=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iD=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,aD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oD="^\\d{4}-\\d{2}-\\d{2}",lD="\\d{2}:\\d{2}:\\d{2}",cD="(([+-]\\d{2}(:?\\d{2})?)|Z)",uD=new RegExp(`${oD}T${lD}(\\.\\d+)?${cD}$`),dD=r=>Fl(r)||r===r.trim(),hD={}.toString();function Bw(){return new WP}class WP extends Wi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===hD?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Si.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Cr.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,t=Cr.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,t=Cr.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,t){let n=!1,s,i;return t&&(typeof t=="object"?{excludeEmptyString:n=!1,message:s,name:i}=t:s=t),this.test({name:i||"matches",message:s||Cr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=Cr.email){return this.matches(sD,{name:"email",message:e,excludeEmptyString:!0})}url(e=Cr.url){return this.matches(iD,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Cr.uuid){return this.matches(aD,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",n,s;return e&&(typeof e=="object"?{message:t="",allowOffset:n=!1,precision:s=void 0}=e:t=e),this.matches(uD,{name:"datetime",message:t||Cr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Cr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const a=Fw(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||Cr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=Fw(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Cr.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:dD})}lowercase(e=Cr.lowercase){return this.transform(t=>Fl(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Fl(t)||t===t.toLowerCase()})}uppercase(e=Cr.uppercase){return this.transform(t=>Fl(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Fl(t)||t===t.toUpperCase()})}}Bw.prototype=WP.prototype;let fD=new Date(""),pD=r=>Object.prototype.toString.call(r)==="[object Date]";class $N extends Wi{constructor(){super({type:"date",check(e){return pD(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=rD(e),isNaN(e)?$N.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(lu.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,t=Dw.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,t=Dw.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}$N.INVALID_DATE=fD;function mD(r,e=[]){let t=[],n=new Set,s=new Set(e.map(([a,c])=>`${a}-${c}`));function i(a,c){let d=Qc.split(a)[0];n.add(d),s.has(`${c}-${d}`)||t.push([c,d])}for(const a of Object.keys(r)){let c=r[a];n.add(a),lu.isRef(c)&&c.isSibling?i(c.path,a):UN(c)&&"deps"in c&&c.deps.forEach(d=>i(d,a))}return VI.array(Array.from(n),t).reverse()}function mE(r,e){let t=1/0;return r.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return t=s,!0}),t}function GP(r){return(e,t)=>mE(r,e)-mE(r,t)}const gD=(r,e,t)=>{if(typeof r!="string")return r;let n=r;try{n=JSON.parse(r)}catch{}return t.isType(n)?n:r};function j0(r){if("fields"in r){const e={};for(const[t,n]of Object.entries(r.fields))e[t]=j0(n);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=j0(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(j0)}):"optional"in r?r.optional():r}const yD=(r,e)=>{const t=[...Qc.normalizePath(e)];if(t.length===1)return t[0]in r;let n=t.pop(),s=Qc.getter(Qc.join(t),!0)(r);return!!(s&&n in s)};let gE=r=>Object.prototype.toString.call(r)==="[object Object]";function yE(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(n=>t.indexOf(n)===-1)}const xD=GP([]);function KP(r){return new XP(r)}class XP extends Wi{constructor(e){super({type:"object",check(t){return gE(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=xD,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var n;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let i=this.fields,a=(n=t.stripUnknown)!=null?n:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),d={},f=Object.assign({},t,{parent:d,__validating:t.__validating||!1}),h=!1;for(const p of c){let m=i[p],y=p in s;if(m){let v,b=s[p];f.path=(t.path?`${t.path}.`:"")+p,m=m.resolve({value:b,context:t.context,parent:d});let w=m instanceof Wi?m.spec:void 0,N=w==null?void 0:w.strict;if(w!=null&&w.strip){h=h||p in s;continue}v=!t.__validating||!N?m.cast(s[p],f):s[p],v!==void 0&&(d[p]=v)}else y&&!a&&(d[p]=s[p]);(y!==p in d||d[p]!==s[p])&&(h=!0)}return h?d:s}_validate(e,t={},n,s){let{from:i=[],originalValue:a=e,recursive:c=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,(d,f)=>{if(!c||!gE(f)){s(d,f);return}a=a||f;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||lu.isRef(m)||h.push(m.asNestedTest({options:t,key:p,parent:f,parentPath:t.path,originalParent:a}))}this.runTests({tests:h,value:f,originalValue:a,options:t},n,p=>{s(p.sort(this._sortErrors).concat(d),f)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[s,i]of Object.entries(this.fields)){const a=n[s];n[s]=a===void 0?i:a}return t.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=mD(e,t),n._sortErrors=GP(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return j0(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let s=Qc.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return yD(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=s(i)),a})}json(){return this.transform(gD)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||S0.exact,test(t){if(t==null)return!0;const n=yE(this.schema,t);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=S0.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const i=yE(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=S0.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const s of Object.keys(t))n[e(s)]=t[s];return n})}camelCase(){return this.transformKeys(_b.camelCase)}snakeCase(){return this.transformKeys(_b.snakeCase)}constantCase(){return this.transformKeys(e=>_b.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var s;let c=e;(s=c)!=null&&s.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),n.fields[i]=a.describe(c)}return n}}KP.prototype=XP.prototype;var YP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xE=Kt.createContext&&Kt.createContext(YP),vD=["attr","size","title"];function bD(r,e){if(r==null)return{};var t=wD(r,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function wD(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function gy(){return gy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gy.apply(this,arguments)}function vE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function yy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(t),!0).forEach(function(n){ND(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vE(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ND(r,e,t){return e=SD(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function SD(r){var e=jD(r,"string");return typeof e=="symbol"?e:e+""}function jD(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function QP(r){return r&&r.map((e,t)=>Kt.createElement(e.tag,yy({key:t},e.attr),QP(e.child)))}function Xn(r){return e=>Kt.createElement(_D,gy({attr:yy({},r.attr)},e),QP(r.child))}function _D(r){var e=t=>{var{attr:n,size:s,title:i}=r,a=bD(r,vD),c=s||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),Kt.createElement("svg",gy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:d,style:yy(yy({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Kt.createElement("title",null,i),r.children)};return xE!==void 0?Kt.createElement(xE.Consumer,null,t=>e(t)):e(YP)}function AD(r){return Xn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(r)}function ED(r){return Xn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(r)}const kD="/assets/allied-logo-CcwH5W4t.png";function ZP(r,e){return function(){return r.apply(e,arguments)}}const{toString:CD}=Object.prototype,{getPrototypeOf:qN}=Object,{iterator:ix,toStringTag:JP}=Symbol,ax=(r=>e=>{const t=CD.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),li=r=>(r=r.toLowerCase(),e=>ax(e)===r),ox=r=>e=>typeof e===r,{isArray:mh}=Array,Kf=ox("undefined");function TD(r){return r!==null&&!Kf(r)&&r.constructor!==null&&!Kf(r.constructor)&&Br(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const eO=li("ArrayBuffer");function PD(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&eO(r.buffer),e}const OD=ox("string"),Br=ox("function"),tO=ox("number"),lx=r=>r!==null&&typeof r=="object",RD=r=>r===!0||r===!1,_0=r=>{if(ax(r)!=="object")return!1;const e=qN(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JP in r)&&!(ix in r)},MD=li("Date"),LD=li("File"),ID=li("Blob"),DD=li("FileList"),FD=r=>lx(r)&&Br(r.pipe),BD=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Br(r.append)&&((e=ax(r))==="formdata"||e==="object"&&Br(r.toString)&&r.toString()==="[object FormData]"))},UD=li("URLSearchParams"),[$D,qD,VD,zD]=["ReadableStream","Request","Response","Headers"].map(li),HD=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fm(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),mh(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),a=i.length;let c;for(n=0;n<a;n++)c=i[n],e.call(null,r[c],c,r)}}function nO(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const Bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rO=r=>!Kf(r)&&r!==Bl;function Uw(){const{caseless:r}=rO(this)&&this||{},e={},t=(n,s)=>{const i=r&&nO(e,s)||s;_0(e[i])&&_0(n)?e[i]=Uw(e[i],n):_0(n)?e[i]=Uw({},n):mh(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Fm(arguments[n],t);return e}const WD=(r,e,t,{allOwnKeys:n}={})=>(Fm(e,(s,i)=>{t&&Br(s)?r[i]=ZP(s,t):r[i]=s},{allOwnKeys:n}),r),GD=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),KD=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},XD=(r,e,t,n)=>{let s,i,a;const c={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)a=s[i],(!n||n(a,r,e))&&!c[a]&&(e[a]=r[a],c[a]=!0);r=t!==!1&&qN(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},YD=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},QD=r=>{if(!r)return null;if(mh(r))return r;let e=r.length;if(!tO(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},ZD=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&qN(Uint8Array)),JD=(r,e)=>{const n=(r&&r[ix]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},eF=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},tF=li("HTMLFormElement"),nF=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),bE=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),rF=li("RegExp"),sO=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Fm(t,(s,i)=>{let a;(a=e(s,i,r))!==!1&&(n[i]=a||s)}),Object.defineProperties(r,n)},sF=r=>{sO(r,(e,t)=>{if(Br(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Br(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},iF=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return mh(r)?n(r):n(String(r).split(e)),t},aF=()=>{},oF=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function lF(r){return!!(r&&Br(r.append)&&r[JP]==="FormData"&&r[ix])}const cF=r=>{const e=new Array(10),t=(n,s)=>{if(lx(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=mh(n)?[]:{};return Fm(n,(a,c)=>{const d=t(a,s+1);!Kf(d)&&(i[c]=d)}),e[s]=void 0,i}}return n};return t(r,0)},uF=li("AsyncFunction"),dF=r=>r&&(lx(r)||Br(r))&&Br(r.then)&&Br(r.catch),iO=((r,e)=>r?setImmediate:e?((t,n)=>(Bl.addEventListener("message",({source:s,data:i})=>{s===Bl&&i===t&&n.length&&n.shift()()},!1),s=>{n.push(s),Bl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Br(Bl.postMessage)),hF=typeof queueMicrotask<"u"?queueMicrotask.bind(Bl):typeof process<"u"&&process.nextTick||iO,fF=r=>r!=null&&Br(r[ix]),je={isArray:mh,isArrayBuffer:eO,isBuffer:TD,isFormData:BD,isArrayBufferView:PD,isString:OD,isNumber:tO,isBoolean:RD,isObject:lx,isPlainObject:_0,isReadableStream:$D,isRequest:qD,isResponse:VD,isHeaders:zD,isUndefined:Kf,isDate:MD,isFile:LD,isBlob:ID,isRegExp:rF,isFunction:Br,isStream:FD,isURLSearchParams:UD,isTypedArray:ZD,isFileList:DD,forEach:Fm,merge:Uw,extend:WD,trim:HD,stripBOM:GD,inherits:KD,toFlatObject:XD,kindOf:ax,kindOfTest:li,endsWith:YD,toArray:QD,forEachEntry:JD,matchAll:eF,isHTMLForm:tF,hasOwnProperty:bE,hasOwnProp:bE,reduceDescriptors:sO,freezeMethods:sF,toObjectSet:iF,toCamelCase:nF,noop:aF,toFiniteNumber:oF,findKey:nO,global:Bl,isContextDefined:rO,isSpecCompliantForm:lF,toJSONObject:cF,isAsyncFn:uF,isThenable:dF,setImmediate:iO,asap:hF,isIterable:fF};function rt(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}je.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const aO=rt.prototype,oO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{oO[r]={value:r}});Object.defineProperties(rt,oO);Object.defineProperty(aO,"isAxiosError",{value:!0});rt.from=(r,e,t,n,s,i)=>{const a=Object.create(aO);return je.toFlatObject(r,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),rt.call(a,r.message,e,t,n,s),a.cause=r,a.name=r.name,i&&Object.assign(a,i),a};const pF=null;function $w(r){return je.isPlainObject(r)||je.isArray(r)}function lO(r){return je.endsWith(r,"[]")?r.slice(0,-2):r}function wE(r,e,t){return r?r.concat(e).map(function(s,i){return s=lO(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function mF(r){return je.isArray(r)&&!r.some($w)}const gF=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function cx(r,e,t){if(!je.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=je.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!je.isUndefined(w[b])});const n=t.metaTokens,s=t.visitor||h,i=t.dots,a=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(e);if(!je.isFunction(s))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(je.isDate(v))return v.toISOString();if(!d&&je.isBlob(v))throw new rt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(v)||je.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,b,w){let N=v;if(v&&!w&&typeof v=="object"){if(je.endsWith(b,"{}"))b=n?b:b.slice(0,-2),v=JSON.stringify(v);else if(je.isArray(v)&&mF(v)||(je.isFileList(v)||je.endsWith(b,"[]"))&&(N=je.toArray(v)))return b=lO(b),N.forEach(function(E,S){!(je.isUndefined(E)||E===null)&&e.append(a===!0?wE([b],S,i):a===null?b:b+"[]",f(E))}),!1}return $w(v)?!0:(e.append(wE(w,b,i),f(v)),!1)}const p=[],m=Object.assign(gF,{defaultVisitor:h,convertValue:f,isVisitable:$w});function y(v,b){if(!je.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(v),je.forEach(v,function(N,j){(!(je.isUndefined(N)||N===null)&&s.call(e,N,je.isString(j)?j.trim():j,b,m))===!0&&y(N,b?b.concat(j):[j])}),p.pop()}}if(!je.isObject(r))throw new TypeError("data must be an object");return y(r),e}function NE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function VN(r,e){this._pairs=[],r&&cx(r,this,e)}const cO=VN.prototype;cO.append=function(e,t){this._pairs.push([e,t])};cO.toString=function(e){const t=e?function(n){return e.call(this,n,NE)}:NE;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function yF(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uO(r,e,t){if(!e)return r;const n=t&&t.encode||yF;je.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=je.isURLSearchParams(e)?e.toString():new VN(e,t).toString(n),i){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class SE{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(n){n!==null&&e(n)})}}const dO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xF=typeof URLSearchParams<"u"?URLSearchParams:VN,vF=typeof FormData<"u"?FormData:null,bF=typeof Blob<"u"?Blob:null,wF={isBrowser:!0,classes:{URLSearchParams:xF,FormData:vF,Blob:bF},protocols:["http","https","file","blob","url","data"]},zN=typeof window<"u"&&typeof document<"u",qw=typeof navigator=="object"&&navigator||void 0,NF=zN&&(!qw||["ReactNative","NativeScript","NS"].indexOf(qw.product)<0),SF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jF=zN&&window.location.href||"http://localhost",_F=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zN,hasStandardBrowserEnv:NF,hasStandardBrowserWebWorkerEnv:SF,navigator:qw,origin:jF},Symbol.toStringTag,{value:"Module"})),ar={..._F,...wF};function AF(r,e){return cx(r,new ar.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,i){return ar.isNode&&je.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function EF(r){return je.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kF(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function hO(r){function e(t,n,s,i){let a=t[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=i>=t.length;return a=!a&&je.isArray(s)?s.length:a,d?(je.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!c):((!s[a]||!je.isObject(s[a]))&&(s[a]=[]),e(t,n,s[a],i)&&je.isArray(s[a])&&(s[a]=kF(s[a])),!c)}if(je.isFormData(r)&&je.isFunction(r.entries)){const t={};return je.forEachEntry(r,(n,s)=>{e(EF(n),s,t,0)}),t}return null}function CF(r,e,t){if(je.isString(r))try{return(e||JSON.parse)(r),je.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Bm={transitional:dO,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=je.isObject(e);if(i&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return s?JSON.stringify(hO(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return AF(e,this.formSerializer).toString();if((c=je.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return cx(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),CF(e)):e}],transformResponse:[function(e){const t=this.transitional||Bm.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(n&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?rt.from(c,rt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ar.classes.FormData,Blob:ar.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],r=>{Bm.headers[r]={}});const TF=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PF=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!t||e[t]&&TF[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},jE=Symbol("internals");function cf(r){return r&&String(r).trim().toLowerCase()}function A0(r){return r===!1||r==null?r:je.isArray(r)?r.map(A0):String(r)}function OF(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const RF=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ab(r,e,t,n,s){if(je.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!je.isString(e)){if(je.isString(n))return e.indexOf(n)!==-1;if(je.isRegExp(n))return n.test(e)}}function MF(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function LF(r,e){const t=je.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let Ur=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(c,d,f){const h=cf(d);if(!h)throw new Error("header name must be a non-empty string");const p=je.findKey(s,h);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||d]=A0(c))}const a=(c,d)=>je.forEach(c,(f,h)=>i(f,h,d));if(je.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(je.isString(e)&&(e=e.trim())&&!RF(e))a(PF(e),t);else if(je.isObject(e)&&je.isIterable(e)){let c={},d,f;for(const h of e){if(!je.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(d=c[f])?je.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}a(c,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=cf(e),e){const n=je.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return OF(s);if(je.isFunction(t))return t.call(this,s,n);if(je.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cf(e),e){const n=je.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Ab(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(a){if(a=cf(a),a){const c=je.findKey(n,a);c&&(!t||Ab(n,n[c],c,t))&&(delete n[c],s=!0)}}return je.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||Ab(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return je.forEach(this,(s,i)=>{const a=je.findKey(n,i);if(a){t[a]=A0(s),delete t[i];return}const c=e?MF(i):String(i).trim();c!==i&&delete t[i],t[c]=A0(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return je.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&je.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[jE]=this[jE]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=cf(a);n[c]||(LF(s,a),n[c]=!0)}return je.isArray(e)?e.forEach(i):i(e),this}};Ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Ur.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});je.freezeMethods(Ur);function Eb(r,e){const t=this||Bm,n=e||t,s=Ur.from(n.headers);let i=n.data;return je.forEach(r,function(c){i=c.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function fO(r){return!!(r&&r.__CANCEL__)}function gh(r,e,t){rt.call(this,r??"canceled",rt.ERR_CANCELED,e,t),this.name="CanceledError"}je.inherits(gh,rt,{__CANCEL__:!0});function pO(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new rt("Request failed with status code "+t.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function IF(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function DF(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),h=n[i];a||(a=f),t[s]=d,n[s]=f;let p=i,m=0;for(;p!==s;)m+=t[p++],p=p%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),f-a<e)return;const y=h&&f-h;return y?Math.round(m*1e3/y):void 0}}function FF(r,e){let t=0,n=1e3/e,s,i;const a=(f,h=Date.now())=>{t=h,s=null,i&&(clearTimeout(i),i=null),r.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-t;p>=n?a(f,h):(s=f,i||(i=setTimeout(()=>{i=null,a(s)},n-p)))},()=>s&&a(s)]}const xy=(r,e,t=3)=>{let n=0;const s=DF(50,250);return FF(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,d=a-n,f=s(d),h=a<=c;n=a;const p={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&h?(c-a)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(p)},t)},_E=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},AE=r=>(...e)=>je.asap(()=>r(...e)),BF=ar.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ar.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ar.origin),ar.navigator&&/(msie|trident)/i.test(ar.navigator.userAgent)):()=>!0,UF=ar.hasStandardBrowserEnv?{write(r,e,t,n,s,i){const a=[r+"="+encodeURIComponent(e)];je.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),je.isString(n)&&a.push("path="+n),je.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $F(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function qF(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function mO(r,e,t){let n=!$F(e);return r&&(n||t==!1)?qF(r,e):e}const EE=r=>r instanceof Ur?{...r}:r;function tu(r,e){e=e||{};const t={};function n(f,h,p,m){return je.isPlainObject(f)&&je.isPlainObject(h)?je.merge.call({caseless:m},f,h):je.isPlainObject(h)?je.merge({},h):je.isArray(h)?h.slice():h}function s(f,h,p,m){if(je.isUndefined(h)){if(!je.isUndefined(f))return n(void 0,f,p,m)}else return n(f,h,p,m)}function i(f,h){if(!je.isUndefined(h))return n(void 0,h)}function a(f,h){if(je.isUndefined(h)){if(!je.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function c(f,h,p){if(p in e)return n(f,h);if(p in r)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,h,p)=>s(EE(f),EE(h),p,!0)};return je.forEach(Object.keys(Object.assign({},r,e)),function(h){const p=d[h]||s,m=p(r[h],e[h],h);je.isUndefined(m)&&p!==c||(t[h]=m)}),t}const gO=r=>{const e=tu({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=e;e.headers=a=Ur.from(a),e.url=uO(mO(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(je.isFormData(t)){if(ar.hasStandardBrowserEnv||ar.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[f,...h]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...h].join("; "))}}if(ar.hasStandardBrowserEnv&&(n&&je.isFunction(n)&&(n=n(e)),n||n!==!1&&BF(e.url))){const f=s&&i&&UF.read(i);f&&a.set(s,f)}return e},VF=typeof XMLHttpRequest<"u",zF=VF&&function(r){return new Promise(function(t,n){const s=gO(r);let i=s.data;const a=Ur.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,h,p,m,y,v;function b(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function N(){if(!w)return;const E=Ur.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:r,request:w};pO(function(k){t(k),b()},function(k){n(k),b()},A),w=null}"onloadend"in w?w.onloadend=N:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(N)},w.onabort=function(){w&&(n(new rt("Request aborted",rt.ECONNABORTED,r,w)),w=null)},w.onerror=function(){n(new rt("Network Error",rt.ERR_NETWORK,r,w)),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||dO;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new rt(S,A.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,r,w)),w=null},i===void 0&&a.setContentType(null),"setRequestHeader"in w&&je.forEach(a.toJSON(),function(S,A){w.setRequestHeader(A,S)}),je.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),c&&c!=="json"&&(w.responseType=s.responseType),f&&([m,v]=xy(f,!0),w.addEventListener("progress",m)),d&&w.upload&&([p,y]=xy(d),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(h=E=>{w&&(n(!E||E.type?new gh(null,r,w):E),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const j=IF(s.url);if(j&&ar.protocols.indexOf(j)===-1){n(new rt("Unsupported protocol "+j+":",rt.ERR_BAD_REQUEST,r));return}w.send(i||null)})},HF=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const i=function(f){if(!s){s=!0,c();const h=f instanceof Error?f:this.reason;n.abort(h instanceof rt?h:new gh(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,i(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const c=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),r=null)};r.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>je.asap(c),d}},WF=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},GF=async function*(r,e){for await(const t of KF(r))yield*WF(t,e)},KF=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},kE=(r,e,t,n)=>{const s=GF(r,e);let i=0,a,c=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await s.next();if(f){c(),d.close();return}let p=h.byteLength;if(t){let m=i+=p;t(m)}d.enqueue(new Uint8Array(h))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},ux=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yO=ux&&typeof ReadableStream=="function",XF=ux&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),xO=(r,...e)=>{try{return!!r(...e)}catch{return!1}},YF=yO&&xO(()=>{let r=!1;const e=new Request(ar.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),CE=64*1024,Vw=yO&&xO(()=>je.isReadableStream(new Response("").body)),vy={stream:Vw&&(r=>r.body)};ux&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vy[e]&&(vy[e]=je.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,n)})})})(new Response);const QF=async r=>{if(r==null)return 0;if(je.isBlob(r))return r.size;if(je.isSpecCompliantForm(r))return(await new Request(ar.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(je.isArrayBufferView(r)||je.isArrayBuffer(r))return r.byteLength;if(je.isURLSearchParams(r)&&(r=r+""),je.isString(r))return(await XF(r)).byteLength},ZF=async(r,e)=>{const t=je.toFiniteNumber(r.getContentLength());return t??QF(e)},JF=ux&&(async r=>{let{url:e,method:t,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:m}=gO(r);f=f?(f+"").toLowerCase():"text";let y=HF([s,i&&i.toAbortSignal()],a),v;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(d&&YF&&t!=="get"&&t!=="head"&&(w=await ZF(h,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),T;if(je.isFormData(n)&&(T=A.headers.get("content-type"))&&h.setContentType(T),A.body){const[k,P]=_E(w,xy(AE(d)));n=kE(A.body,CE,k,P)}}je.isString(p)||(p=p?"include":"omit");const N="credentials"in Request.prototype;v=new Request(e,{...m,signal:y,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:N?p:void 0});let j=await fetch(v);const E=Vw&&(f==="stream"||f==="response");if(Vw&&(c||E&&b)){const A={};["status","statusText","headers"].forEach(D=>{A[D]=j[D]});const T=je.toFiniteNumber(j.headers.get("content-length")),[k,P]=c&&_E(T,xy(AE(c),!0))||[];j=new Response(kE(j.body,CE,k,()=>{P&&P(),b&&b()}),A)}f=f||"text";let S=await vy[je.findKey(vy,f)||"text"](j,r);return!E&&b&&b(),await new Promise((A,T)=>{pO(A,T,{data:S,headers:Ur.from(j.headers),status:j.status,statusText:j.statusText,config:r,request:v})})}catch(N){throw b&&b(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,r,v),{cause:N.cause||N}):rt.from(N,N&&N.code,r,v)}}),zw={http:pF,xhr:zF,fetch:JF};je.forEach(zw,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const TE=r=>`- ${r}`,e8=r=>je.isFunction(r)||r===null||r===!1,vO={getAdapter:r=>{r=je.isArray(r)?r:[r];const{length:e}=r;let t,n;const s={};for(let i=0;i<e;i++){t=r[i];let a;if(n=t,!e8(t)&&(n=zw[(a=String(t)).toLowerCase()],n===void 0))throw new rt(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(TE).join(`
`):" "+TE(i[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:zw};function kb(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new gh(null,r)}function PE(r){return kb(r),r.headers=Ur.from(r.headers),r.data=Eb.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),vO.getAdapter(r.adapter||Bm.adapter)(r).then(function(n){return kb(r),n.data=Eb.call(r,r.transformResponse,n),n.headers=Ur.from(n.headers),n},function(n){return fO(n)||(kb(r),n&&n.response&&(n.response.data=Eb.call(r,r.transformResponse,n.response),n.response.headers=Ur.from(n.response.headers))),Promise.reject(n)})}const bO="1.9.0",dx={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{dx[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const OE={};dx.transitional=function(e,t,n){function s(i,a){return"[Axios v"+bO+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,c)=>{if(e===!1)throw new rt(s(a," has been removed"+(t?" in "+t:"")),rt.ERR_DEPRECATED);return t&&!OE[a]&&(OE[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,c):!0}};dx.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function t8(r,e,t){if(typeof r!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const c=r[i],d=c===void 0||a(c,i,r);if(d!==!0)throw new rt("option "+i+" must be "+d,rt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new rt("Unknown option "+i,rt.ERR_BAD_OPTION)}}const E0={assertOptions:t8,validators:dx},xi=E0.validators;let Zc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new SE,response:new SE}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=tu(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&E0.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),s!=null&&(je.isFunction(s)?t.paramsSerializer={serialize:s}:E0.assertOptions(s,{encode:xi.function,serialize:xi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),E0.assertOptions(t,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&je.merge(i.common,i[t.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),t.headers=Ur.concat(a,i);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,p=0,m;if(!d){const v=[PE.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,f),m=v.length,h=Promise.resolve(t);p<m;)h=h.then(v[p++],v[p++]);return h}m=c.length;let y=t;for(p=0;p<m;){const v=c[p++],b=c[p++];try{y=v(y)}catch(w){b.call(this,w);break}}try{h=PE.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=f.length;p<m;)h=h.then(f[p++],f[p++]);return h}getUri(e){e=tu(this.defaults,e);const t=mO(e.baseURL,e.url,e.allowAbsoluteUrls);return uO(t,e.params,e.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(e){Zc.prototype[e]=function(t,n){return this.request(tu(n||{},{method:e,url:t,data:(n||{}).data}))}});je.forEach(["post","put","patch"],function(e){function t(n){return function(i,a,c){return this.request(tu(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Zc.prototype[e]=t(),Zc.prototype[e+"Form"]=t(!0)});let n8=class wO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{n.subscribe(c),i=c}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,c){n.reason||(n.reason=new gh(i,a,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wO(function(s){e=s}),cancel:e}}};function r8(r){return function(t){return r.apply(null,t)}}function s8(r){return je.isObject(r)&&r.isAxiosError===!0}const Hw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hw).forEach(([r,e])=>{Hw[e]=r});function NO(r){const e=new Zc(r),t=ZP(Zc.prototype.request,e);return je.extend(t,Zc.prototype,e,{allOwnKeys:!0}),je.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return NO(tu(r,s))},t}const Dt=NO(Bm);Dt.Axios=Zc;Dt.CanceledError=gh;Dt.CancelToken=n8;Dt.isCancel=fO;Dt.VERSION=bO;Dt.toFormData=cx;Dt.AxiosError=rt;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=r8;Dt.isAxiosError=s8;Dt.mergeConfig=tu;Dt.AxiosHeaders=Ur;Dt.formToJSON=r=>hO(je.isHTMLForm(r)?new FormData(r):r);Dt.getAdapter=vO.getAdapter;Dt.HttpStatusCode=Hw;Dt.default=Dt;const{Axios:LH,AxiosError:IH,CanceledError:DH,isCancel:FH,CancelToken:BH,VERSION:UH,all:$H,Cancel:qH,isAxiosError:VH,spread:zH,toFormData:HH,AxiosHeaders:WH,HttpStatusCode:GH,formToJSON:KH,getAdapter:XH,mergeConfig:YH}=Dt,nu="http://192.168.3.245:8080";console.log(nu,"baseUrl");const qr=async(r,e={})=>{var t;try{return(await Dt.get(`${nu}${r}`,{params:e})).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},Um=async(r,e)=>{var t;console.log(nu,r,"baseaefads");try{const n=e instanceof FormData;return(await Dt.post(`${nu}${r}`,e,{headers:n?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}})).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},hs=async(r,e)=>{var t;try{return(await Dt.put(`${nu}${r}`,e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},RE=async(r,e)=>{var t;try{return(await Dt.patch(`${nu}${r}`,e)).data}catch(n){throw((t=n.response)==null?void 0:t.data)||n.message}},Xf=async r=>{var e;try{return(await Dt.delete(`${nu}${r}`)).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},Xa=({color:r})=>o.jsx("div",{className:"flex justify-center items-center",children:o.jsx("div",{style:{border:`4px solid ${r}`},className:"w-6 h-6  border-t-transparent rounded-full animate-spin"})}),HN=L.createContext({});function WN(r){const e=L.useRef(null);return e.current===null&&(e.current=r()),e.current}const GN=typeof window<"u",SO=GN?L.useLayoutEffect:L.useEffect,hx=L.createContext(null);function KN(r,e){r.indexOf(e)===-1&&r.push(e)}function XN(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Wa=(r,e,t)=>t>e?e:t<r?r:t;let YN=()=>{};const Ga={},jO=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function _O(r){return typeof r=="object"&&r!==null}const AO=r=>/^0[^.\s]+$/u.test(r);function QN(r){let e;return()=>(e===void 0&&(e=r()),e)}const Rs=r=>r,i8=(r,e)=>t=>e(r(t)),$m=(...r)=>r.reduce(i8),Yf=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class ZN{constructor(){this.subscriptions=[]}add(e){return KN(this.subscriptions,e),()=>XN(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vi=r=>r*1e3,zi=r=>r/1e3;function EO(r,e){return e?r*(1e3/e):0}const kO=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,a8=1e-7,o8=12;function l8(r,e,t,n,s){let i,a,c=0;do a=e+(t-e)/2,i=kO(a,n,s)-r,i>0?t=a:e=a;while(Math.abs(i)>a8&&++c<o8);return a}function qm(r,e,t,n){if(r===e&&t===n)return Rs;const s=i=>l8(i,0,1,r,t);return i=>i===0||i===1?i:kO(s(i),e,n)}const CO=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,TO=r=>e=>1-r(1-e),PO=qm(.33,1.53,.69,.99),JN=TO(PO),OO=CO(JN),RO=r=>(r*=2)<1?.5*JN(r):.5*(2-Math.pow(2,-10*(r-1))),eS=r=>1-Math.sin(Math.acos(r)),MO=TO(eS),LO=CO(eS),c8=qm(.42,0,1,1),u8=qm(0,0,.58,1),IO=qm(.42,0,.58,1),d8=r=>Array.isArray(r)&&typeof r[0]!="number",DO=r=>Array.isArray(r)&&typeof r[0]=="number",h8={linear:Rs,easeIn:c8,easeInOut:IO,easeOut:u8,circIn:eS,circInOut:LO,circOut:MO,backIn:JN,backInOut:OO,backOut:PO,anticipate:RO},f8=r=>typeof r=="string",ME=r=>{if(DO(r)){YN(r.length===4);const[e,t,n,s]=r;return qm(e,t,n,s)}else if(f8(r))return h8[r];return r},u0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],LE={value:null};function p8(r,e){let t=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(p){a.has(p)&&(h.schedule(p),r()),d++,p(c)}const h={schedule:(p,m=!1,y=!1)=>{const b=y&&s?t:n;return m&&a.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(c=p,s){i=!0;return}s=!0,[t,n]=[n,t],t.forEach(f),e&&LE.value&&LE.value.frameloop[e].push(d),d=0,t.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const m8=40;function FO(r,e){let t=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,a=u0.reduce((E,S)=>(E[S]=p8(i,e?S:void 0),E),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:h,update:p,preRender:m,render:y,postRender:v}=a,b=()=>{const E=Ga.useManualTiming?s.timestamp:performance.now();t=!1,Ga.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,m8),1)),s.timestamp=E,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),h.process(s),p.process(s),m.process(s),y.process(s),v.process(s),s.isProcessing=!1,t&&e&&(n=!1,r(b))},w=()=>{t=!0,n=!0,s.isProcessing||r(b)};return{schedule:u0.reduce((E,S)=>{const A=a[S];return E[S]=(T,k=!1,P=!1)=>(t||w(),A.schedule(T,k,P)),E},{}),cancel:E=>{for(let S=0;S<u0.length;S++)a[u0[S]].cancel(E)},state:s,steps:a}}const{schedule:Yt,cancel:ol,state:Hn,steps:Cb}=FO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0);let k0;function g8(){k0=void 0}const Fr={now:()=>(k0===void 0&&Fr.set(Hn.isProcessing||Ga.useManualTiming?Hn.timestamp:performance.now()),k0),set:r=>{k0=r,queueMicrotask(g8)}},BO=r=>e=>typeof e=="string"&&e.startsWith(r),tS=BO("--"),y8=BO("var(--"),nS=r=>y8(r)?x8.test(r.split("/*")[0].trim()):!1,x8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yh={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Qf={...yh,transform:r=>Wa(0,1,r)},d0={...yh,default:1},$f=r=>Math.round(r*1e5)/1e5,rS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v8(r){return r==null}const b8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sS=(r,e)=>t=>!!(typeof t=="string"&&b8.test(t)&&t.startsWith(r)||e&&!v8(t)&&Object.prototype.hasOwnProperty.call(t,e)),UO=(r,e,t)=>n=>{if(typeof n!="string")return n;const[s,i,a,c]=n.match(rS);return{[r]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},w8=r=>Wa(0,255,r),Tb={...yh,transform:r=>Math.round(w8(r))},Ul={test:sS("rgb","red"),parse:UO("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Tb.transform(r)+", "+Tb.transform(e)+", "+Tb.transform(t)+", "+$f(Qf.transform(n))+")"};function N8(r){let e="",t="",n="",s="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),s=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),s=r.substring(4,5),e+=e,t+=t,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ww={test:sS("#"),parse:N8,transform:Ul.transform},Vm=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),yo=Vm("deg"),Hi=Vm("%"),Je=Vm("px"),S8=Vm("vh"),j8=Vm("vw"),IE={...Hi,parse:r=>Hi.parse(r)/100,transform:r=>Hi.transform(r*100)},Qu={test:sS("hsl","hue"),parse:UO("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Hi.transform($f(e))+", "+Hi.transform($f(t))+", "+$f(Qf.transform(n))+")"},fn={test:r=>Ul.test(r)||Ww.test(r)||Qu.test(r),parse:r=>Ul.test(r)?Ul.parse(r):Qu.test(r)?Qu.parse(r):Ww.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Ul.transform(r):Qu.transform(r),getAnimatableNone:r=>{const e=fn.parse(r);return e.alpha=0,fn.transform(e)}},_8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A8(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(rS))==null?void 0:e.length)||0)+(((t=r.match(_8))==null?void 0:t.length)||0)>0}const $O="number",qO="color",E8="var",k8="var(",DE="${}",C8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zf(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(C8,d=>(fn.test(d)?(n.color.push(i),s.push(qO),t.push(fn.parse(d))):d.startsWith(k8)?(n.var.push(i),s.push(E8),t.push(d)):(n.number.push(i),s.push($O),t.push(parseFloat(d))),++i,DE)).split(DE);return{values:t,split:c,indexes:n,types:s}}function VO(r){return Zf(r).values}function zO(r){const{split:e,types:t}=Zf(r),n=e.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],s[a]!==void 0){const c=t[a];c===$O?i+=$f(s[a]):c===qO?i+=fn.transform(s[a]):i+=s[a]}return i}}const T8=r=>typeof r=="number"?0:fn.test(r)?fn.getAnimatableNone(r):r;function P8(r){const e=VO(r);return zO(r)(e.map(T8))}const ll={test:A8,parse:VO,createTransformer:zO,getAnimatableNone:P8};function Pb(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function O8({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let s=0,i=0,a=0;if(!e)s=i=a=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=Pb(d,c,r+1/3),i=Pb(d,c,r),a=Pb(d,c,r-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function by(r,e){return t=>t>0?e:r}const Xt=(r,e,t)=>r+(e-r)*t,Ob=(r,e,t)=>{const n=r*r,s=t*(e*e-n)+n;return s<0?0:Math.sqrt(s)},R8=[Ww,Ul,Qu],M8=r=>R8.find(e=>e.test(r));function FE(r){const e=M8(r);if(!e)return!1;let t=e.parse(r);return e===Qu&&(t=O8(t)),t}const BE=(r,e)=>{const t=FE(r),n=FE(e);if(!t||!n)return by(r,e);const s={...t};return i=>(s.red=Ob(t.red,n.red,i),s.green=Ob(t.green,n.green,i),s.blue=Ob(t.blue,n.blue,i),s.alpha=Xt(t.alpha,n.alpha,i),Ul.transform(s))},Gw=new Set(["none","hidden"]);function L8(r,e){return Gw.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function I8(r,e){return t=>Xt(r,e,t)}function iS(r){return typeof r=="number"?I8:typeof r=="string"?nS(r)?by:fn.test(r)?BE:B8:Array.isArray(r)?HO:typeof r=="object"?fn.test(r)?BE:D8:by}function HO(r,e){const t=[...r],n=t.length,s=r.map((i,a)=>iS(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)t[a]=s[a](i);return t}}function D8(r,e){const t={...r,...e},n={};for(const s in t)r[s]!==void 0&&e[s]!==void 0&&(n[s]=iS(r[s])(r[s],e[s]));return s=>{for(const i in n)t[i]=n[i](s);return t}}function F8(r,e){const t=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=r.indexes[i][n[i]],c=r.values[a]??0;t[s]=c,n[i]++}return t}const B8=(r,e)=>{const t=ll.createTransformer(e),n=Zf(r),s=Zf(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Gw.has(r)&&!s.values.length||Gw.has(e)&&!n.values.length?L8(r,e):$m(HO(F8(n,s),s.values),t):by(r,e)};function WO(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Xt(r,e,t):iS(r)(r,e)}const U8=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>Yt.update(e,t),stop:()=>ol(e),now:()=>Hn.isProcessing?Hn.timestamp:Fr.now()}},GO=(r,e,t=10)=>{let n="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)n+=Math.round(r(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},wy=2e4;function aS(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<wy;)e+=t,n=r.next(e);return e>=wy?1/0:e}function $8(r,e=100,t){const n=t({...r,keyframes:[0,e]}),s=Math.min(aS(n),wy);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:zi(s)}}const q8=5;function KO(r,e,t){const n=Math.max(e-q8,0);return EO(t-r(n),e-n)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rb=.001;function V8({duration:r=en.duration,bounce:e=en.bounce,velocity:t=en.velocity,mass:n=en.mass}){let s,i,a=1-e;a=Wa(en.minDamping,en.maxDamping,a),r=Wa(en.minDuration,en.maxDuration,zi(r)),a<1?(s=f=>{const h=f*a,p=h*r,m=h-t,y=Kw(f,a),v=Math.exp(-p);return Rb-m/y*v},i=f=>{const p=f*a*r,m=p*t+t,y=Math.pow(a,2)*Math.pow(f,2)*r,v=Math.exp(-p),b=Kw(Math.pow(f,2),a);return(-s(f)+Rb>0?-1:1)*((m-y)*v)/b}):(s=f=>{const h=Math.exp(-f*r),p=(f-t)*r+1;return-Rb+h*p},i=f=>{const h=Math.exp(-f*r),p=(t-f)*(r*r);return h*p});const c=5/r,d=H8(s,i,c);if(r=Vi(r),isNaN(d))return{stiffness:en.stiffness,damping:en.damping,duration:r};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:a*2*Math.sqrt(n*f),duration:r}}}const z8=12;function H8(r,e,t){let n=t;for(let s=1;s<z8;s++)n=n-r(n)/e(n);return n}function Kw(r,e){return r*Math.sqrt(1-e*e)}const W8=["duration","bounce"],G8=["stiffness","damping","mass"];function UE(r,e){return e.some(t=>r[t]!==void 0)}function K8(r){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...r};if(!UE(r,G8)&&UE(r,W8))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),s=n*n,i=2*Wa(.05,1,1-(r.bounce||0))*Math.sqrt(s);e={...e,mass:en.mass,stiffness:s,damping:i}}else{const t=V8(r);e={...e,...t,mass:en.mass},e.isResolvedFromDuration=!0}return e}function Ny(r=en.visualDuration,e=en.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:s}=t;const i=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:h,duration:p,velocity:m,isResolvedFromDuration:y}=K8({...t,velocity:-zi(t.velocity||0)}),v=m||0,b=f/(2*Math.sqrt(d*h)),w=a-i,N=zi(Math.sqrt(d/h)),j=Math.abs(w)<5;n||(n=j?en.restSpeed.granular:en.restSpeed.default),s||(s=j?en.restDelta.granular:en.restDelta.default);let E;if(b<1){const A=Kw(N,b);E=T=>{const k=Math.exp(-b*N*T);return a-k*((v+b*N*w)/A*Math.sin(A*T)+w*Math.cos(A*T))}}else if(b===1)E=A=>a-Math.exp(-N*A)*(w+(v+N*w)*A);else{const A=N*Math.sqrt(b*b-1);E=T=>{const k=Math.exp(-b*N*T),P=Math.min(A*T,300);return a-k*((v+b*N*w)*Math.sinh(P)+A*w*Math.cosh(P))/A}}const S={calculatedDuration:y&&p||null,next:A=>{const T=E(A);if(y)c.done=A>=p;else{let k=A===0?v:0;b<1&&(k=A===0?Vi(v):KO(E,A,T));const P=Math.abs(k)<=n,D=Math.abs(a-T)<=s;c.done=P&&D}return c.value=c.done?a:T,c},toString:()=>{const A=Math.min(aS(S),wy),T=GO(k=>S.next(A*k).value,A,30);return A+"ms "+T},toTransition:()=>{}};return S}Ny.applyToOptions=r=>{const e=$8(r,100,Ny);return r.ease=e.ease,r.duration=Vi(e.duration),r.type="keyframes",r};function Xw({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:h}){const p=r[0],m={done:!1,value:p},y=P=>c!==void 0&&P<c||d!==void 0&&P>d,v=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let b=t*e;const w=p+b,N=a===void 0?w:a(w);N!==w&&(b=N-p);const j=P=>-b*Math.exp(-P/n),E=P=>N+j(P),S=P=>{const D=j(P),O=E(P);m.done=Math.abs(D)<=f,m.value=m.done?N:O};let A,T;const k=P=>{y(m.value)&&(A=P,T=Ny({keyframes:[m.value,v(m.value)],velocity:KO(E,P,m.value),damping:s,stiffness:i,restDelta:f,restSpeed:h}))};return k(0),{calculatedDuration:null,next:P=>{let D=!1;return!T&&A===void 0&&(D=!0,S(P),k(P)),A!==void 0&&P>=A?T.next(P-A):(!D&&S(P),m)}}}function X8(r,e,t){const n=[],s=t||Ga.mix||WO,i=r.length-1;for(let a=0;a<i;a++){let c=s(r[a],r[a+1]);if(e){const d=Array.isArray(e)?e[a]||Rs:e;c=$m(d,c)}n.push(c)}return n}function Y8(r,e,{clamp:t=!0,ease:n,mixer:s}={}){const i=r.length;if(YN(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=r[0]===r[1];r[0]>r[i-1]&&(r=[...r].reverse(),e=[...e].reverse());const c=X8(e,n,s),d=c.length,f=h=>{if(a&&h<r[0])return e[0];let p=0;if(d>1)for(;p<r.length-2&&!(h<r[p+1]);p++);const m=Yf(r[p],r[p+1],h);return c[p](m)};return t?h=>f(Wa(r[0],r[i-1],h)):f}function Q8(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const s=Yf(0,e,n);r.push(Xt(t,1,s))}}function Z8(r){const e=[0];return Q8(e,r.length-1),e}function J8(r,e){return r.map(t=>t*e)}function eB(r,e){return r.map(()=>e||IO).splice(0,r.length-1)}function qf({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const s=d8(n)?n.map(ME):ME(n),i={done:!1,value:e[0]},a=J8(t&&t.length===e.length?t:Z8(e),r),c=Y8(a,e,{ease:Array.isArray(s)?s:eB(e,s)});return{calculatedDuration:r,next:d=>(i.value=c(d),i.done=d>=r,i)}}const tB=r=>r!==null;function oS(r,{repeat:e,repeatType:t="loop"},n,s=1){const i=r.filter(tB),c=s<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const nB={decay:Xw,inertia:Xw,tween:qf,keyframes:qf,spring:Ny};function XO(r){typeof r.type=="string"&&(r.type=nB[r.type])}class lS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const rB=r=>r/100;class cS extends lS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:t}=this.options;t&&t.updatedAt!==Fr.now()&&this.tick(Fr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XO(e);const{type:t=qf,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const d=t||qf;d!==qf&&typeof c[0]!="number"&&(this.mixKeyframes=$m(rB,WO(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=aS(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:m,repeatDelay:y,type:v,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,S=n;if(p){const P=Math.min(this.currentTime,s)/c;let D=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(m==="reverse"?(O=1-O,y&&(O-=y/c)):m==="mirror"&&(S=a)),E=Wa(0,1,O)*c}const A=j?{done:!1,value:h[0]}:S.next(E);i&&(A.value=i(A.value));let{done:T}=A;!j&&d!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&v!==Xw&&(A.value=oS(h,this.options,w,this.speed)),b&&b(A.value),k&&this.finish(),A}then(e,t){return this.finished.then(e,t)}get duration(){return zi(this.calculatedDuration)}get time(){return zi(this.currentTime)}set time(e){var t;e=Vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=zi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=U8,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function sB(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const $l=r=>r*180/Math.PI,Yw=r=>{const e=$l(Math.atan2(r[1],r[0]));return Qw(e)},iB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Yw,rotateZ:Yw,skewX:r=>$l(Math.atan(r[1])),skewY:r=>$l(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Qw=r=>(r=r%360,r<0&&(r+=360),r),$E=Yw,qE=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),VE=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),aB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qE,scaleY:VE,scale:r=>(qE(r)+VE(r))/2,rotateX:r=>Qw($l(Math.atan2(r[6],r[5]))),rotateY:r=>Qw($l(Math.atan2(-r[2],r[0]))),rotateZ:$E,rotate:$E,skewX:r=>$l(Math.atan(r[4])),skewY:r=>$l(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Zw(r){return r.includes("scale")?1:0}function Jw(r,e){if(!r||r==="none")return Zw(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(t)n=aB,s=t;else{const c=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=iB,s=c}if(!s)return Zw(e);const i=n[e],a=s[1].split(",").map(lB);return typeof i=="function"?i(a):a[i]}const oB=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return Jw(t,e)};function lB(r){return parseFloat(r.trim())}const xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vh=new Set(xh),zE=r=>r===yh||r===Je,cB=new Set(["x","y","z"]),uB=xh.filter(r=>!cB.has(r));function dB(r){const e=[];return uB.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Jc={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>Jw(e,"x"),y:(r,{transform:e})=>Jw(e,"y")};Jc.translateX=Jc.x;Jc.translateY=Jc.y;const eu=new Set;let e2=!1,t2=!1,n2=!1;function YO(){if(t2){const r=Array.from(eu).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const s=dB(n);s.length&&(t.set(n,s),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=t.get(n);s&&s.forEach(([i,a])=>{var c;(c=n.getValue(i))==null||c.set(a)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}t2=!1,e2=!1,eu.forEach(r=>r.complete(n2)),eu.clear()}function QO(){eu.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(t2=!0)})}function hB(){n2=!0,QO(),YO(),n2=!1}class uS{constructor(e,t,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(eu.add(this),e2||(e2=!0,Yt.read(QO),Yt.resolveKeyframes(YO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){const c=n.readValue(t,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}sB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eu.delete(this)}cancel(){this.state==="scheduled"&&(eu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fB=r=>r.startsWith("--");function pB(r,e,t){fB(e)?r.style.setProperty(e,t):r.style[e]=t}const mB=QN(()=>window.ScrollTimeline!==void 0),gB={};function yB(r,e){const t=QN(r);return()=>gB[e]??t()}const ZO=yB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gf=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,HE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gf([0,.65,.55,1]),circOut:gf([.55,0,1,.45]),backIn:gf([.31,.01,.66,-.59]),backOut:gf([.33,1.53,.69,.99])};function JO(r,e){if(r)return typeof r=="function"?ZO()?GO(r,e):"ease-out":DO(r)?gf(r):Array.isArray(r)?r.map(t=>JO(t,e)||HE.easeOut):HE[r]}function xB(r,e,t,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const h={[e]:t};d&&(h.offset=d);const p=JO(c,s);Array.isArray(p)&&(h.easing=p);const m={delay:n,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(m.pseudoElement=f),r.animate(h,m)}function e5(r){return typeof r=="function"&&"applyToOptions"in r}function vB({type:r,...e}){return e5(r)&&ZO()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bB extends lS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,YN(typeof e.type!="string");const f=vB(e);this.animation=xB(t,n,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=oS(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):pB(t,n,h),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return zi(Number(e))}get time(){return zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mB()?(this.animation.timeline=e,Rs):t(this)}}const t5={anticipate:RO,backInOut:OO,circInOut:LO};function wB(r){return r in t5}function NB(r){typeof r.ease=="string"&&wB(r.ease)&&(r.ease=t5[r.ease])}const WE=10;class SB extends bB{constructor(e){NB(e),XO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new cS({...a,autoplay:!1}),d=Vi(this.finishedTime??this.time);t.setWithVelocity(c.sample(d-WE).value,c.sample(d).value,WE),c.stop()}}const GE=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ll.test(r)||r==="0")&&!r.startsWith("url("));function jB(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function _B(r,e,t,n){const s=r[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=r[r.length-1],a=GE(s,e),c=GE(i,e);return!a||!c?!1:jB(r)||(t==="spring"||e5(t))&&n}function dS(r){return _O(r)&&"offsetHeight"in r}const AB=new Set(["opacity","clipPath","filter","transform"]),EB=QN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kB(r){var f;const{motionValue:e,name:t,repeatDelay:n,repeatType:s,damping:i,type:a}=r;if(!dS((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return EB()&&t&&AB.has(t)&&(t!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const CB=40;class TB extends lS{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:h,...p}){var v;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Fr.now();const m={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:f,element:h,...p},y=(h==null?void 0:h.KeyframeResolver)||uS;this.keyframeResolver=new y(c,(b,w,N)=>this.onKeyframesResolved(b,w,m,!N),d,f,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,t,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:h}=n;this.resolvedAt=Fr.now(),_B(e,i,a,c)||((Ga.instantAnimations||!d)&&(h==null||h(oS(e,n,t))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},y=!f&&kB(m)?new SB({...m,element:m.motionValue.owner.current}):new cS(m);y.finished.then(()=>this.notifyFinished()).catch(Rs),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OB(r){const e=PB.exec(r);if(!e)return[,];const[,t,n,s]=e;return[`--${t??n}`,s]}function n5(r,e,t=1){const[n,s]=OB(r);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return jO(a)?parseFloat(a):a}return nS(s)?n5(s,e,t+1):s}function hS(r,e){return(r==null?void 0:r[e])??(r==null?void 0:r.default)??r}const r5=new Set(["width","height","top","left","right","bottom",...xh]),RB={test:r=>r==="auto",parse:r=>r},s5=r=>e=>e.test(r),i5=[yh,Je,Hi,yo,j8,S8,RB],KE=r=>i5.find(s5(r));function MB(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||AO(r):!0}const LB=new Set(["brightness","contrast","saturate","opacity"]);function IB(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(rS)||[];if(!n)return r;const s=t.replace(n,"");let i=LB.has(e)?1:0;return n!==t&&(i*=100),e+"("+i+s+")"}const DB=/\b([a-z-]*)\(.*?\)/gu,r2={...ll,getAnimatableNone:r=>{const e=r.match(DB);return e?e.map(IB).join(" "):r}},XE={...yh,transform:Math.round},FB={rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:d0,scaleX:d0,scaleY:d0,scaleZ:d0,skew:yo,skewX:yo,skewY:yo,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Qf,originX:IE,originY:IE,originZ:Je},fS={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...FB,zIndex:XE,fillOpacity:Qf,strokeOpacity:Qf,numOctaves:XE},BB={...fS,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:r2,WebkitFilter:r2},a5=r=>BB[r];function o5(r,e){let t=a5(r);return t!==r2&&(t=ll),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const UB=new Set(["auto","none","0"]);function $B(r,e,t){let n=0,s;for(;n<r.length&&!s;){const i=r[n];typeof i=="string"&&!UB.has(i)&&Zf(i).values.length&&(s=r[n]),n++}if(s&&t)for(const i of e)r[i]=o5(t,s)}class qB extends uS{constructor(e,t,n,s,i){super(e,t,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),nS(f))){const h=n5(f,t.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!r5.has(n)||e.length!==2)return;const[s,i]=e,a=KE(s),c=KE(i);if(a!==c)if(zE(a)&&zE(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Jc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||MB(e[s]))&&n.push(s);n.length&&$B(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Jc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function VB(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const s=(t==null?void 0:t[r])??n.querySelectorAll(r);return s?Array.from(s):[]}return Array.from(r)}const l5=(r,e)=>e&&typeof r=="number"?e.transform(r):r,YE=30,zB=r=>!isNaN(parseFloat(r));class HB{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var a,c;const i=Fr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZN);const n=this.events[e].add(t);return e==="change"?()=>{n(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,YE);return EO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(r,e){return new HB(r,e)}const{schedule:pS}=FO(queueMicrotask,!1),Vs={x:!1,y:!1};function c5(){return Vs.x||Vs.y}function WB(r){return r==="x"||r==="y"?Vs[r]?null:(Vs[r]=!0,()=>{Vs[r]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}function u5(r,e){const t=VB(r),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[t,s,()=>n.abort()]}function QE(r){return!(r.pointerType==="touch"||c5())}function GB(r,e,t={}){const[n,s,i]=u5(r,t),a=c=>{if(!QE(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const h=p=>{QE(p)&&(f(p),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,s)};return n.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const d5=(r,e)=>e?r===e?!0:d5(r,e.parentElement):!1,mS=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,KB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XB(r){return KB.has(r.tagName)||r.tabIndex!==-1}const C0=new WeakSet;function ZE(r){return e=>{e.key==="Enter"&&r(e)}}function Mb(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YB=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=ZE(()=>{if(C0.has(t))return;Mb(t,"down");const s=ZE(()=>{Mb(t,"up")}),i=()=>Mb(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function JE(r){return mS(r)&&!c5()}function QB(r,e,t={}){const[n,s,i]=u5(r,t),a=c=>{const d=c.currentTarget;if(!JE(c))return;C0.add(d);const f=e(d,c),h=(y,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),C0.has(d)&&C0.delete(d),JE(y)&&typeof f=="function"&&f(y,{success:v})},p=y=>{h(y,d===window||d===document||t.useGlobalTarget||d5(d,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",m,s)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),dS(c)&&(c.addEventListener("focus",f=>YB(f,s)),!XB(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function h5(r){return _O(r)&&"ownerSVGElement"in r}function ZB(r){return h5(r)&&r.tagName==="svg"}const or=r=>!!(r&&r.getVelocity),JB=[...i5,fn,ll],eU=r=>JB.find(s5(r)),gS=L.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class tU extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,s=dS(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nU({children:r,isPresent:e,anchorX:t}){const n=L.useId(),s=L.useRef(null),i=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=L.useContext(gS);return L.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h,right:p}=i.current;if(e||!s.current||!c||!d)return;const m=t==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=n;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${m}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),o.jsx(tU,{isPresent:e,childRef:s,sizeRef:i,children:L.cloneElement(r,{ref:s})})}const rU=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:c})=>{const d=WN(sU),f=L.useId();let h=!0,p=L.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:t,custom:s,onExitComplete:m=>{d.set(m,!0);for(const y of d.values())if(!y)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[t,d,n]);return i&&h&&(p={...p}),L.useMemo(()=>{d.forEach((m,y)=>d.set(y,!1))},[t]),L.useEffect(()=>{!t&&!d.size&&n&&n()},[t]),a==="popLayout"&&(r=o.jsx(nU,{isPresent:t,anchorX:c,children:r})),o.jsx(hx.Provider,{value:p,children:r})};function sU(){return new Map}function f5(r=!0){const e=L.useContext(hx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,i=L.useId();L.useEffect(()=>{if(r)return s(i)},[r]);const a=L.useCallback(()=>r&&n&&n(i),[i,n,r]);return!t&&n?[!1,a]:[!0]}const h0=r=>r.key||"";function ek(r){const e=[];return L.Children.forEach(r,t=>{L.isValidElement(t)&&e.push(t)}),e}const Tt=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:c="left"})=>{const[d,f]=f5(a),h=L.useMemo(()=>ek(r),[r]),p=a&&!d?[]:h.map(h0),m=L.useRef(!0),y=L.useRef(h),v=WN(()=>new Map),[b,w]=L.useState(h),[N,j]=L.useState(h);SO(()=>{m.current=!1,y.current=h;for(let A=0;A<N.length;A++){const T=h0(N[A]);p.includes(T)?v.delete(T):v.get(T)!==!0&&v.set(T,!1)}},[N,p.length,p.join("-")]);const E=[];if(h!==b){let A=[...h];for(let T=0;T<N.length;T++){const k=N[T],P=h0(k);p.includes(P)||(A.splice(T,0,k),E.push(k))}return i==="wait"&&E.length&&(A=E),j(ek(A)),w(h),null}const{forceRender:S}=L.useContext(HN);return o.jsx(o.Fragment,{children:N.map(A=>{const T=h0(A),k=a&&!d?!1:h===N||p.includes(T),P=()=>{if(v.has(T))v.set(T,!0);else return;let D=!0;v.forEach(O=>{O||(D=!1)}),D&&(S==null||S(),j(y.current),a&&(f==null||f()),n&&n())};return o.jsx(rU,{isPresent:k,initial:!m.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:P,anchorX:c,children:A},T)})})},p5=L.createContext({strict:!1}),tk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hh={};for(const r in tk)hh[r]={isEnabled:e=>tk[r].some(t=>!!e[t])};function iU(r){for(const e in r)hh[e]={...hh[e],...r[e]}}const aU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sy(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||aU.has(r)}let m5=r=>!Sy(r);function oU(r){typeof r=="function"&&(m5=e=>e.startsWith("on")?!Sy(e):r(e))}try{oU(require("@emotion/is-prop-valid").default)}catch{}function lU(r,e,t){const n={};for(const s in r)s==="values"&&typeof r.values=="object"||(m5(s)||t===!0&&Sy(s)||!e&&!Sy(s)||r.draggable&&s.startsWith("onDrag"))&&(n[s]=r[s]);return n}function cU(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,s)=>s==="create"?r:(e.has(s)||e.set(s,r(s)),e.get(s))})}const fx=L.createContext({});function px(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Jf(r){return typeof r=="string"||Array.isArray(r)}const yS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...yS];function mx(r){return px(r.animate)||xS.some(e=>Jf(r[e]))}function g5(r){return!!(mx(r)||r.variants)}function uU(r,e){if(mx(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Jf(t)?t:void 0,animate:Jf(n)?n:void 0}}return r.inherit!==!1?e:{}}function dU(r){const{initial:e,animate:t}=uU(r,L.useContext(fx));return L.useMemo(()=>({initial:e,animate:t}),[nk(e),nk(t)])}function nk(r){return Array.isArray(r)?r.join(" "):r}const hU=Symbol.for("motionComponentSymbol");function Zu(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function fU(r,e,t){return L.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Zu(t)&&(t.current=n))},[e])}const vS=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pU="framerAppearId",y5="data-"+vS(pU),x5=L.createContext({});function mU(r,e,t,n,s){var b,w;const{visualElement:i}=L.useContext(fx),a=L.useContext(p5),c=L.useContext(hx),d=L.useContext(gS).reducedMotion,f=L.useRef(null);n=n||a.renderer,!f.current&&n&&(f.current=n(r,{visualState:e,parent:i,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=L.useContext(x5);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&gU(f.current,t,s,p);const m=L.useRef(!1);L.useInsertionEffect(()=>{h&&m.current&&h.update(t,c)});const y=t[y5],v=L.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return SO(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),pS.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),L.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,y)}),v.current=!1))}),h}function gU(r,e,t,n){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:h}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:v5(r.parent)),r.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&Zu(c),visualElement:r,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:f})}function v5(r){if(r)return r.options.allowProjection!==!1?r.projection:v5(r.parent)}function yU({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:s}){r&&iU(r);function i(c,d){let f;const h={...L.useContext(gS),...c,layoutId:xU(c)},{isStatic:p}=h,m=dU(c),y=n(c,p);if(!p&&GN){vU();const v=bU(h);f=v.MeasureLayout,m.visualElement=mU(s,y,h,e,v.ProjectionNode)}return o.jsxs(fx.Provider,{value:m,children:[f&&m.visualElement?o.jsx(f,{visualElement:m.visualElement,...h}):null,t(s,c,fU(y,m.visualElement,d),y,p,m.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=L.forwardRef(i);return a[hU]=s,a}function xU({layoutId:r}){const e=L.useContext(HN).id;return e&&r!==void 0?e+"-"+r:r}function vU(r,e){L.useContext(p5).strict}function bU(r){const{drag:e,layout:t}=hh;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const ep={};function wU(r){for(const e in r)ep[e]=r[e],tS(e)&&(ep[e].isCSSVariable=!0)}function b5(r,{layout:e,layoutId:t}){return vh.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!ep[r]||r==="opacity")}const NU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SU=xh.length;function jU(r,e,t){let n="",s=!0;for(let i=0;i<SU;i++){const a=xh[i],c=r[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const f=l5(c,fS[a]);if(!d){s=!1;const h=NU[a]||a;n+=`${h}(${f}) `}t&&(e[a]=f)}}return n=n.trim(),t?n=t(e,s?"":n):s&&(n="none"),n}function bS(r,e,t){const{style:n,vars:s,transformOrigin:i}=r;let a=!1,c=!1;for(const d in e){const f=e[d];if(vh.has(d)){a=!0;continue}else if(tS(d)){s[d]=f;continue}else{const h=l5(f,fS[d]);d.startsWith("origin")?(c=!0,i[d]=h):n[d]=h}}if(e.transform||(a||t?n.transform=jU(e,r.transform,t):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${f} ${h}`}}const wS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w5(r,e,t){for(const n in e)!or(e[n])&&!b5(n,t)&&(r[n]=e[n])}function _U({transformTemplate:r},e){return L.useMemo(()=>{const t=wS();return bS(t,e,r),Object.assign({},t.vars,t.style)},[e])}function AU(r,e){const t=r.style||{},n={};return w5(n,t,r),Object.assign(n,_U(r,e)),n}function EU(r,e){const t={},n=AU(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const kU={offset:"stroke-dashoffset",array:"stroke-dasharray"},CU={offset:"strokeDashoffset",array:"strokeDasharray"};function TU(r,e,t=1,n=0,s=!0){r.pathLength=1;const i=s?kU:CU;r[i.offset]=Je.transform(-n);const a=Je.transform(e),c=Je.transform(t);r[i.array]=`${a} ${c}`}function N5(r,{attrX:e,attrY:t,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},d,f,h){if(bS(r,c,f),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:p,style:m}=r;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),n!==void 0&&(p.scale=n),s!==void 0&&TU(p,s,i,a,!1)}const S5=()=>({...wS(),attrs:{}}),j5=r=>typeof r=="string"&&r.toLowerCase()==="svg";function PU(r,e,t,n){const s=L.useMemo(()=>{const i=S5();return N5(i,e,j5(n),r.transformTemplate,r.style),{...i.attrs,style:{...i.style}}},[e]);if(r.style){const i={};w5(i,r.style,r),s.style={...i,...s.style}}return s}const OU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NS(r){return typeof r!="string"||r.includes("-")?!1:!!(OU.indexOf(r)>-1||/[A-Z]/u.test(r))}function RU(r=!1){return(t,n,s,{latestValues:i},a)=>{const d=(NS(t)?PU:EU)(n,i,a,t),f=lU(n,typeof t=="string",r),h=t!==L.Fragment?{...f,...d,ref:s}:{},{children:p}=n,m=L.useMemo(()=>or(p)?p.get():p,[p]);return L.createElement(t,{...h,children:m})}}function rk(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function SS(r,e,t,n){if(typeof e=="function"){const[s,i]=rk(n);e=e(t!==void 0?t:r.custom,s,i)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[s,i]=rk(n);e=e(t!==void 0?t:r.custom,s,i)}return e}function T0(r){return or(r)?r.get():r}function MU({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,s){return{latestValues:LU(t,n,s,r),renderState:e()}}const _5=r=>(e,t)=>{const n=L.useContext(fx),s=L.useContext(hx),i=()=>MU(r,e,n,s);return t?i():WN(i)};function LU(r,e,t,n){const s={},i=n(r,{});for(const m in i)s[m]=T0(i[m]);let{initial:a,animate:c}=r;const d=mx(r),f=g5(r);e&&f&&!d&&r.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=t?t.initial===!1:!1;h=h||a===!1;const p=h?c:a;if(p&&typeof p!="boolean"&&!px(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const v=SS(r,m[y]);if(v){const{transitionEnd:b,transition:w,...N}=v;for(const j in N){let E=N[j];if(Array.isArray(E)){const S=h?E.length-1:0;E=E[S]}E!==null&&(s[j]=E)}for(const j in b)s[j]=b[j]}}}return s}function jS(r,e,t){var i;const{style:n}=r,s={};for(const a in n)(or(n[a])||e.style&&or(e.style[a])||b5(a,r)||((i=t==null?void 0:t.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const IU={useVisualState:_5({scrapeMotionValuesFromProps:jS,createRenderState:wS})};function A5(r,e,t){const n=jS(r,e,t);for(const s in r)if(or(r[s])||or(e[s])){const i=xh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=r[s]}return n}const DU={useVisualState:_5({scrapeMotionValuesFromProps:A5,createRenderState:S5})};function FU(r,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...NS(n)?DU:IU,preloadedFeatures:r,useRender:RU(s),createVisualElement:e,Component:n};return yU(a)}}function tp(r,e,t){const n=r.getProps();return SS(n,e,t!==void 0?t:n.custom,r)}const s2=r=>Array.isArray(r);function BU(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,dh(t))}function UU(r){return s2(r)?r[r.length-1]||0:r}function $U(r,e){const t=tp(r,e);let{transitionEnd:n={},transition:s={},...i}=t||{};i={...i,...n};for(const a in i){const c=UU(i[a]);BU(r,a,c)}}function qU(r){return!!(or(r)&&r.add)}function i2(r,e){const t=r.getValue("willChange");if(qU(t))return t.add(e);if(!t&&Ga.WillChange){const n=new Ga.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function E5(r){return r.props[y5]}const VU=r=>r!==null;function zU(r,{repeat:e,repeatType:t="loop"},n){const s=r.filter(VU),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[i]}const HU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),GU={type:"keyframes",duration:.8},KU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XU=(r,{keyframes:e})=>e.length>2?GU:vh.has(r)?r.startsWith("scale")?WU(e[1]):HU:KU;function YU({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:d,elapsed:f,...h}){return!!Object.keys(h).length}const _S=(r,e,t,n={},s,i)=>a=>{const c=hS(n,r)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Vi(d);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:r,motionValue:e,element:i?void 0:s};YU(c)||Object.assign(h,XU(r,h)),h.duration&&(h.duration=Vi(h.duration)),h.repeatDelay&&(h.repeatDelay=Vi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(Ga.instantAnimations||Ga.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,p&&!i&&e.get()!==void 0){const m=zU(h.keyframes,c);if(m!==void 0){Yt.update(()=>{h.onUpdate(m),h.onComplete()});return}}return c.isSync?new cS(h):new TB(h)};function QU({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function k5(r,e,{delay:t=0,transitionOverride:n,type:s}={}){let{transition:i=r.getDefaultTransition(),transitionEnd:a,...c}=e;n&&(i=n);const d=[],f=s&&r.animationState&&r.animationState.getState()[s];for(const h in c){const p=r.getValue(h,r.latestValues[h]??null),m=c[h];if(m===void 0||f&&QU(f,h))continue;const y={delay:t,...hS(i||{},h)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===v&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=E5(r);if(N){const j=window.MotionHandoffAnimation(N,h,Yt);j!==null&&(y.startTime=j,b=!0)}}i2(r,h),p.start(_S(h,p,m,r.shouldReduceMotion&&r5.has(h)?{type:!1}:y,r,b));const w=p.animation;w&&d.push(w)}return a&&Promise.all(d).then(()=>{Yt.update(()=>{a&&$U(r,a)})}),d}function a2(r,e,t={}){var d;const n=tp(r,e,t.type==="exit"?(d=r.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(s=t.transitionOverride);const i=n?()=>Promise.all(k5(r,n,t)):()=>Promise.resolve(),a=r.variantChildren&&r.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=s;return ZU(r,e,h+f,p,m,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[i,a]:[a,i];return f().then(()=>h())}else return Promise.all([i(),a(t.delay)])}function ZU(r,e,t=0,n=0,s=1,i){const a=[],c=(r.variantChildren.size-1)*n,d=s===1?(f=0)=>f*n:(f=0)=>c-f*n;return Array.from(r.variantChildren).sort(JU).forEach((f,h)=>{f.notify("AnimationStart",e),a.push(a2(f,e,{...i,delay:t+d(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function JU(r,e){return r.sortNodePosition(e)}function e9(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>a2(r,i,t));n=Promise.all(s)}else if(typeof e=="string")n=a2(r,e,t);else{const s=typeof e=="function"?tp(r,e,t.custom):e;n=Promise.all(k5(r,s,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function C5(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const t9=xS.length;function T5(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?T5(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<t9;t++){const n=xS[t],s=r.props[n];(Jf(s)||s===!1)&&(e[n]=s)}return e}const n9=[...yS].reverse(),r9=yS.length;function s9(r){return e=>Promise.all(e.map(({animation:t,options:n})=>e9(r,t,n)))}function i9(r){let e=s9(r),t=sk(),n=!0;const s=d=>(f,h)=>{var m;const p=tp(r,h,d==="exit"?(m=r.presenceContext)==null?void 0:m.custom:void 0);if(p){const{transition:y,transitionEnd:v,...b}=p;f={...f,...b,...v}}return f};function i(d){e=d(r)}function a(d){const{props:f}=r,h=T5(r.parent)||{},p=[],m=new Set;let y={},v=1/0;for(let w=0;w<r9;w++){const N=n9[w],j=t[N],E=f[N]!==void 0?f[N]:h[N],S=Jf(E),A=N===d?j.isActive:null;A===!1&&(v=w);let T=E===h[N]&&E!==f[N]&&S;if(T&&n&&r.manuallyAnimateOnMount&&(T=!1),j.protectedKeys={...y},!j.isActive&&A===null||!E&&!j.prevProp||px(E)||typeof E=="boolean")continue;const k=a9(j.prevProp,E);let P=k||N===d&&j.isActive&&!T&&S||w>v&&S,D=!1;const O=Array.isArray(E)?E:[E];let R=O.reduce(s(N),{});A===!1&&(R={});const{prevResolvedValues:F={}}=j,$={...F,...R},z=Q=>{P=!0,m.has(Q)&&(D=!0,m.delete(Q)),j.needsAnimating[Q]=!0;const oe=r.getValue(Q);oe&&(oe.liveStyle=!1)};for(const Q in $){const oe=R[Q],ne=F[Q];if(y.hasOwnProperty(Q))continue;let X=!1;s2(oe)&&s2(ne)?X=!C5(oe,ne):X=oe!==ne,X?oe!=null?z(Q):m.add(Q):oe!==void 0&&m.has(Q)?z(Q):j.protectedKeys[Q]=!0}j.prevProp=E,j.prevResolvedValues=R,j.isActive&&(y={...y,...R}),n&&r.blockInitialAnimation&&(P=!1),P&&(!(T&&k)||D)&&p.push(...O.map(Q=>({animation:Q,options:{type:N}})))}if(m.size){const w={};if(typeof f.initial!="boolean"){const N=tp(r,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(w.transition=N.transition)}m.forEach(N=>{const j=r.getBaseTarget(N),E=r.getValue(N);E&&(E.liveStyle=!0),w[N]=j??null}),p.push({animation:w})}let b=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(p):Promise.resolve()}function c(d,f){var p;if(t[d].isActive===f)return Promise.resolve();(p=r.variantChildren)==null||p.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(d,f)}),t[d].isActive=f;const h=a(d);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>t,reset:()=>{t=sk(),n=!0}}}function a9(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!C5(e,r):!1}function Cl(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sk(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o9 extends ml{constructor(e){super(e),e.animationState||(e.animationState=i9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();px(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let l9=0;class c9 extends ml{constructor(){super(...arguments),this.id=l9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const u9={animation:{Feature:o9},exit:{Feature:c9}};function np(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function zm(r){return{point:{x:r.pageX,y:r.pageY}}}const d9=r=>e=>mS(e)&&r(e,zm(e));function Vf(r,e,t,n){return np(r,e,d9(t),n)}function P5({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function h9({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function f9(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const O5=1e-4,p9=1-O5,m9=1+O5,R5=.01,g9=0-R5,y9=0+R5;function vr(r){return r.max-r.min}function x9(r,e,t){return Math.abs(r-e)<=t}function ik(r,e,t,n=.5){r.origin=n,r.originPoint=Xt(e.min,e.max,r.origin),r.scale=vr(t)/vr(e),r.translate=Xt(t.min,t.max,r.origin)-r.originPoint,(r.scale>=p9&&r.scale<=m9||isNaN(r.scale))&&(r.scale=1),(r.translate>=g9&&r.translate<=y9||isNaN(r.translate))&&(r.translate=0)}function zf(r,e,t,n){ik(r.x,e.x,t.x,n?n.originX:void 0),ik(r.y,e.y,t.y,n?n.originY:void 0)}function ak(r,e,t){r.min=t.min+e.min,r.max=r.min+vr(e)}function v9(r,e,t){ak(r.x,e.x,t.x),ak(r.y,e.y,t.y)}function ok(r,e,t){r.min=e.min-t.min,r.max=r.min+vr(e)}function Hf(r,e,t){ok(r.x,e.x,t.x),ok(r.y,e.y,t.y)}const lk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ju=()=>({x:lk(),y:lk()}),ck=()=>({min:0,max:0}),on=()=>({x:ck(),y:ck()});function js(r){return[r("x"),r("y")]}function Lb(r){return r===void 0||r===1}function o2({scale:r,scaleX:e,scaleY:t}){return!Lb(r)||!Lb(e)||!Lb(t)}function Tl(r){return o2(r)||M5(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function M5(r){return uk(r.x)||uk(r.y)}function uk(r){return r&&r!=="0%"}function jy(r,e,t){const n=r-t,s=e*n;return t+s}function dk(r,e,t,n,s){return s!==void 0&&(r=jy(r,s,n)),jy(r,t,n)+e}function l2(r,e=0,t=1,n,s){r.min=dk(r.min,e,t,n,s),r.max=dk(r.max,e,t,n,s)}function L5(r,{x:e,y:t}){l2(r.x,e.translate,e.scale,e.originPoint),l2(r.y,t.translate,t.scale,t.originPoint)}const hk=.999999999999,fk=1.0000000000001;function b9(r,e,t,n=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=t[c],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&td(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,L5(r,a)),n&&Tl(i.latestValues)&&td(r,i.latestValues))}e.x<fk&&e.x>hk&&(e.x=1),e.y<fk&&e.y>hk&&(e.y=1)}function ed(r,e){r.min=r.min+e,r.max=r.max+e}function pk(r,e,t,n,s=.5){const i=Xt(r.min,r.max,s);l2(r,e,t,i,n)}function td(r,e){pk(r.x,e.x,e.scaleX,e.scale,e.originX),pk(r.y,e.y,e.scaleY,e.scale,e.originY)}function I5(r,e){return P5(f9(r.getBoundingClientRect(),e))}function w9(r,e,t){const n=I5(r,t),{scroll:s}=e;return s&&(ed(n.x,s.offset.x),ed(n.y,s.offset.y)),n}const D5=({current:r})=>r?r.ownerDocument.defaultView:null,mk=(r,e)=>Math.abs(r-e);function N9(r,e){const t=mk(r.x,e.x),n=mk(r.y,e.y);return Math.sqrt(t**2+n**2)}class F5{constructor(e,t,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Db(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=N9(p.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:v}=p,{timestamp:b}=Hn;this.history.push({...v,timestamp:b});const{onStart:w,onMove:N}=this.handlers;m||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ib(m,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Db(p.type==="pointercancel"?this.lastMoveEventInfo:Ib(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,w),v&&v(p,w)},!mS(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=s||window;const a=zm(e),c=Ib(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=Hn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=t;h&&h(e,Db(c,this.history)),this.removeListeners=$m(Vf(this.contextWindow,"pointermove",this.handlePointerMove),Vf(this.contextWindow,"pointerup",this.handlePointerUp),Vf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function Ib(r,e){return e?{point:e(r.point)}:r}function gk(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Db({point:r},e){return{point:r,delta:gk(r,B5(e)),offset:gk(r,S9(e)),velocity:j9(e,.1)}}function S9(r){return r[0]}function B5(r){return r[r.length-1]}function j9(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const s=B5(r);for(;t>=0&&(n=r[t],!(s.timestamp-n.timestamp>Vi(e)));)t--;if(!n)return{x:0,y:0};const i=zi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _9(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Xt(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Xt(t,r,n.max):Math.min(r,t)),r}function yk(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function A9(r,{top:e,left:t,bottom:n,right:s}){return{x:yk(r.x,t,s),y:yk(r.y,e,n)}}function xk(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function E9(r,e){return{x:xk(r.x,e.x),y:xk(r.y,e.y)}}function k9(r,e){let t=.5;const n=vr(r),s=vr(e);return s>n?t=Yf(e.min,e.max-n,r.min):n>s&&(t=Yf(r.min,r.max-s,e.min)),Wa(0,1,t)}function C9(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const c2=.35;function T9(r=c2){return r===!1?r=0:r===!0&&(r=c2),{x:vk(r,"left","right"),y:vk(r,"top","bottom")}}function vk(r,e,t){return{min:bk(r,e),max:bk(r,t)}}function bk(r,e){return typeof r=="number"?r:r[e]||0}const P9=new WeakMap;class O9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zm(h).point)},i=(h,p)=>{const{drag:m,dragPropagation:y,onDragStart:v}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WB(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),js(w=>{let N=this.getAxisMotionValue(w).get()||0;if(Hi.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const E=j.layout.layoutBox[w];E&&(N=vr(E)*(parseFloat(N)/100))}}this.originPoint[w]=N}),v&&Yt.postRender(()=>v(h,p)),i2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,p)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=p;if(y&&this.currentDirection===null){this.currentDirection=R9(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(h,p)},c=(h,p)=>this.stop(h,p),d=()=>js(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new F5(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:D5(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Yt.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!f0(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=_9(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=A9(n.layoutBox,e):this.constraints=!1,this.elastic=T9(t),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&js(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=C9(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Zu(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=w9(n,s.root,this.visualElement.getTransformPagePoint());let a=E9(s.layout.layoutBox,i);if(t){const c=t(h9(a));this.hasMutatedConstraints=!!c,c&&(a=P5(c))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=js(h=>{if(!f0(h,t,this.currentDirection))return;let p=d&&d[h]||{};a&&(p={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:n?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,v)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return i2(this.visualElement,e),n.start(_S(e,n,0,t,this.visualElement,!1))}stopAnimation(){js(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){js(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){js(t=>{const{drag:n}=this.getProps();if(!f0(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[t];i.set(e[t]-Xt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Zu(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};js(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=k9({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),js(a=>{if(!f0(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(Xt(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;P9.set(this.visualElement,this);const e=this.visualElement.current,t=Vf(e,"pointerdown",d=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Zu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Yt.read(n);const a=np(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(js(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=d[h].translate,p.set(p.get()+d[h].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=c2,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function f0(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function R9(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class M9 extends ml{constructor(e){super(e),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new O9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const wk=r=>(e,t)=>{r&&Yt.postRender(()=>r(e,t))};class L9 extends ml{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(e){this.session=new F5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:wk(e),onStart:wk(t),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Yt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Vf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const P0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nk(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const uf={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Je.test(r))r=parseFloat(r);else return r;const t=Nk(r,e.target.x),n=Nk(r,e.target.y);return`${t}% ${n}%`}},I9={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,s=ll.parse(r);if(s.length>5)return n;const i=ll.createTransformer(r),a=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=Xt(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}};class D9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;wU(F9),i&&(t.group&&t.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),P0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,s||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Yt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U5(r){const[e,t]=f5(),n=L.useContext(HN);return o.jsx(D9,{...r,layoutGroup:n,switchLayoutGroup:L.useContext(x5),isPresent:e,safeToRemove:t})}const F9={borderRadius:{...uf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uf,borderTopRightRadius:uf,borderBottomLeftRadius:uf,borderBottomRightRadius:uf,boxShadow:I9};function B9(r,e,t){const n=or(r)?r:dh(r);return n.start(_S("",n,e,t)),n.animation}const U9=(r,e)=>r.depth-e.depth;class $9{constructor(){this.children=[],this.isDirty=!1}add(e){KN(this.children,e),this.isDirty=!0}remove(e){XN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U9),this.isDirty=!1,this.children.forEach(e)}}function q9(r,e){const t=Fr.now(),n=({timestamp:s})=>{const i=s-t;i>=e&&(ol(n),r(i-e))};return Yt.setup(n,!0),()=>ol(n)}const $5=["TopLeft","TopRight","BottomLeft","BottomRight"],V9=$5.length,Sk=r=>typeof r=="string"?parseFloat(r):r,jk=r=>typeof r=="number"||Je.test(r);function z9(r,e,t,n,s,i){s?(r.opacity=Xt(0,t.opacity??1,H9(n)),r.opacityExit=Xt(e.opacity??1,0,W9(n))):i&&(r.opacity=Xt(e.opacity??1,t.opacity??1,n));for(let a=0;a<V9;a++){const c=`border${$5[a]}Radius`;let d=_k(e,c),f=_k(t,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||jk(d)===jk(f)?(r[c]=Math.max(Xt(Sk(d),Sk(f),n),0),(Hi.test(f)||Hi.test(d))&&(r[c]+="%")):r[c]=f}(e.rotate||t.rotate)&&(r.rotate=Xt(e.rotate||0,t.rotate||0,n))}function _k(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const H9=q5(0,.5,MO),W9=q5(.5,.95,Rs);function q5(r,e,t){return n=>n<r?0:n>e?1:t(Yf(r,e,n))}function Ak(r,e){r.min=e.min,r.max=e.max}function Ns(r,e){Ak(r.x,e.x),Ak(r.y,e.y)}function Ek(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function kk(r,e,t,n,s){return r-=e,r=jy(r,1/t,n),s!==void 0&&(r=jy(r,1/s,n)),r}function G9(r,e=0,t=1,n=.5,s,i=r,a=r){if(Hi.test(e)&&(e=parseFloat(e),e=Xt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Xt(i.min,i.max,n);r===i&&(c-=e),r.min=kk(r.min,e,t,c,s),r.max=kk(r.max,e,t,c,s)}function Ck(r,e,[t,n,s],i,a){G9(r,e[t],e[n],e[s],e.scale,i,a)}const K9=["x","scaleX","originX"],X9=["y","scaleY","originY"];function Tk(r,e,t,n){Ck(r.x,e,K9,t?t.x:void 0,n?n.x:void 0),Ck(r.y,e,X9,t?t.y:void 0,n?n.y:void 0)}function Pk(r){return r.translate===0&&r.scale===1}function V5(r){return Pk(r.x)&&Pk(r.y)}function Ok(r,e){return r.min===e.min&&r.max===e.max}function Y9(r,e){return Ok(r.x,e.x)&&Ok(r.y,e.y)}function Rk(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function z5(r,e){return Rk(r.x,e.x)&&Rk(r.y,e.y)}function Mk(r){return vr(r.x)/vr(r.y)}function Lk(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class Q9{constructor(){this.members=[]}add(e){KN(this.members,e),e.scheduleRender()}remove(e){if(XN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let n;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z9(r,e,t){let n="";const s=r.x.translate/e.x,i=r.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:m,skewX:y,skewY:v}=t;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),m&&(n+=`rotateY(${m}deg) `),y&&(n+=`skewX(${y}deg) `),v&&(n+=`skewY(${v}deg) `)}const c=r.x.scale*e.x,d=r.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const Fb=["","X","Y","Z"],J9={visibility:"hidden"},e$=1e3;let t$=0;function Bb(r,e,t,n){const{latestValues:s}=e;s[r]&&(t[r]=s[r],e.setStaticValue(r,0),n&&(n[r]=0))}function H5(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=E5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Yt,!(s||i))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&H5(n)}function W5({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=t$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s$),this.nodes.forEach(c$),this.nodes.forEach(u$),this.nodes.forEach(i$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new $9)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ZN),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=h5(a)&&!ZB(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),r){let h;const p=()=>this.root.updateBlockedByResize=!1;r(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=q9(p,250),P0.hasAnimatedSinceResize&&(P0.hasAnimatedSinceResize=!1,this.nodes.forEach(Dk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||m$,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=f.getProps(),N=!this.targetLayout||!z5(this.targetLayout,y),j=!p&&m;if(this.options.layoutRoot||this.resumeFrom||j||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...hS(v,"layout"),onPlay:b,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,j)}else p||Dk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ik);return}this.isUpdating||this.nodes.forEach(o$),this.isUpdating=!1,this.nodes.forEach(l$),this.nodes.forEach(n$),this.nodes.forEach(r$),this.clearAllSnapshots();const c=Fr.now();Hn.delta=Wa(0,1e3/60,c-Hn.timestamp),Hn.timestamp=c,Hn.isProcessing=!0,Cb.update.process(Hn),Cb.preRender.process(Hn),Cb.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a$),this.sharedNodes.forEach(h$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vr(this.snapshot.measuredBox.x)&&!vr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!V5(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||Tl(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),g$(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return on();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(y$))){const{scroll:h}=this.root;h&&(ed(c.x,h.offset.x),ed(c.y,h.offset.y))}return c}removeElementScroll(a){var d;const c=on();if(Ns(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ns(c,a),ed(c.x,p.offset.x),ed(c.y,p.offset.y))}return c}applyTransform(a,c=!1){const d=on();Ns(d,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&td(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Tl(h.latestValues)&&td(d,h.latestValues)}return Tl(this.latestValues)&&td(d,this.latestValues),d}removeTransform(a){const c=on();Ns(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Tl(f.latestValues))continue;o2(f.latestValues)&&f.updateSnapshot();const h=on(),p=f.measurePageBox();Ns(h,p),Tk(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Tl(this.latestValues)&&Tk(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Hf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),L5(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Hf(this.relativeTargetOrigin,this.target,y.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o2(this.parent.latestValues)||M5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Ns(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;b9(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ek(this.prevProjectionDelta.x,this.projectionDelta.x),Ek(this.prevProjectionDelta.y,this.projectionDelta.y)),zf(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Lk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ju(),this.projectionDelta=Ju(),this.projectionDeltaWithTransform=Ju()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},h={...this.latestValues},p=Ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=on(),y=d?d.source:void 0,v=this.layout?this.layout.source:void 0,b=y!==v,w=this.getStack(),N=!w||w.members.length<=1,j=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(p$));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const A=S/1e3;Fk(p.x,a.x,A),Fk(p.y,a.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f$(this.relativeTarget,this.relativeTargetOrigin,m,A),E&&Y9(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=on()),Ns(E,this.relativeTarget)),b&&(this.animationValues=h,z9(h,f,this.latestValues,A,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{P0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dh(0)),this.currentAnimation=B9(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:h}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&G5(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||on();const p=vr(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+p;const m=vr(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+m}Ns(c,d),td(c,h),zf(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Q9),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Bb("z",a,f,this.animationValues);for(let h=0;h<Fb.length;h++)Bb(`rotate${Fb[h]}`,a,f,this.animationValues),Bb(`skew${Fb[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return J9;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=T0(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=T0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Z9(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in ep){if(h[y]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=ep[y],N=c.transform==="none"?h[y]:v(h[y],f);if(b){const j=b.length;for(let E=0;E<j;E++)c[b[E]]=N}else w?this.options.visualElement.renderState.vars[y]=N:c[y]=N}return this.options.layoutId&&(c.pointerEvents=f===this?T0(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Ik),this.root.sharedNodes.clear()}}}function n$(r){r.updateLayout()}function r$(r){var t;const e=((t=r.resumeFrom)==null?void 0:t.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=r.layout,{animationType:i}=r.options,a=e.source!==r.layout.source;i==="size"?js(p=>{const m=a?e.measuredBox[p]:e.layoutBox[p],y=vr(m);m.min=n[p].min,m.max=m.min+y}):G5(i,e.layoutBox,n)&&js(p=>{const m=a?e.measuredBox[p]:e.layoutBox[p],y=vr(n[p]);m.max=m.min+y,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+y)});const c=Ju();zf(c,n,e.layoutBox);const d=Ju();a?zf(d,r.applyTransform(s,!0),e.measuredBox):zf(d,n,e.layoutBox);const f=!V5(c);let h=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const v=on();Hf(v,e.layoutBox,m.layoutBox);const b=on();Hf(b,n,y.layoutBox),z5(v,b)||(h=!0),p.options.layoutRoot&&(r.relativeTarget=b,r.relativeTargetOrigin=v,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function s$(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function i$(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function a$(r){r.clearSnapshot()}function Ik(r){r.clearMeasurements()}function o$(r){r.isLayoutDirty=!1}function l$(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function Dk(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function c$(r){r.resolveTargetDelta()}function u$(r){r.calcProjection()}function d$(r){r.resetSkewAndRotation()}function h$(r){r.removeLeadSnapshot()}function Fk(r,e,t){r.translate=Xt(e.translate,0,t),r.scale=Xt(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Bk(r,e,t,n){r.min=Xt(e.min,t.min,n),r.max=Xt(e.max,t.max,n)}function f$(r,e,t,n){Bk(r.x,e.x,t.x,n),Bk(r.y,e.y,t.y,n)}function p$(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const m$={duration:.45,ease:[.4,0,.1,1]},Uk=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),$k=Uk("applewebkit/")&&!Uk("chrome/")?Math.round:Rs;function qk(r){r.min=$k(r.min),r.max=$k(r.max)}function g$(r){qk(r.x),qk(r.y)}function G5(r,e,t){return r==="position"||r==="preserve-aspect"&&!x9(Mk(e),Mk(t),.2)}function y$(r){var e;return r!==r.root&&((e=r.scroll)==null?void 0:e.wasRoot)}const x$=W5({attachResizeListener:(r,e)=>np(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ub={current:void 0},K5=W5({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ub.current){const r=new x$({});r.mount(window),r.setOptions({layoutScroll:!0}),Ub.current=r}return Ub.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),v$={pan:{Feature:L9},drag:{Feature:M9,ProjectionNode:K5,MeasureLayout:U5}};function Vk(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=n[s];i&&Yt.postRender(()=>i(e,zm(e)))}class b$ extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=GB(e,(t,n)=>(Vk(this.node,n,"Start"),s=>Vk(this.node,s,"End"))))}unmount(){}}class w$ extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$m(np(this.node.current,"focus",()=>this.onFocus()),np(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zk(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=n[s];i&&Yt.postRender(()=>i(e,zm(e)))}class N$ extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=QB(e,(t,n)=>(zk(this.node,n,"Start"),(s,{success:i})=>zk(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u2=new WeakMap,$b=new WeakMap,S$=r=>{const e=u2.get(r.target);e&&e(r)},j$=r=>{r.forEach(S$)};function _$({root:r,...e}){const t=r||document;$b.has(t)||$b.set(t,{});const n=$b.get(t),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(j$,{root:r,...e})),n[s]}function A$(r,e,t){const n=_$(e);return u2.set(r,t),n.observe(r),()=>{u2.delete(r),n.unobserve(r)}}const E$={some:0,all:1};class k$ extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:E$[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=f?h:p;m&&m(d)};return A$(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(C$(e,t))&&this.startObserver()}unmount(){}}function C$({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const T$={inView:{Feature:k$},tap:{Feature:N$},focus:{Feature:w$},hover:{Feature:b$}},P$={layout:{ProjectionNode:K5,MeasureLayout:U5}},d2={current:null},X5={current:!1};function O$(){if(X5.current=!0,!!GN)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>d2.current=r.matches;r.addListener(e),e()}else d2.current=!1}const R$=new WeakMap;function M$(r,e,t){for(const n in e){const s=e[n],i=t[n];if(or(s))r.addValue(n,s);else if(or(i))r.addValue(n,dh(s,{owner:r}));else if(i!==s)if(r.hasValue(n)){const a=r.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=r.getStaticValue(n);r.addValue(n,dh(a!==void 0?a:s,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const Hk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L${scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Fr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Yt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=mx(t),this.isVariantNode=g5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];d[m]!==void 0&&or(y)&&y.set(d[m],!1)}}mount(e){this.current=e,R$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),X5.current||O$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=vh.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hh){const t=hh[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Hk.length;n++){const s=Hk[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=M$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=dh(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(jO(n)||AO(n))?n=parseFloat(n):!eU(n)&&ll.test(t)&&(n=o5(e,t)),this.setBaseTarget(e,or(n)?n.get():n)),or(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var i;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=SS(this.props,t,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!or(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZN),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Y5 extends L${constructor(){super(...arguments),this.KeyframeResolver=qB}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;or(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Q5(r,{style:e,vars:t},n,s){Object.assign(r.style,e,s&&s.getProjectionStyles(n));for(const i in t)r.style.setProperty(i,t[i])}function I$(r){return window.getComputedStyle(r)}class D$ extends Y5{constructor(){super(...arguments),this.type="html",this.renderInstance=Q5}readValueFromInstance(e,t){var n;if(vh.has(t))return(n=this.projection)!=null&&n.isProjecting?Zw(t):oB(e,t);{const s=I$(e),i=(tS(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return I5(e,t)}build(e,t,n){bS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return jS(e,t,n)}}const Z5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F$(r,e,t,n){Q5(r,e,void 0,n);for(const s in e.attrs)r.setAttribute(Z5.has(s)?s:vS(s),e.attrs[s])}class B$ extends Y5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vh.has(t)){const n=a5(t);return n&&n.default||0}return t=Z5.has(t)?t:vS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return A5(e,t,n)}build(e,t,n){N5(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,s){F$(e,t,n,s)}mount(e){this.isSVGTag=j5(e.tagName),super.mount(e)}}const U$=(r,e)=>NS(r)?new B$(e):new D$(e,{allowProjection:r!==L.Fragment}),$$=FU({...u9,...T$,...v$,...P$},U$),Ee=cU($$),q$=KP().shape({username:Bw().required("Username or email is required"),password:Bw().required("Password is required")}),V$=()=>{const[r,e]=L.useState(!1),[t,n]=L.useState(!1),{login:s}=rx(),{register:i,handleSubmit:a,formState:{errors:c}}=LI({resolver:FI(q$)}),d=async f=>{e(!0);try{const h={identifier:f.username,password:f.password},p=await Um("/api/auth/login",h),{token:m,user:y}=p;s({token:m,user:y}),fe.success("Login successful!")}catch(h){console.log("http://192.168.3.245:8080","import.meta.env.VITE_API_BASE_URL"),console.log(h,"sfads"),fe.error((h==null?void 0:h.message)||"Login failed")}finally{e(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-cyan-50 to-blue-200 relative overflow-hidden",children:[o.jsx(MN,{position:"top-center"}),o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/subtle-white-feathers.png')] opacity-10 animate-pulse"}),o.jsx(Ee.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative w-full max-w-md mx-4 sm:max-w-lg lg:max-w-xl p-8 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-3xl shadow-xl border border-blue-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs(Ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col items-center gap-4 mb-8",children:[o.jsx("img",{src:kD,alt:"Allied Logo",className:"w-28 h-28 object-contain transition-transform hover:scale-110"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white tracking-tight",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center max-w-xs leading-relaxed",children:"Sign in to access your admin dashboard and manage your platform."})]}),o.jsxs("form",{onSubmit:a(d),className:"w-full space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username or Email"}),o.jsx(Ee.input,{...i("username"),placeholder:"Enter username or email",className:"w-full px-4 py-3 text-sm bg-blue-50 dark:bg-gray-700 border border-blue-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-300",whileFocus:{scale:1.02}}),c.username&&o.jsx("p",{className:"text-xs text-red-400",children:c.username.message})]}),o.jsxs("div",{className:"space-y-2 relative",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ee.input,{...i("password"),placeholder:"Enter password",type:t?"text":"password",className:"w-full px-4 py-3 text-sm bg-blue-50 dark:bg-gray-700 border border-blue-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-300 pr-12",whileFocus:{scale:1.02}}),o.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200",onClick:()=>n(!t),children:t?o.jsx(AD,{size:20}):o.jsx(ED,{size:20})})]}),c.password&&o.jsx("p",{className:"text-xs text-red-400",children:c.password.message})]}),o.jsx(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full py-3 px-6 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold rounded-xl shadow-lg focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-700 transition-all duration-300 flex items-center justify-center",disabled:r,children:r?o.jsx(Xa,{color:"white"}):"Sign In"})]})]})})]})},Gr=({children:r})=>{const{isLoggedIn:e}=rx();return r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H$=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Wk=r=>{const e=H$(r);return e.charAt(0).toUpperCase()+e.slice(1)},J5=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),W$=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...c},d)=>L.createElement("svg",{ref:d,...G$,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:J5("lucide",s),...!i&&!W$(c)&&{"aria-hidden":"true"},...c},[...a.map(([f,h])=>L.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(r,e)=>{const t=L.forwardRef(({className:n,...s},i)=>L.createElement(K$,{ref:i,iconNode:e,className:J5(`lucide-${z$(Wk(r))}`,`lucide-${r}`,n),...s}));return t.displayName=Wk(r),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qu=Mt("award",X$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Q$=Mt("book-marked",Y$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gk=Mt("calendar",Z$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qb=Mt("chart-column",J$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kk=Mt("chevron-down",eq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xk=Mt("chevron-right",tq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yk=Mt("chevron-up",nq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sq=Mt("circle-alert",rq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],df=Mt("loader-circle",iq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oq=Mt("log-out",aq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cq=Mt("mail",lq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],dq=Mt("menu",uq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Qk=Mt("moon",hq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pq=Mt("package",fq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zk=Mt("plus",mq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vb=Mt("save",gq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h2=Mt("search",yq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vq=Mt("square-pen",xq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jk=Mt("sun",bq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Nq=Mt("sunset",wq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],eC=Mt("trash-2",Sq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_q=Mt("trending-up",jq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Eq=Mt("upload",Aq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tC=Mt("user",kq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],e3=Mt("users",Cq);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f2=Mt("x",Tq),Pq=()=>{var Y,le;const[r,e]=L.useState(null),[t,n]=L.useState(!0),[s,i]=L.useState(null),[a,c]=L.useState(!0),[d,f]=L.useState(!0),[h,p]=L.useState(null),[m,y]=L.useState(!1),[v,b]=L.useState(""),[w,N]=L.useState("sequence"),[j,E]=L.useState("asc"),[S,A]=L.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[T,k]=L.useState({mainTitle:"",mainDescription:"",media:[]}),[P,D]=L.useState({title:"",description:"",sequence:1}),O=async()=>{try{n(!0);const te=await qr(`/api/chooseus?search=${encodeURIComponent(v)}&sortBy=${w}&sortOrder=${j}&page=${S.currentPage}&limit=${S.itemsPerPage}`);te.success?(e(te.data),te.pagination&&A(te.pagination),k({mainTitle:te.data.mainTitle||"",mainDescription:te.data.mainDescription||"",media:te.data.media||[]}),i(null)):i(te.error||"Failed to fetch data")}catch(te){i("Network error: "+te.message)}finally{n(!1)}},R=async te=>{te.preventDefault();try{n(!0);const V=new FormData;V.append("title",T.title),V.append("description",T.description),T.media.forEach(ue=>{V.append("media",ue)});const ie=await Um("/api/chooseus",V);ie.success?(await O(),i(null)):i(ie.error||"Failed to save main section")}catch(V){i("Network error: "+V.message)}finally{n(!1)}},F=async te=>{te.preventDefault();try{n(!0);const V=new FormData;V.append("title",P.title),V.append("description",P.description),V.append("sequence",P.sequence.toString());const ie=await RE("/api/chooseus/cards",{formData:V});ie.success?(await O(),y(!1),D({title:"",description:"",sequence:1}),i(null)):i(ie.error||"Failed to add card")}catch(V){i("Network error: "+V.message)}finally{n(!1)}},$=async(te,V)=>{V.preventDefault();try{n(!0);const ie=new FormData;ie.append("title",P.title),ie.append("description",P.description),ie.append("sequence",P.sequence.toString());const ue=await RE(`/api/chooseus/cards/${te}`,{formData:ie});ue.success?(await O(),p(null),D({title:"",description:"",sequence:1}),i(null)):i(ue.error||"Failed to update card")}catch(ie){i("Network error: "+ie.message)}finally{n(!1)}},z=async te=>{if(window.confirm("Are you sure you want to delete this card?"))try{n(!0);const V=await Xf(`/api/chooseus/cards/${te}`);V.success?(await O(),i(null)):i(V.error||"Failed to delete card")}catch(V){i("Network error: "+V.message)}finally{n(!1)}},Z=async()=>{if(window.confirm("Are you sure you want to delete the entire ChooseUs section? This action cannot be undone."))try{n(!0);const te=await Xf("/api/chooseus");te.success?(e(null),k({mainTitle:"",mainDescription:"",media:[]}),i(null)):i(te.error||"Failed to delete section")}catch(te){i("Network error: "+te.message)}finally{n(!1)}},se=te=>{const V=Array.from(te.target.files);V.length!==0&&k(ie=>({...ie,media:[...ie.media,...V]}))},Q=te=>{k(V=>({...V,media:V.media.filter((ie,ue)=>ue!==te)}))},oe=te=>{p(te._id),D({title:te.title,description:te.description,sequence:te.sequence})},ne=()=>{p(null),y(!1),D({title:"",description:"",sequence:1})},X=te=>{b(te),A(V=>({...V,currentPage:1}))},I=te=>{w===te?E(j==="asc"?"desc":"asc"):(N(te),E("asc")),A(V=>({...V,currentPage:1}))},q=te=>{A(V=>({...V,currentPage:te}))};return L.useEffect(()=>{O()},[v,w,j,S.currentPage]),t&&!r?o.jsxs("div",{className:"flex items-center justify-center h-96",children:[o.jsx(df,{className:"w-8 h-8 animate-spin text-blue-600"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading ChooseUs data..."})]}):o.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Why Choose Us Section"}),o.jsx("p",{className:"text-gray-600",children:"Manage the main section content and cards"})]}),s&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[o.jsx(sq,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("span",{className:"text-red-700",children:s}),o.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:o.jsx(f2,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:[o.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer",onClick:()=>c(!a),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Main Section Content"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:te=>{te.stopPropagation(),Z()},className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50",title:"Delete Entire Section",disabled:t,children:o.jsx(eC,{className:"w-4 h-4"})}),a?o.jsx(Yk,{className:"w-5 h-5 text-gray-500"}):o.jsx(Kk,{className:"w-5 h-5 text-gray-500"})]})]})}),a&&o.jsx("div",{className:"p-6",children:o.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Title"}),o.jsx("input",{type:"text",value:T.mainTitle,onChange:te=>k(V=>({...V,mainTitle:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter main title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Description"}),o.jsx("textarea",{value:T.mainDescription,onChange:te=>k(V=>({...V,mainDescription:te.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter main description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Files"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:se,className:"hidden",id:"media-upload"}),o.jsxs("label",{htmlFor:"media-upload",className:"flex flex-col items-center justify-center cursor-pointer",children:[o.jsx(Eq,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload media files"})]}),T.media.length>0&&o.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:T.media.map((te,V)=>o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"w-full h-24 rounded-lg overflow-hidden",children:te instanceof File?te.type.startsWith("image/")?o.jsx("img",{src:URL.createObjectURL(te),alt:te.name,className:"w-full h-full object-cover"}):o.jsx("video",{src:URL.createObjectURL(te),controls:!0,className:"w-full h-full object-cover"}):te.type==="image"?o.jsx("img",{src:te.frontendUrl,alt:te.alt,className:"w-full h-full object-cover"}):o.jsx("video",{src:te.frontendUrl,controls:!0,className:"w-full h-full object-cover"})}),o.jsx("button",{type:"button",onClick:()=>Q(V),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(f2,{className:"w-3 h-3"})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:te instanceof File?te.name:te.alt})]},V))})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:t,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx(df,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Save Main Section"]})})})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer",onClick:()=>f(!d),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cards Management"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:te=>{te.stopPropagation(),y(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center",disabled:t,children:[o.jsx(Zk,{className:"w-4 h-4 mr-2"}),"Add Card"]}),d?o.jsx(Yk,{className:"w-5 h-5 text-gray-500"}):o.jsx(Kk,{className:"w-5 h-5 text-gray-500"})]})]})}),d&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(h2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search cards...",value:v,onChange:te=>X(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Sort by:"}),o.jsxs("button",{onClick:()=>I("sequence"),className:`px-3 py-1 rounded-md text-sm ${w==="sequence"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Sequence"," ",w==="sequence"&&(j==="asc"?"↑":"↓")]}),o.jsxs("button",{onClick:()=>I("title"),className:`px-3 py-1 rounded-md text-sm ${w==="title"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Title"," ",w==="title"&&(j==="asc"?"↑":"↓")]})]})]}),m&&o.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Card"}),o.jsxs("form",{onSubmit:F,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:P.title,onChange:te=>D(V=>({...V,title:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sequence"}),o.jsx("input",{type:"number",value:P.sequence,onChange:te=>D(V=>({...V,sequence:parseInt(te.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:P.description,onChange:te=>D(V=>({...V,description:te.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200",disabled:t,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx(df,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Add Card"]})})]})]})]}),o.jsx("div",{className:"space-y-4",children:((Y=r==null?void 0:r.cards)==null?void 0:Y.length)===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cards yet"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Add your first card to get started."}),o.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center mx-auto",disabled:t,children:[o.jsx(Zk,{className:"w-4 h-4 mr-2"}),"Add First Card"]})]}):(le=r==null?void 0:r.cards)==null?void 0:le.map(te=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:h===te._id?o.jsxs("form",{onSubmit:V=>$(te._id,V),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:P.title,onChange:V=>D(ie=>({...ie,title:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sequence"}),o.jsx("input",{type:"number",value:P.sequence,onChange:V=>D(ie=>({...ie,sequence:parseInt(V.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:P.description,onChange:V=>D(ie=>({...ie,description:V.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200",disabled:t,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx(df,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Update Card"]})})]})]}):o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:te.title}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:["#",te.sequence]})]}),o.jsx("p",{className:"text-gray-600 mb-3",children:te.description})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>oe(te),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50",title:"Edit Card",disabled:t,children:o.jsx(vq,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>z(te._id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50",title:"Delete Card",disabled:t,children:o.jsx(eC,{className:"w-4 h-4"})})]})]})},te._id))}),S.totalPages>1&&o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",(S.currentPage-1)*S.itemsPerPage+1," ","to"," ",Math.min(S.currentPage*S.itemsPerPage,S.totalItems)," ","of ",S.totalItems," cards"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>q(S.currentPage-1),disabled:S.currentPage===1||t,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(S.totalPages)].map((te,V)=>o.jsx("button",{onClick:()=>q(V+1),className:`px-3 py-2 border rounded-md text-sm font-medium ${S.currentPage===V+1?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:bg-gray-50"} ${t?"opacity-50 cursor-not-allowed":""}`,disabled:t,children:V+1},V+1)),o.jsx("button",{onClick:()=>q(S.currentPage+1),disabled:S.currentPage===S.totalPages||t,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),t&&r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center",children:[o.jsx(df,{className:"w-6 h-6 animate-spin text-blue-600 mr-3"}),o.jsx("span",{className:"text-gray-700",children:"Processing..."})]})})]})},Oq=()=>o.jsx("div",{children:o.jsx(Pq,{})});function ci(r){return Xn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(r)}function ui(r){return Xn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(r)}function ps(r){return Xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function AS(r){return Xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(r)}function Rq(r){return Xn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(r)}function bh(r){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(r)}function cu(r){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function tn(r){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function di(r){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(r)}function Xi(r){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M304 96h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-16V48a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 96zm26.15 162.91a79 79 0 0 0-55 54.17c-14.25 51.05 21.21 97.77 68.85 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.76 86.25-61.61 86.25-132V336c-.02-51.21-48.4-91.34-101.85-77.09zM352 356a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm-176-4h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352z"},child:[]}]})(r)}function it(r){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(r)}function ms(r){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function ot(r){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(r)}function Et(r){return Xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"},child:[]}]})(r)}var zb,nC;function Mq(){if(nC)return zb;nC=1;function r(){this.__data__=[],this.size=0}return zb=r,zb}var Hb,rC;function t3(){if(rC)return Hb;rC=1;function r(e,t){return e===t||e!==e&&t!==t}return Hb=r,Hb}var Wb,sC;function gx(){if(sC)return Wb;sC=1;var r=t3();function e(t,n){for(var s=t.length;s--;)if(r(t[s][0],n))return s;return-1}return Wb=e,Wb}var Gb,iC;function Lq(){if(iC)return Gb;iC=1;var r=gx(),e=Array.prototype,t=e.splice;function n(s){var i=this.__data__,a=r(i,s);if(a<0)return!1;var c=i.length-1;return a==c?i.pop():t.call(i,a,1),--this.size,!0}return Gb=n,Gb}var Kb,aC;function Iq(){if(aC)return Kb;aC=1;var r=gx();function e(t){var n=this.__data__,s=r(n,t);return s<0?void 0:n[s][1]}return Kb=e,Kb}var Xb,oC;function Dq(){if(oC)return Xb;oC=1;var r=gx();function e(t){return r(this.__data__,t)>-1}return Xb=e,Xb}var Yb,lC;function Fq(){if(lC)return Yb;lC=1;var r=gx();function e(t,n){var s=this.__data__,i=r(s,t);return i<0?(++this.size,s.push([t,n])):s[i][1]=n,this}return Yb=e,Yb}var Qb,cC;function yx(){if(cC)return Qb;cC=1;var r=Mq(),e=Lq(),t=Iq(),n=Dq(),s=Fq();function i(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var f=a[c];this.set(f[0],f[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=s,Qb=i,Qb}var Zb,uC;function Bq(){if(uC)return Zb;uC=1;var r=yx();function e(){this.__data__=new r,this.size=0}return Zb=e,Zb}var Jb,dC;function Uq(){if(dC)return Jb;dC=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return Jb=r,Jb}var e1,hC;function $q(){if(hC)return e1;hC=1;function r(e){return this.__data__.get(e)}return e1=r,e1}var t1,fC;function qq(){if(fC)return t1;fC=1;function r(e){return this.__data__.has(e)}return t1=r,t1}var n1,pC;function n3(){if(pC)return n1;pC=1;var r=typeof i0=="object"&&i0&&i0.Object===Object&&i0;return n1=r,n1}var r1,mC;function Ya(){if(mC)return r1;mC=1;var r=n3(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return r1=t,r1}var s1,gC;function ES(){if(gC)return s1;gC=1;var r=Ya(),e=r.Symbol;return s1=e,s1}var i1,yC;function Vq(){if(yC)return i1;yC=1;var r=ES(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,s=r?r.toStringTag:void 0;function i(a){var c=t.call(a,s),d=a[s];try{a[s]=void 0;var f=!0}catch{}var h=n.call(a);return f&&(c?a[s]=d:delete a[s]),h}return i1=i,i1}var a1,xC;function zq(){if(xC)return a1;xC=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return a1=t,a1}var o1,vC;function xx(){if(vC)return o1;vC=1;var r=ES(),e=Vq(),t=zq(),n="[object Null]",s="[object Undefined]",i=r?r.toStringTag:void 0;function a(c){return c==null?c===void 0?s:n:i&&i in Object(c)?e(c):t(c)}return o1=a,o1}var l1,bC;function r3(){if(bC)return l1;bC=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return l1=r,l1}var c1,wC;function s3(){if(wC)return c1;wC=1;var r=xx(),e=r3(),t="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function a(c){if(!e(c))return!1;var d=r(c);return d==n||d==s||d==t||d==i}return c1=a,c1}var u1,NC;function Hq(){if(NC)return u1;NC=1;var r=Ya(),e=r["__core-js_shared__"];return u1=e,u1}var d1,SC;function Wq(){if(SC)return d1;SC=1;var r=Hq(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return d1=t,d1}var h1,jC;function i3(){if(jC)return h1;jC=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return h1=t,h1}var f1,_C;function Gq(){if(_C)return f1;_C=1;var r=s3(),e=Wq(),t=r3(),n=i3(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,d=a.toString,f=c.hasOwnProperty,h=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!t(m)||e(m))return!1;var y=r(m)?h:i;return y.test(n(m))}return f1=p,f1}var p1,AC;function Kq(){if(AC)return p1;AC=1;function r(e,t){return e==null?void 0:e[t]}return p1=r,p1}var m1,EC;function wh(){if(EC)return m1;EC=1;var r=Gq(),e=Kq();function t(n,s){var i=e(n,s);return r(i)?i:void 0}return m1=t,m1}var g1,kC;function kS(){if(kC)return g1;kC=1;var r=wh(),e=Ya(),t=r(e,"Map");return g1=t,g1}var y1,CC;function vx(){if(CC)return y1;CC=1;var r=wh(),e=r(Object,"create");return y1=e,y1}var x1,TC;function Xq(){if(TC)return x1;TC=1;var r=vx();function e(){this.__data__=r?r(null):{},this.size=0}return x1=e,x1}var v1,PC;function Yq(){if(PC)return v1;PC=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return v1=r,v1}var b1,OC;function Qq(){if(OC)return b1;OC=1;var r=vx(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function s(i){var a=this.__data__;if(r){var c=a[i];return c===e?void 0:c}return n.call(a,i)?a[i]:void 0}return b1=s,b1}var w1,RC;function Zq(){if(RC)return w1;RC=1;var r=vx(),e=Object.prototype,t=e.hasOwnProperty;function n(s){var i=this.__data__;return r?i[s]!==void 0:t.call(i,s)}return w1=n,w1}var N1,MC;function Jq(){if(MC)return N1;MC=1;var r=vx(),e="__lodash_hash_undefined__";function t(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=r&&s===void 0?e:s,this}return N1=t,N1}var S1,LC;function e7(){if(LC)return S1;LC=1;var r=Xq(),e=Yq(),t=Qq(),n=Zq(),s=Jq();function i(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var f=a[c];this.set(f[0],f[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=s,S1=i,S1}var j1,IC;function t7(){if(IC)return j1;IC=1;var r=e7(),e=yx(),t=kS();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return j1=n,j1}var _1,DC;function n7(){if(DC)return _1;DC=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return _1=r,_1}var A1,FC;function bx(){if(FC)return A1;FC=1;var r=n7();function e(t,n){var s=t.__data__;return r(n)?s[typeof n=="string"?"string":"hash"]:s.map}return A1=e,A1}var E1,BC;function r7(){if(BC)return E1;BC=1;var r=bx();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return E1=e,E1}var k1,UC;function s7(){if(UC)return k1;UC=1;var r=bx();function e(t){return r(this,t).get(t)}return k1=e,k1}var C1,$C;function i7(){if($C)return C1;$C=1;var r=bx();function e(t){return r(this,t).has(t)}return C1=e,C1}var T1,qC;function a7(){if(qC)return T1;qC=1;var r=bx();function e(t,n){var s=r(this,t),i=s.size;return s.set(t,n),this.size+=s.size==i?0:1,this}return T1=e,T1}var P1,VC;function a3(){if(VC)return P1;VC=1;var r=t7(),e=r7(),t=s7(),n=i7(),s=a7();function i(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var f=a[c];this.set(f[0],f[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=s,P1=i,P1}var O1,zC;function o7(){if(zC)return O1;zC=1;var r=yx(),e=kS(),t=a3(),n=200;function s(i,a){var c=this.__data__;if(c instanceof r){var d=c.__data__;if(!e||d.length<n-1)return d.push([i,a]),this.size=++c.size,this;c=this.__data__=new t(d)}return c.set(i,a),this.size=c.size,this}return O1=s,O1}var R1,HC;function l7(){if(HC)return R1;HC=1;var r=yx(),e=Bq(),t=Uq(),n=$q(),s=qq(),i=o7();function a(c){var d=this.__data__=new r(c);this.size=d.size}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=s,a.prototype.set=i,R1=a,R1}var M1,WC;function c7(){if(WC)return M1;WC=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return M1=e,M1}var L1,GC;function u7(){if(GC)return L1;GC=1;function r(e){return this.__data__.has(e)}return L1=r,L1}var I1,KC;function d7(){if(KC)return I1;KC=1;var r=a3(),e=c7(),t=u7();function n(s){var i=-1,a=s==null?0:s.length;for(this.__data__=new r;++i<a;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,I1=n,I1}var D1,XC;function h7(){if(XC)return D1;XC=1;function r(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}return D1=r,D1}var F1,YC;function f7(){if(YC)return F1;YC=1;function r(e,t){return e.has(t)}return F1=r,F1}var B1,QC;function o3(){if(QC)return B1;QC=1;var r=d7(),e=h7(),t=f7(),n=1,s=2;function i(a,c,d,f,h,p){var m=d&n,y=a.length,v=c.length;if(y!=v&&!(m&&v>y))return!1;var b=p.get(a),w=p.get(c);if(b&&w)return b==c&&w==a;var N=-1,j=!0,E=d&s?new r:void 0;for(p.set(a,c),p.set(c,a);++N<y;){var S=a[N],A=c[N];if(f)var T=m?f(A,S,N,c,a,p):f(S,A,N,a,c,p);if(T!==void 0){if(T)continue;j=!1;break}if(E){if(!e(c,function(k,P){if(!t(E,P)&&(S===k||h(S,k,d,f,p)))return E.push(P)})){j=!1;break}}else if(!(S===A||h(S,A,d,f,p))){j=!1;break}}return p.delete(a),p.delete(c),j}return B1=i,B1}var U1,ZC;function p7(){if(ZC)return U1;ZC=1;var r=Ya(),e=r.Uint8Array;return U1=e,U1}var $1,JC;function m7(){if(JC)return $1;JC=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}return $1=r,$1}var q1,eT;function g7(){if(eT)return q1;eT=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}return q1=r,q1}var V1,tT;function y7(){if(tT)return V1;tT=1;var r=ES(),e=p7(),t=t3(),n=o3(),s=m7(),i=g7(),a=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",b="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",j="[object DataView]",E=r?r.prototype:void 0,S=E?E.valueOf:void 0;function A(T,k,P,D,O,R,F){switch(P){case j:if(T.byteLength!=k.byteLength||T.byteOffset!=k.byteOffset)return!1;T=T.buffer,k=k.buffer;case N:return!(T.byteLength!=k.byteLength||!R(new e(T),new e(k)));case d:case f:case m:return t(+T,+k);case h:return T.name==k.name&&T.message==k.message;case y:case b:return T==k+"";case p:var $=s;case v:var z=D&a;if($||($=i),T.size!=k.size&&!z)return!1;var Z=F.get(T);if(Z)return Z==k;D|=c,F.set(T,k);var se=n($(T),$(k),D,O,R,F);return F.delete(T),se;case w:if(S)return S.call(T)==S.call(k)}return!1}return V1=A,V1}var z1,nT;function x7(){if(nT)return z1;nT=1;function r(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}return z1=r,z1}var H1,rT;function CS(){if(rT)return H1;rT=1;var r=Array.isArray;return H1=r,H1}var W1,sT;function v7(){if(sT)return W1;sT=1;var r=x7(),e=CS();function t(n,s,i){var a=s(n);return e(n)?a:r(a,i(n))}return W1=t,W1}var G1,iT;function b7(){if(iT)return G1;iT=1;function r(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var c=e[n];t(c,n,e)&&(a[i++]=c)}return a}return G1=r,G1}var K1,aT;function w7(){if(aT)return K1;aT=1;function r(){return[]}return K1=r,K1}var X1,oT;function N7(){if(oT)return X1;oT=1;var r=b7(),e=w7(),t=Object.prototype,n=t.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(a){return a==null?[]:(a=Object(a),r(s(a),function(c){return n.call(a,c)}))}:e;return X1=i,X1}var Y1,lT;function S7(){if(lT)return Y1;lT=1;function r(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}return Y1=r,Y1}var Q1,cT;function wx(){if(cT)return Q1;cT=1;function r(e){return e!=null&&typeof e=="object"}return Q1=r,Q1}var Z1,uT;function j7(){if(uT)return Z1;uT=1;var r=xx(),e=wx(),t="[object Arguments]";function n(s){return e(s)&&r(s)==t}return Z1=n,Z1}var J1,dT;function _7(){if(dT)return J1;dT=1;var r=j7(),e=wx(),t=Object.prototype,n=t.hasOwnProperty,s=t.propertyIsEnumerable,i=r(function(){return arguments}())?r:function(a){return e(a)&&n.call(a,"callee")&&!s.call(a,"callee")};return J1=i,J1}var yf={exports:{}},ew,hT;function A7(){if(hT)return ew;hT=1;function r(){return!1}return ew=r,ew}yf.exports;var fT;function l3(){return fT||(fT=1,function(r,e){var t=Ya(),n=A7(),s=e&&!e.nodeType&&e,i=s&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===s,c=a?t.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;r.exports=f}(yf,yf.exports)),yf.exports}var tw,pT;function E7(){if(pT)return tw;pT=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,s){var i=typeof n;return s=s??r,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return tw=t,tw}var nw,mT;function c3(){if(mT)return nw;mT=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return nw=e,nw}var rw,gT;function k7(){if(gT)return rw;gT=1;var r=xx(),e=c3(),t=wx(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",a="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",j="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",R={};R[j]=R[E]=R[S]=R[A]=R[T]=R[k]=R[P]=R[D]=R[O]=!0,R[n]=R[s]=R[w]=R[i]=R[N]=R[a]=R[c]=R[d]=R[f]=R[h]=R[p]=R[m]=R[y]=R[v]=R[b]=!1;function F($){return t($)&&e($.length)&&!!R[r($)]}return rw=F,rw}var sw,yT;function C7(){if(yT)return sw;yT=1;function r(e){return function(t){return e(t)}}return sw=r,sw}var xf={exports:{}};xf.exports;var xT;function T7(){return xT||(xT=1,function(r,e){var t=n3(),n=e&&!e.nodeType&&e,s=n&&!0&&r&&!r.nodeType&&r,i=s&&s.exports===n,a=i&&t.process,c=function(){try{var d=s&&s.require&&s.require("util").types;return d||a&&a.binding&&a.binding("util")}catch{}}();r.exports=c}(xf,xf.exports)),xf.exports}var iw,vT;function u3(){if(vT)return iw;vT=1;var r=k7(),e=C7(),t=T7(),n=t&&t.isTypedArray,s=n?e(n):r;return iw=s,iw}var aw,bT;function P7(){if(bT)return aw;bT=1;var r=S7(),e=_7(),t=CS(),n=l3(),s=E7(),i=u3(),a=Object.prototype,c=a.hasOwnProperty;function d(f,h){var p=t(f),m=!p&&e(f),y=!p&&!m&&n(f),v=!p&&!m&&!y&&i(f),b=p||m||y||v,w=b?r(f.length,String):[],N=w.length;for(var j in f)(h||c.call(f,j))&&!(b&&(j=="length"||y&&(j=="offset"||j=="parent")||v&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,N)))&&w.push(j);return w}return aw=d,aw}var ow,wT;function O7(){if(wT)return ow;wT=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,s=typeof n=="function"&&n.prototype||r;return t===s}return ow=e,ow}var lw,NT;function R7(){if(NT)return lw;NT=1;function r(e,t){return function(n){return e(t(n))}}return lw=r,lw}var cw,ST;function M7(){if(ST)return cw;ST=1;var r=R7(),e=r(Object.keys,Object);return cw=e,cw}var uw,jT;function L7(){if(jT)return uw;jT=1;var r=O7(),e=M7(),t=Object.prototype,n=t.hasOwnProperty;function s(i){if(!r(i))return e(i);var a=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&a.push(c);return a}return uw=s,uw}var dw,_T;function I7(){if(_T)return dw;_T=1;var r=s3(),e=c3();function t(n){return n!=null&&e(n.length)&&!r(n)}return dw=t,dw}var hw,AT;function D7(){if(AT)return hw;AT=1;var r=P7(),e=L7(),t=I7();function n(s){return t(s)?r(s):e(s)}return hw=n,hw}var fw,ET;function F7(){if(ET)return fw;ET=1;var r=v7(),e=N7(),t=D7();function n(s){return r(s,t,e)}return fw=n,fw}var pw,kT;function B7(){if(kT)return pw;kT=1;var r=F7(),e=1,t=Object.prototype,n=t.hasOwnProperty;function s(i,a,c,d,f,h){var p=c&e,m=r(i),y=m.length,v=r(a),b=v.length;if(y!=b&&!p)return!1;for(var w=y;w--;){var N=m[w];if(!(p?N in a:n.call(a,N)))return!1}var j=h.get(i),E=h.get(a);if(j&&E)return j==a&&E==i;var S=!0;h.set(i,a),h.set(a,i);for(var A=p;++w<y;){N=m[w];var T=i[N],k=a[N];if(d)var P=p?d(k,T,N,a,i,h):d(T,k,N,i,a,h);if(!(P===void 0?T===k||f(T,k,c,d,h):P)){S=!1;break}A||(A=N=="constructor")}if(S&&!A){var D=i.constructor,O=a.constructor;D!=O&&"constructor"in i&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof O=="function"&&O instanceof O)&&(S=!1)}return h.delete(i),h.delete(a),S}return pw=s,pw}var mw,CT;function U7(){if(CT)return mw;CT=1;var r=wh(),e=Ya(),t=r(e,"DataView");return mw=t,mw}var gw,TT;function $7(){if(TT)return gw;TT=1;var r=wh(),e=Ya(),t=r(e,"Promise");return gw=t,gw}var yw,PT;function q7(){if(PT)return yw;PT=1;var r=wh(),e=Ya(),t=r(e,"Set");return yw=t,yw}var xw,OT;function V7(){if(OT)return xw;OT=1;var r=wh(),e=Ya(),t=r(e,"WeakMap");return xw=t,xw}var vw,RT;function z7(){if(RT)return vw;RT=1;var r=U7(),e=kS(),t=$7(),n=q7(),s=V7(),i=xx(),a=i3(),c="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=a(r),v=a(e),b=a(t),w=a(n),N=a(s),j=i;return(r&&j(new r(new ArrayBuffer(1)))!=m||e&&j(new e)!=c||t&&j(t.resolve())!=f||n&&j(new n)!=h||s&&j(new s)!=p)&&(j=function(E){var S=i(E),A=S==d?E.constructor:void 0,T=A?a(A):"";if(T)switch(T){case y:return m;case v:return c;case b:return f;case w:return h;case N:return p}return S}),vw=j,vw}var bw,MT;function H7(){if(MT)return bw;MT=1;var r=l7(),e=o3(),t=y7(),n=B7(),s=z7(),i=CS(),a=l3(),c=u3(),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function v(b,w,N,j,E,S){var A=i(b),T=i(w),k=A?h:s(b),P=T?h:s(w);k=k==f?p:k,P=P==f?p:P;var D=k==p,O=P==p,R=k==P;if(R&&a(b)){if(!a(w))return!1;A=!0,D=!1}if(R&&!D)return S||(S=new r),A||c(b)?e(b,w,N,j,E,S):t(b,w,k,N,j,E,S);if(!(N&d)){var F=D&&y.call(b,"__wrapped__"),$=O&&y.call(w,"__wrapped__");if(F||$){var z=F?b.value():b,Z=$?w.value():w;return S||(S=new r),E(z,Z,N,j,S)}}return R?(S||(S=new r),n(b,w,N,j,E,S)):!1}return bw=v,bw}var ww,LT;function W7(){if(LT)return ww;LT=1;var r=H7(),e=wx();function t(n,s,i,a,c){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:r(n,s,i,a,t,c)}return ww=t,ww}var Nw,IT;function G7(){if(IT)return Nw;IT=1;var r=W7();function e(t,n){return r(t,n)}return Nw=e,Nw}var O0={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var K7=O0.exports,DT;function X7(){return DT||(DT=1,function(r,e){(function(n,s){r.exports=s()})(typeof self<"u"?self:K7,function(){return function(t){var n={};function s(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=n,s.d=function(i,a,c){s.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:c})},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=109)}([function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(17),a=s(18),c=s(19),d=s(45),f=s(46),h=s(47),p=s(48),m=s(49),y=s(12),v=s(32),b=s(33),w=s(31),N=s(1),j={Scope:N.Scope,create:N.create,find:N.find,query:N.query,register:N.register,Container:i.default,Format:a.default,Leaf:c.default,Embed:p.default,Scroll:d.default,Block:h.default,Inline:f.default,Text:m.default,Attributor:{Attribute:y.default,Class:v.default,Style:b.default,Store:w.default}};n.default=j},function(t,n,s){var i=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,j){N.__proto__=j}||function(N,j){for(var E in j)j.hasOwnProperty(E)&&(N[E]=j[E])};return function(N,j){w(N,j);function E(){this.constructor=N}N.prototype=j===null?Object.create(j):(E.prototype=j.prototype,new E)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(w){i(N,w);function N(j){var E=this;return j="[Parchment] "+j,E=w.call(this,j)||this,E.message=j,E.name=E.constructor.name,E}return N}(Error);n.ParchmentError=a;var c={},d={},f={},h={};n.DATA_KEY="__blot";var p;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(p=n.Scope||(n.Scope={}));function m(w,N){var j=v(w);if(j==null)throw new a("Unable to create "+w+" blot");var E=j,S=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(N);return new E(S,N)}n.create=m;function y(w,N){return N===void 0&&(N=!1),w==null?null:w[n.DATA_KEY]!=null?w[n.DATA_KEY].blot:N?y(w.parentNode,N):null}n.find=y;function v(w,N){N===void 0&&(N=p.ANY);var j;if(typeof w=="string")j=h[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)j=h.text;else if(typeof w=="number")w&p.LEVEL&p.BLOCK?j=h.block:w&p.LEVEL&p.INLINE&&(j=h.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var S in E)if(j=d[E[S]],j)break;j=j||f[w.tagName]}return j==null?null:N&p.LEVEL&j.scope&&N&p.TYPE&j.scope?j:null}n.query=v;function b(){for(var w=[],N=0;N<arguments.length;N++)w[N]=arguments[N];if(w.length>1)return w.map(function(S){return b(S)});var j=w[0];if(typeof j.blotName!="string"&&typeof j.attrName!="string")throw new a("Invalid definition");if(j.blotName==="abstract")throw new a("Cannot register abstract class");if(h[j.blotName||j.attrName]=j,typeof j.keyName=="string")c[j.keyName]=j;else if(j.className!=null&&(d[j.className]=j),j.tagName!=null){Array.isArray(j.tagName)?j.tagName=j.tagName.map(function(S){return S.toUpperCase()}):j.tagName=j.tagName.toUpperCase();var E=Array.isArray(j.tagName)?j.tagName:[j.tagName];E.forEach(function(S){(f[S]==null||j.className==null)&&(f[S]=j)})}return j}n.register=b},function(t,n,s){var i=s(51),a=s(11),c=s(3),d=s(20),f="\0",h=function(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]};h.prototype.insert=function(p,m){var y={};return p.length===0?this:(y.insert=p,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y))},h.prototype.delete=function(p){return p<=0?this:this.push({delete:p})},h.prototype.retain=function(p,m){if(p<=0)return this;var y={retain:p};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y)},h.prototype.push=function(p){var m=this.ops.length,y=this.ops[m-1];if(p=c(!0,{},p),typeof y=="object"){if(typeof p.delete=="number"&&typeof y.delete=="number")return this.ops[m-1]={delete:y.delete+p.delete},this;if(typeof y.delete=="number"&&p.insert!=null&&(m-=1,y=this.ops[m-1],typeof y!="object"))return this.ops.unshift(p),this;if(a(p.attributes,y.attributes)){if(typeof p.insert=="string"&&typeof y.insert=="string")return this.ops[m-1]={insert:y.insert+p.insert},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof y.retain=="number")return this.ops[m-1]={retain:y.retain+p.retain},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this}}return m===this.ops.length?this.ops.push(p):this.ops.splice(m,0,p),this},h.prototype.chop=function(){var p=this.ops[this.ops.length-1];return p&&p.retain&&!p.attributes&&this.ops.pop(),this},h.prototype.filter=function(p){return this.ops.filter(p)},h.prototype.forEach=function(p){this.ops.forEach(p)},h.prototype.map=function(p){return this.ops.map(p)},h.prototype.partition=function(p){var m=[],y=[];return this.forEach(function(v){var b=p(v)?m:y;b.push(v)}),[m,y]},h.prototype.reduce=function(p,m){return this.ops.reduce(p,m)},h.prototype.changeLength=function(){return this.reduce(function(p,m){return m.insert?p+d.length(m):m.delete?p-m.delete:p},0)},h.prototype.length=function(){return this.reduce(function(p,m){return p+d.length(m)},0)},h.prototype.slice=function(p,m){p=p||0,typeof m!="number"&&(m=1/0);for(var y=[],v=d.iterator(this.ops),b=0;b<m&&v.hasNext();){var w;b<p?w=v.next(p-b):(w=v.next(m-b),y.push(w)),b+=d.length(w)}return new h(y)},h.prototype.compose=function(p){var m=d.iterator(this.ops),y=d.iterator(p.ops),v=[],b=y.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var w=b.retain;m.peekType()==="insert"&&m.peekLength()<=w;)w-=m.peekLength(),v.push(m.next());b.retain-w>0&&y.next(b.retain-w)}for(var N=new h(v);m.hasNext()||y.hasNext();)if(y.peekType()==="insert")N.push(y.next());else if(m.peekType()==="delete")N.push(m.next());else{var j=Math.min(m.peekLength(),y.peekLength()),E=m.next(j),S=y.next(j);if(typeof S.retain=="number"){var A={};typeof E.retain=="number"?A.retain=j:A.insert=E.insert;var T=d.attributes.compose(E.attributes,S.attributes,typeof E.retain=="number");if(T&&(A.attributes=T),N.push(A),!y.hasNext()&&a(N.ops[N.ops.length-1],A)){var k=new h(m.rest());return N.concat(k).chop()}}else typeof S.delete=="number"&&typeof E.retain=="number"&&N.push(S)}return N.chop()},h.prototype.concat=function(p){var m=new h(this.ops.slice());return p.ops.length>0&&(m.push(p.ops[0]),m.ops=m.ops.concat(p.ops.slice(1))),m},h.prototype.diff=function(p,m){if(this.ops===p.ops)return new h;var y=[this,p].map(function(j){return j.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:f;var S=j===p?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),v=new h,b=i(y[0],y[1],m),w=d.iterator(this.ops),N=d.iterator(p.ops);return b.forEach(function(j){for(var E=j[1].length;E>0;){var S=0;switch(j[0]){case i.INSERT:S=Math.min(N.peekLength(),E),v.push(N.next(S));break;case i.DELETE:S=Math.min(E,w.peekLength()),w.next(S),v.delete(S);break;case i.EQUAL:S=Math.min(w.peekLength(),N.peekLength(),E);var A=w.next(S),T=N.next(S);a(A.insert,T.insert)?v.retain(S,d.attributes.diff(A.attributes,T.attributes)):v.push(T).delete(S);break}E-=S}}),v.chop()},h.prototype.eachLine=function(p,m){m=m||`
`;for(var y=d.iterator(this.ops),v=new h,b=0;y.hasNext();){if(y.peekType()!=="insert")return;var w=y.peek(),N=d.length(w)-y.peekLength(),j=typeof w.insert=="string"?w.insert.indexOf(m,N)-N:-1;if(j<0)v.push(y.next());else if(j>0)v.push(y.next(j));else{if(p(v,y.next(1).attributes||{},b)===!1)return;b+=1,v=new h}}v.length()>0&&p(v,{},b)},h.prototype.transform=function(p,m){if(m=!!m,typeof p=="number")return this.transformPosition(p,m);for(var y=d.iterator(this.ops),v=d.iterator(p.ops),b=new h;y.hasNext()||v.hasNext();)if(y.peekType()==="insert"&&(m||v.peekType()!=="insert"))b.retain(d.length(y.next()));else if(v.peekType()==="insert")b.push(v.next());else{var w=Math.min(y.peekLength(),v.peekLength()),N=y.next(w),j=v.next(w);if(N.delete)continue;j.delete?b.push(j):b.retain(w,d.attributes.transform(N.attributes,j.attributes,m))}return b.chop()},h.prototype.transformPosition=function(p,m){m=!!m;for(var y=d.iterator(this.ops),v=0;y.hasNext()&&v<=p;){var b=y.peekLength(),w=y.peekType();if(y.next(),w==="delete"){p-=Math.min(b,p-v);continue}else w==="insert"&&(v<p||!m)&&(p+=b);v+=b}return p},t.exports=h},function(t,n){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(y){return typeof Array.isArray=="function"?Array.isArray(y):i.call(y)==="[object Array]"},f=function(y){if(!y||i.call(y)!=="[object Object]")return!1;var v=s.call(y,"constructor"),b=y.constructor&&y.constructor.prototype&&s.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!v&&!b)return!1;var w;for(w in y);return typeof w>"u"||s.call(y,w)},h=function(y,v){a&&v.name==="__proto__"?a(y,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):y[v.name]=v.newValue},p=function(y,v){if(v==="__proto__")if(s.call(y,v)){if(c)return c(y,v).value}else return;return y[v]};t.exports=function m(){var y,v,b,w,N,j,E=arguments[0],S=1,A=arguments.length,T=!1;for(typeof E=="boolean"&&(T=E,E=arguments[1]||{},S=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});S<A;++S)if(y=arguments[S],y!=null)for(v in y)b=p(E,v),w=p(y,v),E!==w&&(T&&w&&(f(w)||(N=d(w)))?(N?(N=!1,j=b&&d(b)?b:[]):j=b&&f(b)?b:{},h(E,{name:v,newValue:m(T,j,w)})):typeof w<"u"&&h(E,{name:v,newValue:w}));return E}},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function R(F,$){for(var z=0;z<$.length;z++){var Z=$[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(F,Z.key,Z)}}return function(F,$,z){return $&&R(F.prototype,$),z&&R(F,z),F}}(),a=function R(F,$,z){F===null&&(F=Function.prototype);var Z=Object.getOwnPropertyDescriptor(F,$);if(Z===void 0){var se=Object.getPrototypeOf(F);return se===null?void 0:R(se,$,z)}else{if("value"in Z)return Z.value;var Q=Z.get;return Q===void 0?void 0:Q.call(z)}},c=s(3),d=E(c),f=s(2),h=E(f),p=s(0),m=E(p),y=s(16),v=E(y),b=s(6),w=E(b),N=s(7),j=E(N);function E(R){return R&&R.__esModule?R:{default:R}}function S(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function A(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function T(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var k=1,P=function(R){T(F,R);function F(){return S(this,F),A(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return i(F,[{key:"attach",value:function(){a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(z,Z){var se=m.default.query(z,m.default.Scope.BLOCK_ATTRIBUTE);se!=null&&this.attributes.attribute(se,Z)}},{key:"formatAt",value:function(z,Z,se,Q){this.format(se,Q)}},{key:"insertAt",value:function(z,Z,se){if(typeof Z=="string"&&Z.endsWith(`
`)){var Q=m.default.create(D.blotName);this.parent.insertBefore(Q,z===0?this:this.next),Q.insertAt(0,Z.slice(0,-1))}else a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,z,Z,se)}}]),F}(m.default.Embed);P.scope=m.default.Scope.BLOCK_BLOT;var D=function(R){T(F,R);function F($){S(this,F);var z=A(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,$));return z.cache={},z}return i(F,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(z,Z){return Z.length()===0?z:z.insert(Z.value(),O(Z))},new h.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(z,Z){a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"deleteAt",this).call(this,z,Z),this.cache={}}},{key:"formatAt",value:function(z,Z,se,Q){Z<=0||(m.default.query(se,m.default.Scope.BLOCK)?z+Z===this.length()&&this.format(se,Q):a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"formatAt",this).call(this,z,Math.min(Z,this.length()-z-1),se,Q),this.cache={})}},{key:"insertAt",value:function(z,Z,se){if(se!=null)return a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,z,Z,se);if(Z.length!==0){var Q=Z.split(`
`),oe=Q.shift();oe.length>0&&(z<this.length()-1||this.children.tail==null?a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,Math.min(z,this.length()-1),oe):this.children.tail.insertAt(this.children.tail.length(),oe),this.cache={});var ne=this;Q.reduce(function(X,I){return ne=ne.split(X,!0),ne.insertAt(0,I),I.length},z+oe.length)}}},{key:"insertBefore",value:function(z,Z){var se=this.children.head;a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertBefore",this).call(this,z,Z),se instanceof v.default&&se.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(z,Z){a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"moveChildren",this).call(this,z,Z),this.cache={}}},{key:"optimize",value:function(z){a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,z),this.cache={}}},{key:"path",value:function(z){return a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"path",this).call(this,z,!0)}},{key:"removeChild",value:function(z){a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"removeChild",this).call(this,z),this.cache={}}},{key:"split",value:function(z){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z&&(z===0||z>=this.length()-k)){var se=this.clone();return z===0?(this.parent.insertBefore(se,this),this):(this.parent.insertBefore(se,this.next),se)}else{var Q=a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"split",this).call(this,z,Z);return this.cache={},Q}}}]),F}(m.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[w.default,m.default.Embed,j.default];function O(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(F=(0,d.default)(F,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?F:O(R.parent,F)}n.bubbleFormats=O,n.BlockEmbed=P,n.default=D},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},a=function(){function ne(X,I){var q=[],Y=!0,le=!1,te=void 0;try{for(var V=X[Symbol.iterator](),ie;!(Y=(ie=V.next()).done)&&(q.push(ie.value),!(I&&q.length===I));Y=!0);}catch(ue){le=!0,te=ue}finally{try{!Y&&V.return&&V.return()}finally{if(le)throw te}}return q}return function(X,I){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return ne(X,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function ne(X,I){for(var q=0;q<I.length;q++){var Y=I[q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(X,Y.key,Y)}}return function(X,I,q){return I&&ne(X.prototype,I),q&&ne(X,q),X}}();s(50);var d=s(2),f=O(d),h=s(14),p=O(h),m=s(8),y=O(m),v=s(9),b=O(v),w=s(0),N=O(w),j=s(15),E=O(j),S=s(3),A=O(S),T=s(10),k=O(T),P=s(34),D=O(P);function O(ne){return ne&&ne.__esModule?ne:{default:ne}}function R(ne,X,I){return X in ne?Object.defineProperty(ne,X,{value:I,enumerable:!0,configurable:!0,writable:!0}):ne[X]=I,ne}function F(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}var $=(0,k.default)("quill"),z=function(){c(ne,null,[{key:"debug",value:function(I){I===!0&&(I="log"),k.default.level(I)}},{key:"find",value:function(I){return I.__quill||N.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&$.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,q){var Y=this,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var te=I.attrName||I.blotName;typeof te=="string"?this.register("formats/"+te,I,q):Object.keys(I).forEach(function(V){Y.register(V,I[V],q)})}else this.imports[I]!=null&&!le&&$.warn("Overwriting "+I+" with",q),this.imports[I]=q,(I.startsWith("blots/")||I.startsWith("formats/"))&&q.blotName!=="abstract"?N.default.register(q):I.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function ne(X){var I=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(F(this,ne),this.options=Z(X,q),this.container=this.options.container,this.container==null)return $.error("Invalid Quill container",X);this.options.debug&&ne.debug(this.options.debug);var Y=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=N.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new p.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(te){te===y.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(te,V){var ie=I.selection.lastRange,ue=ie&&ie.length===0?ie.index:void 0;se.call(I,function(){return I.editor.update(null,V,ue)},te)});var le=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Y+"<p><br></p></div>");this.setContents(le),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(ne,[{key:"addContainer",value:function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var Y=I;I=document.createElement("div"),I.classList.add(Y)}return this.container.insertBefore(I,q),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,q,Y){var le=this,te=Q(I,q,Y),V=a(te,4);return I=V[0],q=V[1],Y=V[3],se.call(this,function(){return le.editor.deleteText(I,q)},Y,I,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,q){var Y=this,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return se.call(this,function(){var te=Y.getSelection(!0),V=new f.default;if(te==null)return V;if(N.default.query(I,N.default.Scope.BLOCK))V=Y.editor.formatLine(te.index,te.length,R({},I,q));else{if(te.length===0)return Y.selection.format(I,q),V;V=Y.editor.formatText(te.index,te.length,R({},I,q))}return Y.setSelection(te,y.default.sources.SILENT),V},le)}},{key:"formatLine",value:function(I,q,Y,le,te){var V=this,ie=void 0,ue=Q(I,q,Y,le,te),me=a(ue,4);return I=me[0],q=me[1],ie=me[2],te=me[3],se.call(this,function(){return V.editor.formatLine(I,q,ie)},te,I,0)}},{key:"formatText",value:function(I,q,Y,le,te){var V=this,ie=void 0,ue=Q(I,q,Y,le,te),me=a(ue,4);return I=me[0],q=me[1],ie=me[2],te=me[3],se.call(this,function(){return V.editor.formatText(I,q,ie)},te,I,0)}},{key:"getBounds",value:function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=void 0;typeof I=="number"?Y=this.selection.getBounds(I,q):Y=this.selection.getBounds(I.index,I.length);var le=this.container.getBoundingClientRect();return{bottom:Y.bottom-le.top,height:Y.height,left:Y.left-le.left,right:Y.right-le.left,top:Y.top-le.top,width:Y.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,Y=Q(I,q),le=a(Y,2);return I=le[0],q=le[1],this.editor.getContents(I,q)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,q):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,q)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,Y=Q(I,q),le=a(Y,2);return I=le[0],q=le[1],this.editor.getText(I,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,q,Y){var le=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ne.sources.API;return se.call(this,function(){return le.editor.insertEmbed(I,q,Y)},te,I)}},{key:"insertText",value:function(I,q,Y,le,te){var V=this,ie=void 0,ue=Q(I,0,Y,le,te),me=a(ue,4);return I=me[0],ie=me[2],te=me[3],se.call(this,function(){return V.editor.insertText(I,q,ie)},te,I,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,q,Y){this.clipboard.dangerouslyPasteHTML(I,q,Y)}},{key:"removeFormat",value:function(I,q,Y){var le=this,te=Q(I,q,Y),V=a(te,4);return I=V[0],q=V[1],Y=V[3],se.call(this,function(){return le.editor.removeFormat(I,q)},Y,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var q=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return se.call(this,function(){I=new f.default(I);var le=q.getLength(),te=q.editor.deleteText(0,le),V=q.editor.applyDelta(I),ie=V.ops[V.ops.length-1];ie!=null&&typeof ie.insert=="string"&&ie.insert[ie.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),V.delete(1));var ue=te.compose(V);return ue},Y)}},{key:"setSelection",value:function(I,q,Y){if(I==null)this.selection.setRange(null,q||ne.sources.API);else{var le=Q(I,q,Y),te=a(le,4);I=te[0],q=te[1],Y=te[3],this.selection.setRange(new j.Range(I,q),Y),Y!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,Y=new f.default().insert(I);return this.setContents(Y,q)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,q=this.scroll.update(I);return this.selection.update(I),q}},{key:"updateContents",value:function(I){var q=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return se.call(this,function(){return I=new f.default(I),q.editor.applyDelta(I,Y)},Y,!0)}}]),ne}();z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},z.events=y.default.events,z.sources=y.default.sources,z.version="1.3.7",z.imports={delta:f.default,parchment:N.default,"core/module":b.default,"core/theme":D.default};function Z(ne,X){if(X=(0,A.default)(!0,{container:ne,modules:{clipboard:!0,keyboard:!0,history:!0}},X),!X.theme||X.theme===z.DEFAULTS.theme)X.theme=D.default;else if(X.theme=z.import("themes/"+X.theme),X.theme==null)throw new Error("Invalid theme "+X.theme+". Did you register it?");var I=(0,A.default)(!0,{},X.theme.DEFAULTS);[I,X].forEach(function(le){le.modules=le.modules||{},Object.keys(le.modules).forEach(function(te){le.modules[te]===!0&&(le.modules[te]={})})});var q=Object.keys(I.modules).concat(Object.keys(X.modules)),Y=q.reduce(function(le,te){var V=z.import("modules/"+te);return V==null?$.error("Cannot load "+te+" module. Are you sure you registered it?"):le[te]=V.DEFAULTS||{},le},{});return X.modules!=null&&X.modules.toolbar&&X.modules.toolbar.constructor!==Object&&(X.modules.toolbar={container:X.modules.toolbar}),X=(0,A.default)(!0,{},z.DEFAULTS,{modules:Y},I,X),["bounds","container","scrollingContainer"].forEach(function(le){typeof X[le]=="string"&&(X[le]=document.querySelector(X[le]))}),X.modules=Object.keys(X.modules).reduce(function(le,te){return X.modules[te]&&(le[te]=X.modules[te]),le},{}),X}function se(ne,X,I,q){if(this.options.strict&&!this.isEnabled()&&X===y.default.sources.USER)return new f.default;var Y=I==null?null:this.getSelection(),le=this.editor.delta,te=ne();if(Y!=null&&(I===!0&&(I=Y.index),q==null?Y=oe(Y,te,X):q!==0&&(Y=oe(Y,I,q,X)),this.setSelection(Y,y.default.sources.SILENT)),te.length()>0){var V,ie=[y.default.events.TEXT_CHANGE,te,le,X];if((V=this.emitter).emit.apply(V,[y.default.events.EDITOR_CHANGE].concat(ie)),X!==y.default.sources.SILENT){var ue;(ue=this.emitter).emit.apply(ue,ie)}}return te}function Q(ne,X,I,q,Y){var le={};return typeof ne.index=="number"&&typeof ne.length=="number"?typeof X!="number"?(Y=q,q=I,I=X,X=ne.length,ne=ne.index):(X=ne.length,ne=ne.index):typeof X!="number"&&(Y=q,q=I,I=X,X=0),(typeof I>"u"?"undefined":i(I))==="object"?(le=I,Y=q):typeof I=="string"&&(q!=null?le[I]=q:Y=I),Y=Y||y.default.sources.API,[ne,X,le,Y]}function oe(ne,X,I,q){if(ne==null)return null;var Y=void 0,le=void 0;if(X instanceof f.default){var te=[ne.index,ne.index+ne.length].map(function(me){return X.transformPosition(me,q!==y.default.sources.USER)}),V=a(te,2);Y=V[0],le=V[1]}else{var ie=[ne.index,ne.index+ne.length].map(function(me){return me<X||me===X&&q===y.default.sources.USER?me:I>=0?me+I:Math.max(X,me+I)}),ue=a(ie,2);Y=ue[0],le=ue[1]}return new j.Range(Y,le-Y)}n.expandConfig=Z,n.overload=Q,n.default=z},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(N,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,j,E){return j&&w(N.prototype,j),E&&w(N,E),N}}(),a=function w(N,j,E){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,j);if(S===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:w(A,j,E)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(E)}},c=s(7),d=p(c),f=s(0),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function m(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function y(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function v(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var b=function(w){v(N,w);function N(){return m(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"formatAt",value:function(E,S,A,T){if(N.compare(this.statics.blotName,A)<0&&h.default.query(A,h.default.Scope.BLOT)){var k=this.isolate(E,S);T&&k.wrap(A,T)}else a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,E,S,A,T)}},{key:"optimize",value:function(E){if(a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,E),this.parent instanceof N&&N.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(E,S){var A=N.order.indexOf(E),T=N.order.indexOf(S);return A>=0||T>=0?A-T:E===S?0:E<S?-1:1}}]),N}(h.default.Inline);b.allowedChildren=[b,h.default.Embed,d.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=b},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default.Text);n.default=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function j(E,S){for(var A=0;A<S.length;A++){var T=S[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,S,A){return S&&j(E.prototype,S),A&&j(E,A),E}}(),a=function j(E,S,A){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,S);if(T===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:j(k,S,A)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(A)}},c=s(54),d=p(c),f=s(10),h=p(f);function p(j){return j&&j.__esModule?j:{default:j}}function m(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function y(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function v(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}var b=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(j){document.addEventListener(j,function(){for(var E=arguments.length,S=Array(E),A=0;A<E;A++)S[A]=arguments[A];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var k;(k=T.__quill.emitter).handleDOM.apply(k,S)}})})});var N=function(j){v(E,j);function E(){m(this,E);var S=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return S.listeners={},S.on("error",b.error),S}return i(E,[{key:"emit",value:function(){b.log.apply(b,arguments),a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(A){for(var T=arguments.length,k=Array(T>1?T-1:0),P=1;P<T;P++)k[P-1]=arguments[P];(this.listeners[A.type]||[]).forEach(function(D){var O=D.node,R=D.handler;(A.target===O||O.contains(A.target))&&R.apply(void 0,[A].concat(k))})}},{key:"listenDOM",value:function(A,T,k){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push({node:T,handler:k})}}]),E}(d.default);N.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},N.sources={API:"api",SILENT:"silent",USER:"user"},n.default=N},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});function i(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var a=function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,c),this.quill=d,this.options=f};a.DEFAULTS={},n.default=a},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";function c(f){if(i.indexOf(f)<=i.indexOf(a)){for(var h,p=arguments.length,m=Array(p>1?p-1:0),y=1;y<p;y++)m[y-1]=arguments[y];(h=console)[f].apply(h,m)}}function d(f){return i.reduce(function(h,p){return h[p]=c.bind(console,p,f),h},{})}c.level=d.level=function(f){a=f},n.default=d},function(t,n,s){var i=Array.prototype.slice,a=s(52),c=s(53),d=t.exports=function(m,y,v){return v||(v={}),m===y?!0:m instanceof Date&&y instanceof Date?m.getTime()===y.getTime():!m||!y||typeof m!="object"&&typeof y!="object"?v.strict?m===y:m==y:p(m,y,v)};function f(m){return m==null}function h(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function p(m,y,v){var b,w;if(f(m)||f(y)||m.prototype!==y.prototype)return!1;if(c(m))return c(y)?(m=i.call(m),y=i.call(y),d(m,y,v)):!1;if(h(m)){if(!h(y)||m.length!==y.length)return!1;for(b=0;b<m.length;b++)if(m[b]!==y[b])return!1;return!0}try{var N=a(m),j=a(y)}catch{return!1}if(N.length!=j.length)return!1;for(N.sort(),j.sort(),b=N.length-1;b>=0;b--)if(N[b]!=j[b])return!1;for(b=N.length-1;b>=0;b--)if(w=N[b],!d(m[w],y[w],v))return!1;return typeof m==typeof y}},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),a=function(){function c(d,f,h){h===void 0&&(h={}),this.attrName=d,this.keyName=f;var p=i.Scope.TYPE&i.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&i.Scope.LEVEL|p:this.scope=i.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(f){return f.name})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.setAttribute(this.keyName,f),!0):!1},c.prototype.canAdd=function(d,f){var h=i.query(d,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var f=d.getAttribute(this.keyName);return this.canAdd(d,f)&&f?f:""},c}();n.default=a},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function P(D,O){var R=[],F=!0,$=!1,z=void 0;try{for(var Z=D[Symbol.iterator](),se;!(F=(se=Z.next()).done)&&(R.push(se.value),!(O&&R.length===O));F=!0);}catch(Q){$=!0,z=Q}finally{try{!F&&Z.return&&Z.return()}finally{if($)throw z}}return R}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return P(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function P(D,O){for(var R=0;R<O.length;R++){var F=O[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,O,R){return O&&P(D.prototype,O),R&&P(D,R),D}}(),c=function P(D,O,R){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,O);if(F===void 0){var $=Object.getPrototypeOf(D);return $===null?void 0:P($,O,R)}else{if("value"in F)return F.value;var z=F.get;return z===void 0?void 0:z.call(R)}},d=s(2),f=j(d),h=s(0),p=j(h),m=s(4),y=j(m),v=s(6),b=j(v),w=s(7),N=j(w);function j(P){return P&&P.__esModule?P:{default:P}}function E(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function S(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function A(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}var T=function(P){A(D,P);function D(){return E(this,D),S(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(b.default);T.blotName="code",T.tagName="CODE";var k=function(P){A(D,P);function D(){return E(this,D),S(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"delta",value:function(){var R=this,F=this.domNode.textContent;return F.endsWith(`
`)&&(F=F.slice(0,-1)),F.split(`
`).reduce(function($,z){return $.insert(z).insert(`
`,R.formats())},new f.default)}},{key:"format",value:function(R,F){if(!(R===this.statics.blotName&&F)){var $=this.descendant(N.default,this.length()-1),z=i($,1),Z=z[0];Z!=null&&Z.deleteAt(Z.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,R,F)}}},{key:"formatAt",value:function(R,F,$,z){if(F!==0&&!(p.default.query($,p.default.Scope.BLOCK)==null||$===this.statics.blotName&&z===this.statics.formats(this.domNode))){var Z=this.newlineIndex(R);if(!(Z<0||Z>=R+F)){var se=this.newlineIndex(R,!0)+1,Q=Z-se+1,oe=this.isolate(se,Q),ne=oe.next;oe.format($,z),ne instanceof D&&ne.formatAt(0,R-se+F-Q,$,z)}}}},{key:"insertAt",value:function(R,F,$){if($==null){var z=this.descendant(N.default,R),Z=i(z,2),se=Z[0],Q=Z[1];se.insertAt(Q,F)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var $=this.domNode.textContent.slice(R).indexOf(`
`);return $>-1?R+$:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,R);var F=this.next;F!=null&&F.prev===this&&F.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===F.statics.formats(F.domNode)&&(F.optimize(R),F.moveChildren(this),F.remove())}},{key:"replace",value:function(R){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(F){var $=p.default.find(F);$==null?F.parentNode.removeChild(F):$ instanceof p.default.Embed?$.remove():$.unwrap()})}}],[{key:"create",value:function(R){var F=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,R);return F.setAttribute("spellcheck",!1),F}},{key:"formats",value:function(){return!0}}]),D}(y.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",n.Code=T,n.default=k},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},a=function(){function ne(X,I){var q=[],Y=!0,le=!1,te=void 0;try{for(var V=X[Symbol.iterator](),ie;!(Y=(ie=V.next()).done)&&(q.push(ie.value),!(I&&q.length===I));Y=!0);}catch(ue){le=!0,te=ue}finally{try{!Y&&V.return&&V.return()}finally{if(le)throw te}}return q}return function(X,I){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return ne(X,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function ne(X,I){for(var q=0;q<I.length;q++){var Y=I[q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(X,Y.key,Y)}}return function(X,I,q){return I&&ne(X.prototype,I),q&&ne(X,q),X}}(),d=s(2),f=F(d),h=s(20),p=F(h),m=s(0),y=F(m),v=s(13),b=F(v),w=s(24),N=F(w),j=s(4),E=F(j),S=s(16),A=F(S),T=s(21),k=F(T),P=s(11),D=F(P),O=s(3),R=F(O);function F(ne){return ne&&ne.__esModule?ne:{default:ne}}function $(ne,X,I){return X in ne?Object.defineProperty(ne,X,{value:I,enumerable:!0,configurable:!0,writable:!0}):ne[X]=I,ne}function z(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}var Z=/^[ -~]*$/,se=function(){function ne(X){z(this,ne),this.scroll=X,this.delta=this.getDelta()}return c(ne,[{key:"applyDelta",value:function(I){var q=this,Y=!1;this.scroll.update();var le=this.scroll.length();return this.scroll.batchStart(),I=oe(I),I.reduce(function(te,V){var ie=V.retain||V.delete||V.insert.length||1,ue=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var me=V.insert;me.endsWith(`
`)&&Y&&(Y=!1,me=me.slice(0,-1)),te>=le&&!me.endsWith(`
`)&&(Y=!0),q.scroll.insertAt(te,me);var ge=q.scroll.line(te),Ae=a(ge,2),Pe=Ae[0],ve=Ae[1],de=(0,R.default)({},(0,j.bubbleFormats)(Pe));if(Pe instanceof E.default){var _e=Pe.descendant(y.default.Leaf,ve),Oe=a(_e,1),Be=Oe[0];de=(0,R.default)(de,(0,j.bubbleFormats)(Be))}ue=p.default.attributes.diff(de,ue)||{}}else if(i(V.insert)==="object"){var we=Object.keys(V.insert)[0];if(we==null)return te;q.scroll.insertAt(te,we,V.insert[we])}le+=ie}return Object.keys(ue).forEach(function(Se){q.scroll.formatAt(te,ie,Se,ue[Se])}),te+ie},0),I.reduce(function(te,V){return typeof V.delete=="number"?(q.scroll.deleteAt(te,V.delete),te):te+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,q){return this.scroll.deleteAt(I,q),this.update(new f.default().retain(I).delete(q))}},{key:"formatLine",value:function(I,q){var Y=this,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(le).forEach(function(te){if(!(Y.scroll.whitelist!=null&&!Y.scroll.whitelist[te])){var V=Y.scroll.lines(I,Math.max(q,1)),ie=q;V.forEach(function(ue){var me=ue.length();if(!(ue instanceof b.default))ue.format(te,le[te]);else{var ge=I-ue.offset(Y.scroll),Ae=ue.newlineIndex(ge+ie)-ge+1;ue.formatAt(ge,Ae,te,le[te])}ie-=me})}}),this.scroll.optimize(),this.update(new f.default().retain(I).retain(q,(0,k.default)(le)))}},{key:"formatText",value:function(I,q){var Y=this,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(le).forEach(function(te){Y.scroll.formatAt(I,q,te,le[te])}),this.update(new f.default().retain(I).retain(q,(0,k.default)(le)))}},{key:"getContents",value:function(I,q){return this.delta.slice(I,I+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,q){return I.concat(q.delta())},new f.default)}},{key:"getFormat",value:function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=[],le=[];q===0?this.scroll.path(I).forEach(function(V){var ie=a(V,1),ue=ie[0];ue instanceof E.default?Y.push(ue):ue instanceof y.default.Leaf&&le.push(ue)}):(Y=this.scroll.lines(I,q),le=this.scroll.descendants(y.default.Leaf,I,q));var te=[Y,le].map(function(V){if(V.length===0)return{};for(var ie=(0,j.bubbleFormats)(V.shift());Object.keys(ie).length>0;){var ue=V.shift();if(ue==null)return ie;ie=Q((0,j.bubbleFormats)(ue),ie)}return ie});return R.default.apply(R.default,te)}},{key:"getText",value:function(I,q){return this.getContents(I,q).filter(function(Y){return typeof Y.insert=="string"}).map(function(Y){return Y.insert}).join("")}},{key:"insertEmbed",value:function(I,q,Y){return this.scroll.insertAt(I,q,Y),this.update(new f.default().retain(I).insert($({},q,Y)))}},{key:"insertText",value:function(I,q){var Y=this,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,q),Object.keys(le).forEach(function(te){Y.scroll.formatAt(I,q.length,te,le[te])}),this.update(new f.default().retain(I).insert(q,(0,k.default)(le)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==E.default.blotName||I.children.length>1?!1:I.children.head instanceof A.default}},{key:"removeFormat",value:function(I,q){var Y=this.getText(I,q),le=this.scroll.line(I+q),te=a(le,2),V=te[0],ie=te[1],ue=0,me=new f.default;V!=null&&(V instanceof b.default?ue=V.newlineIndex(ie)-ie+1:ue=V.length()-ie,me=V.delta().slice(ie,ie+ue-1).insert(`
`));var ge=this.getContents(I,q+ue),Ae=ge.diff(new f.default().insert(Y).concat(me)),Pe=new f.default().retain(I).concat(Ae);return this.applyDelta(Pe)}},{key:"update",value:function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,le=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(Z)&&y.default.find(q[0].target)){var te=y.default.find(q[0].target),V=(0,j.bubbleFormats)(te),ie=te.offset(this.scroll),ue=q[0].oldValue.replace(N.default.CONTENTS,""),me=new f.default().insert(ue),ge=new f.default().insert(te.value()),Ae=new f.default().retain(ie).concat(me.diff(ge,Y));I=Ae.reduce(function(Pe,ve){return ve.insert?Pe.insert(ve.insert,V):Pe.push(ve)},new f.default),this.delta=le.compose(I)}else this.delta=this.getDelta(),(!I||!(0,D.default)(le.compose(I),this.delta))&&(I=le.diff(this.delta,Y));return I}}]),ne}();function Q(ne,X){return Object.keys(X).reduce(function(I,q){return ne[q]==null||(X[q]===ne[q]?I[q]=X[q]:Array.isArray(X[q])?X[q].indexOf(ne[q])<0&&(I[q]=X[q].concat([ne[q]])):I[q]=[X[q],ne[q]]),I},{})}function oe(ne){return ne.reduce(function(X,I){if(I.insert===1){var q=(0,k.default)(I.attributes);return delete q.image,X.insert({image:I.attributes.image},q)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,k.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var Y=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(Y,I.attributes)}return X.push(I)},new f.default)}n.default=se},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function P(D,O){var R=[],F=!0,$=!1,z=void 0;try{for(var Z=D[Symbol.iterator](),se;!(F=(se=Z.next()).done)&&(R.push(se.value),!(O&&R.length===O));F=!0);}catch(Q){$=!0,z=Q}finally{try{!F&&Z.return&&Z.return()}finally{if($)throw z}}return R}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return P(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function P(D,O){for(var R=0;R<O.length;R++){var F=O[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,O,R){return O&&P(D.prototype,O),R&&P(D,R),D}}(),c=s(0),d=N(c),f=s(21),h=N(f),p=s(11),m=N(p),y=s(8),v=N(y),b=s(10),w=N(b);function N(P){return P&&P.__esModule?P:{default:P}}function j(P){if(Array.isArray(P)){for(var D=0,O=Array(P.length);D<P.length;D++)O[D]=P[D];return O}else return Array.from(P)}function E(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}var S=(0,w.default)("quill:selection"),A=function P(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,P),this.index=D,this.length=O},T=function(){function P(D,O){var R=this;E(this,P),this.emitter=O,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new A(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(F,$){F===v.default.events.TEXT_CHANGE&&$.length()>0&&R.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var F=R.getNativeRange();F!=null&&F.start.node!==R.cursor.textNode&&R.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(F.start.node,F.start.offset,F.end.node,F.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(F,$){if($.range){var z=$.range,Z=z.startNode,se=z.startOffset,Q=z.endNode,oe=z.endOffset;R.setNativeRange(Z,se,Q,oe)}}),this.update(v.default.sources.SILENT)}return a(P,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var R=O.cursor.restore();if(!R)return;setTimeout(function(){O.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var F=this.getNativeRange();if(!(F==null||!F.native.collapsed||d.default.query(O,d.default.Scope.BLOCK))){if(F.start.node!==this.cursor.textNode){var $=d.default.find(F.start.node,!1);if($==null)return;if($ instanceof d.default.Leaf){var z=$.split(F.start.offset);$.parent.insertBefore(this.cursor,z)}else $.insertBefore(this.cursor,F.start.node);this.cursor.attach()}this.cursor.format(O,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=this.scroll.length();O=Math.min(O,F-1),R=Math.min(O+R,F-1)-O;var $=void 0,z=this.scroll.leaf(O),Z=i(z,2),se=Z[0],Q=Z[1];if(se==null)return null;var oe=se.position(Q,!0),ne=i(oe,2);$=ne[0],Q=ne[1];var X=document.createRange();if(R>0){X.setStart($,Q);var I=this.scroll.leaf(O+R),q=i(I,2);if(se=q[0],Q=q[1],se==null)return null;var Y=se.position(Q,!0),le=i(Y,2);return $=le[0],Q=le[1],X.setEnd($,Q),X.getBoundingClientRect()}else{var te="left",V=void 0;return $ instanceof Text?(Q<$.data.length?(X.setStart($,Q),X.setEnd($,Q+1)):(X.setStart($,Q-1),X.setEnd($,Q),te="right"),V=X.getBoundingClientRect()):(V=se.domNode.getBoundingClientRect(),Q>0&&(te="right")),{bottom:V.top+V.height,height:V.height,left:V[te],right:V[te],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var R=O.getRangeAt(0);if(R==null)return null;var F=this.normalizeNative(R);return S.info("getNativeRange",F),F}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var R=this.normalizedToRange(O);return[R,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var R=this,F=[[O.start.node,O.start.offset]];O.native.collapsed||F.push([O.end.node,O.end.offset]);var $=F.map(function(se){var Q=i(se,2),oe=Q[0],ne=Q[1],X=d.default.find(oe,!0),I=X.offset(R.scroll);return ne===0?I:X instanceof d.default.Container?I+X.length():I+X.index(oe,ne)}),z=Math.min(Math.max.apply(Math,j($)),this.scroll.length()-1),Z=Math.min.apply(Math,[z].concat(j($)));return new A(Z,z-Z)}},{key:"normalizeNative",value:function(O){if(!k(this.root,O.startContainer)||!O.collapsed&&!k(this.root,O.endContainer))return null;var R={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[R.start,R.end].forEach(function(F){for(var $=F.node,z=F.offset;!($ instanceof Text)&&$.childNodes.length>0;)if($.childNodes.length>z)$=$.childNodes[z],z=0;else if($.childNodes.length===z)$=$.lastChild,z=$ instanceof Text?$.data.length:$.childNodes.length+1;else break;F.node=$,F.offset=z}),R}},{key:"rangeToNative",value:function(O){var R=this,F=O.collapsed?[O.index]:[O.index,O.index+O.length],$=[],z=this.scroll.length();return F.forEach(function(Z,se){Z=Math.min(z-1,Z);var Q=void 0,oe=R.scroll.leaf(Z),ne=i(oe,2),X=ne[0],I=ne[1],q=X.position(I,se!==0),Y=i(q,2);Q=Y[0],I=Y[1],$.push(Q,I)}),$.length<2&&($=$.concat($)),$}},{key:"scrollIntoView",value:function(O){var R=this.lastRange;if(R!=null){var F=this.getBounds(R.index,R.length);if(F!=null){var $=this.scroll.length()-1,z=this.scroll.line(Math.min(R.index,$)),Z=i(z,1),se=Z[0],Q=se;if(R.length>0){var oe=this.scroll.line(Math.min(R.index+R.length,$)),ne=i(oe,1);Q=ne[0]}if(!(se==null||Q==null)){var X=O.getBoundingClientRect();F.top<X.top?O.scrollTop-=X.top-F.top:F.bottom>X.bottom&&(O.scrollTop+=F.bottom-X.bottom)}}}}},{key:"setNativeRange",value:function(O,R){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",O,R,F,$),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||F.parentNode==null))){var Z=document.getSelection();if(Z!=null)if(O!=null){this.hasFocus()||this.root.focus();var se=(this.getNativeRange()||{}).native;if(se==null||z||O!==se.startContainer||R!==se.startOffset||F!==se.endContainer||$!==se.endOffset){O.tagName=="BR"&&(R=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),F.tagName=="BR"&&($=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode);var Q=document.createRange();Q.setStart(O,R),Q.setEnd(F,$),Z.removeAllRanges(),Z.addRange(Q)}}else Z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof R=="string"&&(F=R,R=!1),S.info("setRange",O),O!=null){var $=this.rangeToNative(O);this.setNativeRange.apply(this,j($).concat([R]))}else this.setNativeRange(null);this.update(F)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,R=this.lastRange,F=this.getRange(),$=i(F,2),z=$[0],Z=$[1];if(this.lastRange=z,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(R,this.lastRange)){var se;!this.composing&&Z!=null&&Z.native.collapsed&&Z.start.node!==this.cursor.textNode&&this.cursor.restore();var Q=[v.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(R),O];if((se=this.emitter).emit.apply(se,[v.default.events.EDITOR_CHANGE].concat(Q)),O!==v.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,Q)}}}}]),P}();function k(P,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),P.contains(D)}n.Range=A,n.default=T},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(b,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,N){return w&&v(b.prototype,w),N&&v(b,N),b}}(),a=function v(b,w,N){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:v(E,w,N)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(N)}},c=s(0),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"insertInto",value:function(N,j){N.children.length===0?a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,N,j):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(d.default.Embed);y.blotName="break",y.tagName="BR",n.default=y},function(t,n,s){var i=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])};return function(m,y){p(m,y);function v(){this.constructor=m}m.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(44),c=s(30),d=s(1),f=function(p){i(m,p);function m(y){var v=p.call(this,y)||this;return v.build(),v}return m.prototype.appendChild=function(y){this.insertBefore(y)},m.prototype.attach=function(){p.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},m.prototype.build=function(){var y=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var b=h(v);y.insertBefore(b,y.children.head||void 0)}catch(w){if(w instanceof d.ParchmentError)return;throw w}})},m.prototype.deleteAt=function(y,v){if(y===0&&v===this.length())return this.remove();this.children.forEachAt(y,v,function(b,w,N){b.deleteAt(w,N)})},m.prototype.descendant=function(y,v){var b=this.children.find(v),w=b[0],N=b[1];return y.blotName==null&&y(w)||y.blotName!=null&&w instanceof y?[w,N]:w instanceof m?w.descendant(y,N):[null,-1]},m.prototype.descendants=function(y,v,b){v===void 0&&(v=0),b===void 0&&(b=Number.MAX_VALUE);var w=[],N=b;return this.children.forEachAt(v,b,function(j,E,S){(y.blotName==null&&y(j)||y.blotName!=null&&j instanceof y)&&w.push(j),j instanceof m&&(w=w.concat(j.descendants(y,E,N))),N-=S}),w},m.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),p.prototype.detach.call(this)},m.prototype.formatAt=function(y,v,b,w){this.children.forEachAt(y,v,function(N,j,E){N.formatAt(j,E,b,w)})},m.prototype.insertAt=function(y,v,b){var w=this.children.find(y),N=w[0],j=w[1];if(N)N.insertAt(j,v,b);else{var E=b==null?d.create("text",v):d.create(v,b);this.appendChild(E)}},m.prototype.insertBefore=function(y,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return y instanceof b}))throw new d.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,v)},m.prototype.length=function(){return this.children.reduce(function(y,v){return y+v.length()},0)},m.prototype.moveChildren=function(y,v){this.children.forEach(function(b){y.insertBefore(b,v)})},m.prototype.optimize=function(y){if(p.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var v=d.create(this.statics.defaultChild);this.appendChild(v),v.optimize(y)}else this.remove()},m.prototype.path=function(y,v){v===void 0&&(v=!1);var b=this.children.find(y,v),w=b[0],N=b[1],j=[[this,y]];return w instanceof m?j.concat(w.path(N,v)):(w!=null&&j.push([w,N]),j)},m.prototype.removeChild=function(y){this.children.remove(y)},m.prototype.replace=function(y){y instanceof m&&y.moveChildren(this),p.prototype.replace.call(this,y)},m.prototype.split=function(y,v){if(v===void 0&&(v=!1),!v){if(y===0)return this;if(y===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(y,this.length(),function(w,N,j){w=w.split(N,v),b.appendChild(w)}),b},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(y,v){var b=this,w=[],N=[];y.forEach(function(j){j.target===b.domNode&&j.type==="childList"&&(w.push.apply(w,j.addedNodes),N.push.apply(N,j.removedNodes))}),N.forEach(function(j){if(!(j.parentNode!=null&&j.tagName!=="IFRAME"&&document.body.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=d.find(j);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===b.domNode)&&E.detach()}}),w.filter(function(j){return j.parentNode==b.domNode}).sort(function(j,E){return j===E?0:j.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(j){var E=null;j.nextSibling!=null&&(E=d.find(j.nextSibling));var S=h(j);(S.next!=E||S.next==null)&&(S.parent!=null&&S.parent.removeChild(b),b.insertBefore(S,E||void 0))})},m}(c.default);function h(p){var m=d.find(p);if(m==null)try{m=d.create(p)}catch{m=d.create(d.Scope.INLINE),[].slice.call(p.childNodes).forEach(function(v){m.domNode.appendChild(v)}),p.parentNode&&p.parentNode.replaceChild(m.domNode,p),m.attach()}return m}n.default=f},function(t,n,s){var i=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])};return function(m,y){p(m,y);function v(){this.constructor=m}m.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(12),c=s(31),d=s(17),f=s(1),h=function(p){i(m,p);function m(y){var v=p.call(this,y)||this;return v.attributes=new c.default(v.domNode),v}return m.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},m.prototype.format=function(y,v){var b=f.query(y);b instanceof a.default?this.attributes.attribute(b,v):v&&b!=null&&(y!==this.statics.blotName||this.formats()[y]!==v)&&this.replaceWith(y,v)},m.prototype.formats=function(){var y=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(y[this.statics.blotName]=v),y},m.prototype.replaceWith=function(y,v){var b=p.prototype.replaceWith.call(this,y,v);return this.attributes.copy(b),b},m.prototype.update=function(y,v){var b=this;p.prototype.update.call(this,y,v),y.some(function(w){return w.target===b.domNode&&w.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(y,v){var b=p.prototype.wrap.call(this,y,v);return b instanceof m&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},m}(d.default);n.default=h},function(t,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(30),c=s(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.value=function(p){return!0},h.prototype.index=function(p,m){return this.domNode===p||this.domNode.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},h.prototype.position=function(p,m){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return p>0&&(y+=1),[this.parent.domNode,y]},h.prototype.value=function(){var p;return p={},p[this.statics.blotName]=this.statics.value(this.domNode)||!0,p},h.scope=c.Scope.INLINE_BLOT,h}(a.default);n.default=d},function(t,n,s){var i=s(11),a=s(3),c={attributes:{compose:function(f,h,p){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var m=a(!0,{},h);p||(m=Object.keys(m).reduce(function(v,b){return m[b]!=null&&(v[b]=m[b]),v},{}));for(var y in f)f[y]!==void 0&&h[y]===void 0&&(m[y]=f[y]);return Object.keys(m).length>0?m:void 0},diff:function(f,h){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var p=Object.keys(f).concat(Object.keys(h)).reduce(function(m,y){return i(f[y],h[y])||(m[y]=h[y]===void 0?null:h[y]),m},{});return Object.keys(p).length>0?p:void 0},transform:function(f,h,p){if(typeof f!="object")return h;if(typeof h=="object"){if(!p)return h;var m=Object.keys(h).reduce(function(y,v){return f[v]===void 0&&(y[v]=h[v]),y},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(f){return new d(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function d(f){this.ops=f,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(f){f||(f=1/0);var h=this.ops[this.index];if(h){var p=this.offset,m=c.length(h);if(f>=m-p?(f=m-p,this.index+=1,this.offset=0):this.offset+=f,typeof h.delete=="number")return{delete:f};var y={};return h.attributes&&(y.attributes=h.attributes),typeof h.retain=="number"?y.retain=f:typeof h.insert=="string"?y.insert=h.insert.substr(p,f):y.insert=h.insert,y}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,h=this.index,p=this.next(),m=this.ops.slice(this.index);return this.offset=f,this.index=h,[p].concat(m)}else return[]},t.exports=c},function(t,n){var s=function(){function i(b,w){return w!=null&&b instanceof w}var a;try{a=Map}catch{a=function(){}}var c;try{c=Set}catch{c=function(){}}var d;try{d=Promise}catch{d=function(){}}function f(b,w,N,j,E){typeof w=="object"&&(N=w.depth,j=w.prototype,E=w.includeNonEnumerable,w=w.circular);var S=[],A=[],T=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof N>"u"&&(N=1/0);function k(P,D){if(P===null)return null;if(D===0)return P;var O,R;if(typeof P!="object")return P;if(i(P,a))O=new a;else if(i(P,c))O=new c;else if(i(P,d))O=new d(function(X,I){P.then(function(q){X(k(q,D-1))},function(q){I(k(q,D-1))})});else if(f.__isArray(P))O=[];else if(f.__isRegExp(P))O=new RegExp(P.source,v(P)),P.lastIndex&&(O.lastIndex=P.lastIndex);else if(f.__isDate(P))O=new Date(P.getTime());else{if(T&&Buffer.isBuffer(P))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(P.length):O=new Buffer(P.length),P.copy(O),O;i(P,Error)?O=Object.create(P):typeof j>"u"?(R=Object.getPrototypeOf(P),O=Object.create(R)):(O=Object.create(j),R=j)}if(w){var F=S.indexOf(P);if(F!=-1)return A[F];S.push(P),A.push(O)}i(P,a)&&P.forEach(function(X,I){var q=k(I,D-1),Y=k(X,D-1);O.set(q,Y)}),i(P,c)&&P.forEach(function(X){var I=k(X,D-1);O.add(I)});for(var $ in P){var z;R&&(z=Object.getOwnPropertyDescriptor(R,$)),!(z&&z.set==null)&&(O[$]=k(P[$],D-1))}if(Object.getOwnPropertySymbols)for(var Z=Object.getOwnPropertySymbols(P),$=0;$<Z.length;$++){var se=Z[$],Q=Object.getOwnPropertyDescriptor(P,se);Q&&!Q.enumerable&&!E||(O[se]=k(P[se],D-1),Q.enumerable||Object.defineProperty(O,se,{enumerable:!1}))}if(E)for(var oe=Object.getOwnPropertyNames(P),$=0;$<oe.length;$++){var ne=oe[$],Q=Object.getOwnPropertyDescriptor(P,ne);Q&&Q.enumerable||(O[ne]=k(P[ne],D-1),Object.defineProperty(O,ne,{enumerable:!1}))}return O}return k(b,N)}f.clonePrototype=function(w){if(w===null)return null;var N=function(){};return N.prototype=w,new N};function h(b){return Object.prototype.toString.call(b)}f.__objToStr=h;function p(b){return typeof b=="object"&&h(b)==="[object Date]"}f.__isDate=p;function m(b){return typeof b=="object"&&h(b)==="[object Array]"}f.__isArray=m;function y(b){return typeof b=="object"&&h(b)==="[object RegExp]"}f.__isRegExp=y;function v(b){var w="";return b.global&&(w+="g"),b.ignoreCase&&(w+="i"),b.multiline&&(w+="m"),w}return f.__getRegExpFlags=v,f}();typeof t=="object"&&t.exports&&(t.exports=s)},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function O(R,F){var $=[],z=!0,Z=!1,se=void 0;try{for(var Q=R[Symbol.iterator](),oe;!(z=(oe=Q.next()).done)&&($.push(oe.value),!(F&&$.length===F));z=!0);}catch(ne){Z=!0,se=ne}finally{try{!z&&Q.return&&Q.return()}finally{if(Z)throw se}}return $}return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return O(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function O(R,F){for(var $=0;$<F.length;$++){var z=F[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,F,$){return F&&O(R.prototype,F),$&&O(R,$),R}}(),c=function O(R,F,$){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,F);if(z===void 0){var Z=Object.getPrototypeOf(R);return Z===null?void 0:O(Z,F,$)}else{if("value"in z)return z.value;var se=z.get;return se===void 0?void 0:se.call($)}},d=s(0),f=S(d),h=s(8),p=S(h),m=s(4),y=S(m),v=s(16),b=S(v),w=s(13),N=S(w),j=s(25),E=S(j);function S(O){return O&&O.__esModule?O:{default:O}}function A(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function T(O,R){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:O}function k(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(O,R):O.__proto__=R)}function P(O){return O instanceof y.default||O instanceof m.BlockEmbed}var D=function(O){k(R,O);function R(F,$){A(this,R);var z=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F));return z.emitter=$.emitter,Array.isArray($.whitelist)&&(z.whitelist=$.whitelist.reduce(function(Z,se){return Z[se]=!0,Z},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return a(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function($,z){var Z=this.line($),se=i(Z,2),Q=se[0],oe=se[1],ne=this.line($+z),X=i(ne,1),I=X[0];if(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,$,z),I!=null&&Q!==I&&oe>0){if(Q instanceof m.BlockEmbed||I instanceof m.BlockEmbed){this.optimize();return}if(Q instanceof N.default){var q=Q.newlineIndex(Q.length(),!0);if(q>-1&&(Q=Q.split(q+1),Q===I)){this.optimize();return}}else if(I instanceof N.default){var Y=I.newlineIndex(0);Y>-1&&I.split(Y+1)}var le=I.children.head instanceof b.default?null:I.children.head;Q.moveChildren(I,le),Q.remove()}this.optimize()}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",$)}},{key:"formatAt",value:function($,z,Z,se){this.whitelist!=null&&!this.whitelist[Z]||(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,$,z,Z,se),this.optimize())}},{key:"insertAt",value:function($,z,Z){if(!(Z!=null&&this.whitelist!=null&&!this.whitelist[z])){if($>=this.length())if(Z==null||f.default.query(z,f.default.Scope.BLOCK)==null){var se=f.default.create(this.statics.defaultChild);this.appendChild(se),Z==null&&z.endsWith(`
`)&&(z=z.slice(0,-1)),se.insertAt(0,z,Z)}else{var Q=f.default.create(z,Z);this.appendChild(Q)}else c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,$,z,Z);this.optimize()}}},{key:"insertBefore",value:function($,z){if($.statics.scope===f.default.Scope.INLINE_BLOT){var Z=f.default.create(this.statics.defaultChild);Z.appendChild($),$=Z}c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,$,z)}},{key:"leaf",value:function($){return this.path($).pop()||[null,-1]}},{key:"line",value:function($){return $===this.length()?this.line($-1):this.descendant(P,$)}},{key:"lines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Z=function se(Q,oe,ne){var X=[],I=ne;return Q.children.forEachAt(oe,ne,function(q,Y,le){P(q)?X.push(q):q instanceof f.default.Container&&(X=X.concat(se(q,Y,I))),I-=le}),X};return Z(this,$,z)}},{key:"optimize",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,$,z),$.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,$,z))}},{key:"path",value:function($){return c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,$).slice(1)}},{key:"update",value:function($){if(this.batch!==!0){var z=p.default.sources.USER;typeof $=="string"&&(z=$),Array.isArray($)||($=this.observer.takeRecords()),$.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,z,$),c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,$.concat([])),$.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,z,$)}}}]),R}(f.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[y.default,m.BlockEmbed,E.default],n.default=D},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},a=function(){function V(ie,ue){var me=[],ge=!0,Ae=!1,Pe=void 0;try{for(var ve=ie[Symbol.iterator](),de;!(ge=(de=ve.next()).done)&&(me.push(de.value),!(ue&&me.length===ue));ge=!0);}catch(_e){Ae=!0,Pe=_e}finally{try{!ge&&ve.return&&ve.return()}finally{if(Ae)throw Pe}}return me}return function(ie,ue){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return V(ie,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function V(ie,ue){for(var me=0;me<ue.length;me++){var ge=ue[me];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ie,ge.key,ge)}}return function(ie,ue,me){return ue&&V(ie.prototype,ue),me&&V(ie,me),ie}}(),d=s(21),f=O(d),h=s(11),p=O(h),m=s(3),y=O(m),v=s(2),b=O(v),w=s(20),N=O(w),j=s(0),E=O(j),S=s(5),A=O(S),T=s(10),k=O(T),P=s(9),D=O(P);function O(V){return V&&V.__esModule?V:{default:V}}function R(V,ie,ue){return ie in V?Object.defineProperty(V,ie,{value:ue,enumerable:!0,configurable:!0,writable:!0}):V[ie]=ue,V}function F(V,ie){if(!(V instanceof ie))throw new TypeError("Cannot call a class as a function")}function $(V,ie){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:V}function z(V,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);V.prototype=Object.create(ie&&ie.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(V,ie):V.__proto__=ie)}var Z=(0,k.default)("quill:keyboard"),se=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Q=function(V){z(ie,V),c(ie,null,[{key:"match",value:function(me,ge){return ge=te(ge),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ae){return!!ge[Ae]!==me[Ae]&&ge[Ae]!==null})?!1:ge.key===(me.which||me.keyCode)}}]);function ie(ue,me){F(this,ie);var ge=$(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,ue,me));return ge.bindings={},Object.keys(ge.options.bindings).forEach(function(Ae){Ae==="list autofill"&&ue.scroll.whitelist!=null&&!ue.scroll.whitelist.list||ge.options.bindings[Ae]&&ge.addBinding(ge.options.bindings[Ae])}),ge.addBinding({key:ie.keys.ENTER,shiftKey:null},q),ge.addBinding({key:ie.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ge.addBinding({key:ie.keys.BACKSPACE},{collapsed:!0},ne),ge.addBinding({key:ie.keys.DELETE},{collapsed:!0},X)):(ge.addBinding({key:ie.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ne),ge.addBinding({key:ie.keys.DELETE},{collapsed:!0,suffix:/^.?$/},X)),ge.addBinding({key:ie.keys.BACKSPACE},{collapsed:!1},I),ge.addBinding({key:ie.keys.DELETE},{collapsed:!1},I),ge.addBinding({key:ie.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ne),ge.listen(),ge}return c(ie,[{key:"addBinding",value:function(me){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Pe=te(me);if(Pe==null||Pe.key==null)return Z.warn("Attempted to add invalid keyboard binding",Pe);typeof ge=="function"&&(ge={handler:ge}),typeof Ae=="function"&&(Ae={handler:Ae}),Pe=(0,y.default)(Pe,ge,Ae),this.bindings[Pe.key]=this.bindings[Pe.key]||[],this.bindings[Pe.key].push(Pe)}},{key:"listen",value:function(){var me=this;this.quill.root.addEventListener("keydown",function(ge){if(!ge.defaultPrevented){var Ae=ge.which||ge.keyCode,Pe=(me.bindings[Ae]||[]).filter(function(ft){return ie.match(ge,ft)});if(Pe.length!==0){var ve=me.quill.getSelection();if(!(ve==null||!me.quill.hasFocus())){var de=me.quill.getLine(ve.index),_e=a(de,2),Oe=_e[0],Be=_e[1],we=me.quill.getLeaf(ve.index),Se=a(we,2),K=Se[0],ee=Se[1],re=ve.length===0?[K,ee]:me.quill.getLeaf(ve.index+ve.length),B=a(re,2),J=B[0],ae=B[1],xe=K instanceof E.default.Text?K.value().slice(0,ee):"",Re=J instanceof E.default.Text?J.value().slice(ae):"",De={collapsed:ve.length===0,empty:ve.length===0&&Oe.length()<=1,format:me.quill.getFormat(ve),offset:Be,prefix:xe,suffix:Re},lt=Pe.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==De.collapsed||ft.empty!=null&&ft.empty!==De.empty||ft.offset!=null&&ft.offset!==De.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(Vt){return De.format[Vt]==null}))return!1}else if(i(ft.format)==="object"&&!Object.keys(ft.format).every(function(Vt){return ft.format[Vt]===!0?De.format[Vt]!=null:ft.format[Vt]===!1?De.format[Vt]==null:(0,p.default)(ft.format[Vt],De.format[Vt])}))return!1;return ft.prefix!=null&&!ft.prefix.test(De.prefix)||ft.suffix!=null&&!ft.suffix.test(De.suffix)?!1:ft.handler.call(me,ve,De)!==!0});lt&&ge.preventDefault()}}}})}}]),ie}(D.default);Q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Q.DEFAULTS={bindings:{bold:le("bold"),italic:le("italic"),underline:le("underline"),indent:{key:Q.keys.TAB,format:["blockquote","indent","list"],handler:function(ie,ue){if(ue.collapsed&&ue.offset!==0)return!0;this.quill.format("indent","+1",A.default.sources.USER)}},outdent:{key:Q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ie,ue){if(ue.collapsed&&ue.offset!==0)return!0;this.quill.format("indent","-1",A.default.sources.USER)}},"outdent backspace":{key:Q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ie,ue){ue.format.indent!=null?this.quill.format("indent","-1",A.default.sources.USER):ue.format.list!=null&&this.quill.format("list",!1,A.default.sources.USER)}},"indent code-block":Y(!0),"outdent code-block":Y(!1),"remove tab":{key:Q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ie){this.quill.deleteText(ie.index-1,1,A.default.sources.USER)}},tab:{key:Q.keys.TAB,handler:function(ie){this.quill.history.cutoff();var ue=new b.default().retain(ie.index).delete(ie.length).insert("	");this.quill.updateContents(ue,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ie.index+1,A.default.sources.SILENT)}},"list empty enter":{key:Q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ie,ue){this.quill.format("list",!1,A.default.sources.USER),ue.format.indent&&this.quill.format("indent",!1,A.default.sources.USER)}},"checklist enter":{key:Q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ie){var ue=this.quill.getLine(ie.index),me=a(ue,2),ge=me[0],Ae=me[1],Pe=(0,y.default)({},ge.formats(),{list:"checked"}),ve=new b.default().retain(ie.index).insert(`
`,Pe).retain(ge.length()-Ae-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,A.default.sources.USER),this.quill.setSelection(ie.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ie,ue){var me=this.quill.getLine(ie.index),ge=a(me,2),Ae=ge[0],Pe=ge[1],ve=new b.default().retain(ie.index).insert(`
`,ue.format).retain(Ae.length()-Pe-1).retain(1,{header:null});this.quill.updateContents(ve,A.default.sources.USER),this.quill.setSelection(ie.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ie,ue){var me=ue.prefix.length,ge=this.quill.getLine(ie.index),Ae=a(ge,2),Pe=Ae[0],ve=Ae[1];if(ve>me)return!0;var de=void 0;switch(ue.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(ie.index," ",A.default.sources.USER),this.quill.history.cutoff();var _e=new b.default().retain(ie.index-ve).delete(me+1).retain(Pe.length()-2-ve).retain(1,{list:de});this.quill.updateContents(_e,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ie.index-me,A.default.sources.SILENT)}},"code exit":{key:Q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ie){var ue=this.quill.getLine(ie.index),me=a(ue,2),ge=me[0],Ae=me[1],Pe=new b.default().retain(ie.index+ge.length()-Ae-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Pe,A.default.sources.USER)}},"embed left":oe(Q.keys.LEFT,!1),"embed left shift":oe(Q.keys.LEFT,!0),"embed right":oe(Q.keys.RIGHT,!1),"embed right shift":oe(Q.keys.RIGHT,!0)}};function oe(V,ie){var ue,me=V===Q.keys.LEFT?"prefix":"suffix";return ue={key:V,shiftKey:ie,altKey:null},R(ue,me,/^$/),R(ue,"handler",function(Ae){var Pe=Ae.index;V===Q.keys.RIGHT&&(Pe+=Ae.length+1);var ve=this.quill.getLeaf(Pe),de=a(ve,1),_e=de[0];return _e instanceof E.default.Embed?(V===Q.keys.LEFT?ie?this.quill.setSelection(Ae.index-1,Ae.length+1,A.default.sources.USER):this.quill.setSelection(Ae.index-1,A.default.sources.USER):ie?this.quill.setSelection(Ae.index,Ae.length+1,A.default.sources.USER):this.quill.setSelection(Ae.index+Ae.length+1,A.default.sources.USER),!1):!0}),ue}function ne(V,ie){if(!(V.index===0||this.quill.getLength()<=1)){var ue=this.quill.getLine(V.index),me=a(ue,1),ge=me[0],Ae={};if(ie.offset===0){var Pe=this.quill.getLine(V.index-1),ve=a(Pe,1),de=ve[0];if(de!=null&&de.length()>1){var _e=ge.formats(),Oe=this.quill.getFormat(V.index-1,1);Ae=N.default.attributes.diff(_e,Oe)||{}}}var Be=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ie.prefix)?2:1;this.quill.deleteText(V.index-Be,Be,A.default.sources.USER),Object.keys(Ae).length>0&&this.quill.formatLine(V.index-Be,Be,Ae,A.default.sources.USER),this.quill.focus()}}function X(V,ie){var ue=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ie.suffix)?2:1;if(!(V.index>=this.quill.getLength()-ue)){var me={},ge=0,Ae=this.quill.getLine(V.index),Pe=a(Ae,1),ve=Pe[0];if(ie.offset>=ve.length()-1){var de=this.quill.getLine(V.index+1),_e=a(de,1),Oe=_e[0];if(Oe){var Be=ve.formats(),we=this.quill.getFormat(V.index,1);me=N.default.attributes.diff(Be,we)||{},ge=Oe.length()}}this.quill.deleteText(V.index,ue,A.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(V.index+ge-1,ue,me,A.default.sources.USER)}}function I(V){var ie=this.quill.getLines(V),ue={};if(ie.length>1){var me=ie[0].formats(),ge=ie[ie.length-1].formats();ue=N.default.attributes.diff(ge,me)||{}}this.quill.deleteText(V,A.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(V.index,1,ue,A.default.sources.USER),this.quill.setSelection(V.index,A.default.sources.SILENT),this.quill.focus()}function q(V,ie){var ue=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var me=Object.keys(ie.format).reduce(function(ge,Ae){return E.default.query(Ae,E.default.Scope.BLOCK)&&!Array.isArray(ie.format[Ae])&&(ge[Ae]=ie.format[Ae]),ge},{});this.quill.insertText(V.index,`
`,me,A.default.sources.USER),this.quill.setSelection(V.index+1,A.default.sources.SILENT),this.quill.focus(),Object.keys(ie.format).forEach(function(ge){me[ge]==null&&(Array.isArray(ie.format[ge])||ge!=="link"&&ue.quill.format(ge,ie.format[ge],A.default.sources.USER))})}function Y(V){return{key:Q.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(ue){var me=E.default.query("code-block"),ge=ue.index,Ae=ue.length,Pe=this.quill.scroll.descendant(me,ge),ve=a(Pe,2),de=ve[0],_e=ve[1];if(de!=null){var Oe=this.quill.getIndex(de),Be=de.newlineIndex(_e,!0)+1,we=de.newlineIndex(Oe+_e+Ae),Se=de.domNode.textContent.slice(Be,we).split(`
`);_e=0,Se.forEach(function(K,ee){V?(de.insertAt(Be+_e,me.TAB),_e+=me.TAB.length,ee===0?ge+=me.TAB.length:Ae+=me.TAB.length):K.startsWith(me.TAB)&&(de.deleteAt(Be+_e,me.TAB.length),_e-=me.TAB.length,ee===0?ge-=me.TAB.length:Ae-=me.TAB.length),_e+=K.length+1}),this.quill.update(A.default.sources.USER),this.quill.setSelection(ge,Ae,A.default.sources.SILENT)}}}}function le(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(ue,me){this.quill.format(V,!me.format[V],A.default.sources.USER)}}}function te(V){if(typeof V=="string"||typeof V=="number")return te({key:V});if((typeof V>"u"?"undefined":i(V))==="object"&&(V=(0,f.default)(V,!1)),typeof V.key=="string")if(Q.keys[V.key.toUpperCase()]!=null)V.key=Q.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[se]=V.shortKey,delete V.shortKey),V}n.default=Q,n.SHORTKEY=se},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function N(j,E){var S=[],A=!0,T=!1,k=void 0;try{for(var P=j[Symbol.iterator](),D;!(A=(D=P.next()).done)&&(S.push(D.value),!(E&&S.length===E));A=!0);}catch(O){T=!0,k=O}finally{try{!A&&P.return&&P.return()}finally{if(T)throw k}}return S}return function(j,E){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return N(j,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function N(j,E,S){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,E);if(A===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:N(T,E,S)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(S)}},c=function(){function N(j,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,E,S){return E&&N(j.prototype,E),S&&N(j,S),j}}(),d=s(0),f=m(d),h=s(7),p=m(h);function m(N){return N&&N.__esModule?N:{default:N}}function y(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function v(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function b(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var w=function(N){b(j,N),c(j,null,[{key:"value",value:function(){}}]);function j(E,S){y(this,j);var A=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E));return A.selection=S,A.textNode=document.createTextNode(j.CONTENTS),A.domNode.appendChild(A.textNode),A._length=0,A}return c(j,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,A){if(this._length!==0)return a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,S,A);for(var T=this,k=0;T!=null&&T.statics.scope!==f.default.Scope.BLOCK_BLOT;)k+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=j.CONTENTS.length,T.optimize(),T.formatAt(k,j.CONTENTS.length,S,A),this._length=0)}},{key:"index",value:function(S,A){return S===this.textNode?0:a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"index",this).call(this,S,A)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,A=this.selection.getNativeRange(),T=void 0,k=void 0,P=void 0;if(A!=null&&A.start.node===S&&A.end.node===S){var D=[S,A.start.offset,A.end.offset];T=D[0],k=D[1],P=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==j.CONTENTS){var O=this.textNode.data.split(j.CONTENTS).join("");this.next instanceof p.default?(T=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=j.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(j.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var R=[k,P].map(function($){return Math.max(0,Math.min(T.data.length,$-1))}),F=i(R,2);return k=F[0],P=F[1],{startNode:T,startOffset:k,endNode:T,endOffset:P}}}}},{key:"update",value:function(S,A){var T=this;if(S.some(function(P){return P.type==="characterData"&&P.target===T.textNode})){var k=this.restore();k&&(A.range=k)}}},{key:"value",value:function(){return""}}]),j}(f.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",n.default=w},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),a=f(i),c=s(4),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(a.default.Container);y.allowedChildren=[d.default,c.BlockEmbed,y],n.default=y},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function w(N,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,j,E){return j&&w(N.prototype,j),E&&w(N,E),N}}(),a=function w(N,j,E){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,j);if(S===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:w(A,j,E)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(E)}},c=s(0),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function p(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function m(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var y=function(w){m(N,w);function N(){return h(this,N),p(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"value",value:function(E){var S=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"value",this).call(this,E);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(A){return("00"+parseInt(A).toString(16)).slice(-2)}).join("")):S}}]),N}(d.default.Attributor.Style),v=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),b=new y("color","color",{scope:d.default.Scope.INLINE});n.ColorAttributor=y,n.ColorClass=v,n.ColorStyle=b},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function b(w,N){for(var j=0;j<N.length;j++){var E=N[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,N,j){return N&&b(w.prototype,N),j&&b(w,j),w}}(),a=function b(w,N,j){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,N);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:b(S,N,j)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(j)}},c=s(6),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){m(w,b);function w(){return h(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(j,E){if(j!==this.statics.blotName||!E)return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,j,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(j){var E=a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,j);return j=this.sanitize(j),E.setAttribute("href",j),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(j){return j.getAttribute("href")}},{key:"sanitize",value:function(j){return v(j,this.PROTOCOL_WHITELIST)?j:this.SANITIZED_URL}}]),w}(d.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(b,w){var N=document.createElement("a");N.href=b;var j=N.href.slice(0,N.href.indexOf(":"));return w.indexOf(j)>-1}n.default=y,n.sanitize=v},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},a=function(){function w(N,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,j,E){return j&&w(N.prototype,j),E&&w(N,E),N}}(),c=s(23),d=p(c),f=s(107),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function m(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}var y=0;function v(w,N){w.setAttribute(N,w.getAttribute(N)!=="true")}var b=function(){function w(N){var j=this;m(this,w),this.select=N,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){j.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case d.default.keys.ENTER:j.togglePicker();break;case d.default.keys.ESCAPE:j.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(j){var E=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),j.hasAttribute("value")&&S.setAttribute("data-value",j.getAttribute("value")),j.textContent&&S.setAttribute("data-label",j.textContent),S.addEventListener("click",function(){E.selectItem(S,!0)}),S.addEventListener("keydown",function(A){switch(A.keyCode){case d.default.keys.ENTER:E.selectItem(S,!0),A.preventDefault();break;case d.default.keys.ESCAPE:E.escape(),A.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var j=document.createElement("span");return j.classList.add("ql-picker-label"),j.innerHTML=h.default,j.tabIndex="0",j.setAttribute("role","button"),j.setAttribute("aria-expanded","false"),this.container.appendChild(j),j}},{key:"buildOptions",value:function(){var j=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(S){var A=j.buildItem(S);E.appendChild(A),S.selected===!0&&j.selectItem(A)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var j=this;[].slice.call(this.select.attributes).forEach(function(E){j.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var j=this;this.close(),setTimeout(function(){return j.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(j!==S&&(S!=null&&S.classList.remove("ql-selected"),j!=null&&(j.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(j.parentNode.children,j),j.hasAttribute("data-value")?this.label.setAttribute("data-value",j.getAttribute("data-value")):this.label.removeAttribute("data-value"),j.hasAttribute("data-label")?this.label.setAttribute("data-label",j.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var j=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];j=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var S=j!=null&&j!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),w}();n.default=b},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),a=Z(i),c=s(5),d=Z(c),f=s(4),h=Z(f),p=s(16),m=Z(p),y=s(25),v=Z(y),b=s(24),w=Z(b),N=s(35),j=Z(N),E=s(6),S=Z(E),A=s(22),T=Z(A),k=s(7),P=Z(k),D=s(55),O=Z(D),R=s(42),F=Z(R),$=s(23),z=Z($);function Z(se){return se&&se.__esModule?se:{default:se}}d.default.register({"blots/block":h.default,"blots/block/embed":f.BlockEmbed,"blots/break":m.default,"blots/container":v.default,"blots/cursor":w.default,"blots/embed":j.default,"blots/inline":S.default,"blots/scroll":T.default,"blots/text":P.default,"modules/clipboard":O.default,"modules/history":F.default,"modules/keyboard":z.default}),a.default.register(h.default,m.default,w.default,S.default,T.default,P.default),n.default=d.default},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),a=function(){function c(d){this.domNode=d,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?f=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?f=document.createElement(d):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return i.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},c.prototype.deleteAt=function(d,f){var h=this.isolate(d,f);h.remove()},c.prototype.formatAt=function(d,f,h,p){var m=this.isolate(d,f);if(i.query(h,i.Scope.BLOT)!=null&&p)m.wrap(h,p);else if(i.query(h,i.Scope.ATTRIBUTE)!=null){var y=i.create(this.statics.scope);m.wrap(y),y.format(h,p)}},c.prototype.insertAt=function(d,f,h){var p=h==null?i.create("text",f):i.create(f,h),m=this.split(d);this.parent.insertBefore(p,m)},c.prototype.insertInto=function(d,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var h=null;d.children.insertBefore(this,f),f!=null&&(h=f.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=h)&&d.domNode.insertBefore(this.domNode,h),this.parent=d,this.attach()},c.prototype.isolate=function(d,f){var h=this.split(d);return h.split(f),h},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return h.replace(this),h},c.prototype.split=function(d,f){return d===0?this:this.next},c.prototype.update=function(d,f){},c.prototype.wrap=function(d,f){var h=typeof d=="string"?i.create(d,f):d;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},c.blotName="abstract",c}();n.default=a},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(12),a=s(32),c=s(33),d=s(1),f=function(){function h(p){this.attributes={},this.domNode=p,this.build()}return h.prototype.attribute=function(p,m){m?p.add(this.domNode,m)&&(p.value(this.domNode)!=null?this.attributes[p.attrName]=p:delete this.attributes[p.attrName]):(p.remove(this.domNode),delete this.attributes[p.attrName])},h.prototype.build=function(){var p=this;this.attributes={};var m=i.default.keys(this.domNode),y=a.default.keys(this.domNode),v=c.default.keys(this.domNode);m.concat(y).concat(v).forEach(function(b){var w=d.query(b,d.Scope.ATTRIBUTE);w instanceof i.default&&(p.attributes[w.attrName]=w)})},h.prototype.copy=function(p){var m=this;Object.keys(this.attributes).forEach(function(y){var v=m.attributes[y].value(m.domNode);p.format(y,v)})},h.prototype.move=function(p){var m=this;this.copy(p),Object.keys(this.attributes).forEach(function(y){m.attributes[y].remove(m.domNode)}),this.attributes={}},h.prototype.values=function(){var p=this;return Object.keys(this.attributes).reduce(function(m,y){return m[y]=p.attributes[y].value(p.domNode),m},{})},h}();n.default=f},function(t,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(12);function c(f,h){var p=f.getAttribute("class")||"";return p.split(/\s+/).filter(function(m){return m.indexOf(h+"-")===0})}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(p){return(p.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},h.prototype.add=function(p,m){return this.canAdd(p,m)?(this.remove(p),p.classList.add(this.keyName+"-"+m),!0):!1},h.prototype.remove=function(p){var m=c(p,this.keyName);m.forEach(function(y){p.classList.remove(y)}),p.classList.length===0&&p.removeAttribute("class")},h.prototype.value=function(p){var m=c(p,this.keyName)[0]||"",y=m.slice(this.keyName.length+1);return this.canAdd(p,y)?y:""},h}(a.default);n.default=d},function(t,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(12);function c(f){var h=f.split("-"),p=h.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return h[0]+p}var d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(p){return(p.getAttribute("style")||"").split(";").map(function(m){var y=m.split(":");return y[0].trim()})},h.prototype.add=function(p,m){return this.canAdd(p,m)?(p.style[c(this.keyName)]=m,!0):!1},h.prototype.remove=function(p){p.style[c(this.keyName)]="",p.getAttribute("style")||p.removeAttribute("style")},h.prototype.value=function(p){var m=p.style[c(this.keyName)];return this.canAdd(p,m)?m:""},h}(a.default);n.default=d},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),f}}();function a(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(f,h){a(this,d),this.quill=f,this.options=h,this.modules={}}return i(d,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(p){h.modules[p]==null&&h.addModule(p)})}},{key:"addModule",value:function(h){var p=this.quill.constructor.import("modules/"+h);return this.modules[h]=new p(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function N(j,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,E,S){return E&&N(j.prototype,E),S&&N(j,S),j}}(),a=function N(j,E,S){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,E);if(A===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:N(T,E,S)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(S)}},c=s(0),d=p(c),f=s(7),h=p(f);function p(N){return N&&N.__esModule?N:{default:N}}function m(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function y(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function v(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var b="\uFEFF",w=function(N){v(j,N);function j(E){m(this,j);var S=y(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(A){S.contentNode.appendChild(A)}),S.leftGuard=document.createTextNode(b),S.rightGuard=document.createTextNode(b),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return i(j,[{key:"index",value:function(S,A){return S===this.leftGuard?0:S===this.rightGuard?1:a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"index",this).call(this,S,A)}},{key:"restore",value:function(S){var A=void 0,T=void 0,k=S.data.split(b).join("");if(S===this.leftGuard)if(this.prev instanceof h.default){var P=this.prev.length();this.prev.insertAt(P,k),A={startNode:this.prev.domNode,startOffset:P+k.length}}else T=document.createTextNode(k),this.parent.insertBefore(d.default.create(T),this),A={startNode:T,startOffset:k.length};else S===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,k),A={startNode:this.next.domNode,startOffset:k.length}):(T=document.createTextNode(k),this.parent.insertBefore(d.default.create(T),this.next),A={startNode:T,startOffset:k.length}));return S.data=b,A}},{key:"update",value:function(S,A){var T=this;S.forEach(function(k){if(k.type==="characterData"&&(k.target===T.leftGuard||k.target===T.rightGuard)){var P=T.restore(k.target);P&&(A.range=P)}})}}]),j}(d.default.Embed);n.default=w},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=s(0),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}var d={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new a.default.Attributor.Attribute("align","align",d),h=new a.default.Attributor.Class("align","ql-align",d),p=new a.default.Attributor.Style("align","text-align",d);n.AlignAttribute=f,n.AlignClass=h,n.AlignStyle=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=s(0),a=d(i),c=s(26);function d(p){return p&&p.__esModule?p:{default:p}}var f=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),h=new c.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=h},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=s(0),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}var d={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},f=new a.default.Attributor.Attribute("direction","dir",d),h=new a.default.Attributor.Class("direction","ql-direction",d),p=new a.default.Attributor.Style("direction","direction",d);n.DirectionAttribute=f,n.DirectionClass=h,n.DirectionStyle=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function N(j,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,E,S){return E&&N(j.prototype,E),S&&N(j,S),j}}(),a=function N(j,E,S){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,E);if(A===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:N(T,E,S)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(S)}},c=s(0),d=f(c);function f(N){return N&&N.__esModule?N:{default:N}}function h(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function p(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function m(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var y={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new d.default.Attributor.Class("font","ql-font",y),b=function(N){m(j,N);function j(){return h(this,j),p(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"value",value:function(S){return a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),j}(d.default.Attributor.Style),w=new b("font","font-family",y);n.FontStyle=w,n.FontClass=v},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=s(0),a=c(i);function c(h){return h&&h.__esModule?h:{default:h}}var d=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=d,n.SizeStyle=f},function(t,n,s){t.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function E(S,A){for(var T=0;T<A.length;T++){var k=A[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,A,T){return A&&E(S.prototype,A),T&&E(S,T),S}}(),a=s(0),c=m(a),d=s(5),f=m(d),h=s(9),p=m(h);function m(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function v(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function b(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=function(E){b(S,E);function S(A,T){y(this,S);var k=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,T));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(f.default.events.EDITOR_CHANGE,function(P,D,O,R){P!==f.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||R===f.default.sources.USER?k.record(D,O):k.transform(D))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return i(S,[{key:"change",value:function(T,k){if(this.stack[T].length!==0){var P=this.stack[T].pop();this.stack[k].push(P),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(P[T],f.default.sources.USER),this.ignoreChange=!1;var D=j(P[T]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,k){if(T.ops.length!==0){this.stack.redo=[];var P=this.quill.getContents().diff(k),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var O=this.stack.undo.pop();P=P.compose(O.undo),T=O.redo.compose(T)}else this.lastRecorded=D;this.stack.undo.push({redo:T,undo:P}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(k){k.undo=T.transform(k.undo,!0),k.redo=T.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=T.transform(k.undo,!0),k.redo=T.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(p.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function N(E){var S=E.ops[E.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(A){return c.default.query(A,c.default.Scope.BLOCK)!=null}):!1}function j(E){var S=E.reduce(function(T,k){return T+=k.delete||0,T},0),A=E.length()-S;return N(E)&&(A-=1),A}n.default=w,n.getLastChangeIndex=j},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function q(Y,le){for(var te=0;te<le.length;te++){var V=le[te];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(Y,V.key,V)}}return function(Y,le,te){return le&&q(Y.prototype,le),te&&q(Y,te),Y}}(),a=function q(Y,le,te){Y===null&&(Y=Function.prototype);var V=Object.getOwnPropertyDescriptor(Y,le);if(V===void 0){var ie=Object.getPrototypeOf(Y);return ie===null?void 0:q(ie,le,te)}else{if("value"in V)return V.value;var ue=V.get;return ue===void 0?void 0:ue.call(te)}},c=s(3),d=D(c),f=s(2),h=D(f),p=s(8),m=D(p),y=s(23),v=D(y),b=s(34),w=D(b),N=s(59),j=D(N),E=s(60),S=D(E),A=s(28),T=D(A),k=s(61),P=D(k);function D(q){return q&&q.__esModule?q:{default:q}}function O(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")}function R(q,Y){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:q}function F(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Y):q.__proto__=Y)}var $=[!1,"center","right","justify"],z=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Z=[!1,"serif","monospace"],se=["1","2","3",!1],Q=["small",!1,"large","huge"],oe=function(q){F(Y,q);function Y(le,te){O(this,Y);var V=R(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,le,te)),ie=function ue(me){if(!document.body.contains(le.root))return document.body.removeEventListener("click",ue);V.tooltip!=null&&!V.tooltip.root.contains(me.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ge){ge.container.contains(me.target)||ge.close()})};return le.emitter.listenDOM("click",document.body,ie),V}return i(Y,[{key:"addModule",value:function(te){var V=a(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"addModule",this).call(this,te);return te==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(te,V){te.forEach(function(ie){var ue=ie.getAttribute("class")||"";ue.split(/\s+/).forEach(function(me){if(me.startsWith("ql-")&&(me=me.slice(3),V[me]!=null))if(me==="direction")ie.innerHTML=V[me][""]+V[me].rtl;else if(typeof V[me]=="string")ie.innerHTML=V[me];else{var ge=ie.value||"";ge!=null&&V[me][ge]&&(ie.innerHTML=V[me][ge])}})})}},{key:"buildPickers",value:function(te,V){var ie=this;this.pickers=te.map(function(me){if(me.classList.contains("ql-align"))return me.querySelector("option")==null&&I(me,$),new S.default(me,V.align);if(me.classList.contains("ql-background")||me.classList.contains("ql-color")){var ge=me.classList.contains("ql-background")?"background":"color";return me.querySelector("option")==null&&I(me,z,ge==="background"?"#ffffff":"#000000"),new j.default(me,V[ge])}else return me.querySelector("option")==null&&(me.classList.contains("ql-font")?I(me,Z):me.classList.contains("ql-header")?I(me,se):me.classList.contains("ql-size")&&I(me,Q)),new T.default(me)});var ue=function(){ie.pickers.forEach(function(ge){ge.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,ue)}}]),Y}(w.default);oe.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Y=this,le=this.container.querySelector("input.ql-image[type=file]");le==null&&(le=document.createElement("input"),le.setAttribute("type","file"),le.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),le.classList.add("ql-image"),le.addEventListener("change",function(){if(le.files!=null&&le.files[0]!=null){var te=new FileReader;te.onload=function(V){var ie=Y.quill.getSelection(!0);Y.quill.updateContents(new h.default().retain(ie.index).delete(ie.length).insert({image:V.target.result}),m.default.sources.USER),Y.quill.setSelection(ie.index+1,m.default.sources.SILENT),le.value=""},te.readAsDataURL(le.files[0])}}),this.container.appendChild(le)),le.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ne=function(q){F(Y,q);function Y(le,te){O(this,Y);var V=R(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,le,te));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return i(Y,[{key:"listen",value:function(){var te=this;this.textbox.addEventListener("keydown",function(V){v.default.match(V,"enter")?(te.save(),V.preventDefault()):v.default.match(V,"escape")&&(te.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:te!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+te)||""),this.root.setAttribute("data-mode",te)}},{key:"restoreFocus",value:function(){var te=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=te}},{key:"save",value:function(){var te=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",te,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",te,m.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":te=X(te);case"formula":{if(!te)break;var ie=this.quill.getSelection(!0);if(ie!=null){var ue=ie.index+ie.length;this.quill.insertEmbed(ue,this.root.getAttribute("data-mode"),te,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ue+1," ",m.default.sources.USER),this.quill.setSelection(ue+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Y}(P.default);function X(q){var Y=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Y?(Y[1]||"https")+"://www.youtube.com/embed/"+Y[2]+"?showinfo=0":(Y=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Y[1]||"https")+"://player.vimeo.com/video/"+Y[2]+"/":q}function I(q,Y){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Y.forEach(function(te){var V=document.createElement("option");te===le?V.setAttribute("selected","selected"):V.setAttribute("value",te),q.appendChild(V)})}n.BaseTooltip=ne,n.default=oe},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},a.prototype.contains=function(c){for(var d,f=this.iterator();d=f();)if(d===c)return!0;return!1},a.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},a.prototype.offset=function(c){for(var d=0,f=this.head;f!=null;){if(f===c)return d;d+=f.length(),f=f.next}return-1},a.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},a.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},a.prototype.find=function(c,d){d===void 0&&(d=!1);for(var f,h=this.iterator();f=h();){var p=f.length();if(c<p||d&&c===p&&(f.next==null||f.next.length()!==0))return[f,c];c-=p}return[null,0]},a.prototype.forEach=function(c){for(var d,f=this.iterator();d=f();)c(d)},a.prototype.forEachAt=function(c,d,f){if(!(d<=0))for(var h=this.find(c),p=h[0],m=h[1],y,v=c-m,b=this.iterator(p);(y=b())&&v<c+d;){var w=y.length();c>v?f(y,c-v,Math.min(d,v+w-c)):f(y,0,Math.min(w,c+d-v)),v+=w}},a.prototype.map=function(c){return this.reduce(function(d,f){return d.push(c(f)),d},[])},a.prototype.reduce=function(c,d){for(var f,h=this.iterator();f=h();)d=c(d,f);return d},a}();n.default=i},function(t,n,s){var i=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])};return function(m,y){p(m,y);function v(){this.constructor=m}m.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(17),c=s(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,h=function(p){i(m,p);function m(y){var v=p.call(this,y)||this;return v.scroll=v,v.observer=new MutationObserver(function(b){v.update(b)}),v.observer.observe(v.domNode,d),v.attach(),v}return m.prototype.detach=function(){p.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(y,v){this.update(),y===0&&v===this.length()?this.children.forEach(function(b){b.remove()}):p.prototype.deleteAt.call(this,y,v)},m.prototype.formatAt=function(y,v,b,w){this.update(),p.prototype.formatAt.call(this,y,v,b,w)},m.prototype.insertAt=function(y,v,b){this.update(),p.prototype.insertAt.call(this,y,v,b)},m.prototype.optimize=function(y,v){var b=this;y===void 0&&(y=[]),v===void 0&&(v={}),p.prototype.optimize.call(this,v);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)y.push(w.pop());for(var N=function(A,T){T===void 0&&(T=!0),!(A==null||A===b)&&A.domNode.parentNode!=null&&(A.domNode[c.DATA_KEY].mutations==null&&(A.domNode[c.DATA_KEY].mutations=[]),T&&N(A.parent))},j=function(A){A.domNode[c.DATA_KEY]==null||A.domNode[c.DATA_KEY].mutations==null||(A instanceof a.default&&A.children.forEach(j),A.optimize(v))},E=y,S=0;E.length>0;S+=1){if(S>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(A){var T=c.find(A.target,!0);T!=null&&(T.domNode===A.target&&(A.type==="childList"?(N(c.find(A.previousSibling,!1)),[].forEach.call(A.addedNodes,function(k){var P=c.find(k,!1);N(P,!1),P instanceof a.default&&P.children.forEach(function(D){N(D,!1)})})):A.type==="attributes"&&N(T.prev)),N(T))}),this.children.forEach(j),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)y.push(w.pop())}},m.prototype.update=function(y,v){var b=this;v===void 0&&(v={}),y=y||this.observer.takeRecords(),y.map(function(w){var N=c.find(w.target,!0);return N==null?null:N.domNode[c.DATA_KEY].mutations==null?(N.domNode[c.DATA_KEY].mutations=[w],N):(N.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===b||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],v)}),this.domNode[c.DATA_KEY].mutations!=null&&p.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,v),this.optimize(y,v)},m.blotName="scroll",m.defaultChild="block",m.scope=c.Scope.BLOCK_BLOT,m.tagName="DIV",m}(a.default);n.default=h},function(t,n,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var y in m)m.hasOwnProperty(y)&&(p[y]=m[y])};return function(p,m){h(p,m);function y(){this.constructor=p}p.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(18),c=s(1);function d(h,p){if(Object.keys(h).length!==Object.keys(p).length)return!1;for(var m in h)if(h[m]!==p[m])return!1;return!0}var f=function(h){i(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.formats=function(m){if(m.tagName!==p.tagName)return h.formats.call(this,m)},p.prototype.format=function(m,y){var v=this;m===this.statics.blotName&&!y?(this.children.forEach(function(b){b instanceof a.default||(b=b.wrap(p.blotName,!0)),v.attributes.copy(b)}),this.unwrap()):h.prototype.format.call(this,m,y)},p.prototype.formatAt=function(m,y,v,b){if(this.formats()[v]!=null||c.query(v,c.Scope.ATTRIBUTE)){var w=this.isolate(m,y);w.format(v,b)}else h.prototype.formatAt.call(this,m,y,v,b)},p.prototype.optimize=function(m){h.prototype.optimize.call(this,m);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var v=this.next;v instanceof p&&v.prev===this&&d(y,v.formats())&&(v.moveChildren(this),v.remove())},p.blotName="inline",p.scope=c.Scope.INLINE_BLOT,p.tagName="SPAN",p}(a.default);n.default=f},function(t,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(18),c=s(1),d=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(p){var m=c.query(h.blotName).tagName;if(p.tagName!==m)return f.formats.call(this,p)},h.prototype.format=function(p,m){c.query(p,c.Scope.BLOCK)!=null&&(p===this.statics.blotName&&!m?this.replaceWith(h.blotName):f.prototype.format.call(this,p,m))},h.prototype.formatAt=function(p,m,y,v){c.query(y,c.Scope.BLOCK)!=null?this.format(y,v):f.prototype.formatAt.call(this,p,m,y,v)},h.prototype.insertAt=function(p,m,y){if(y==null||c.query(m,c.Scope.INLINE)!=null)f.prototype.insertAt.call(this,p,m,y);else{var v=this.split(p),b=c.create(m,y);v.parent.insertBefore(b,v)}},h.prototype.update=function(p,m){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,p,m)},h.blotName="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="P",h}(a.default);n.default=d},function(t,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(19),c=function(d){i(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){},f.prototype.format=function(h,p){d.prototype.formatAt.call(this,0,this.length(),h,p)},f.prototype.formatAt=function(h,p,m,y){h===0&&p===this.length()?this.format(m,y):d.prototype.formatAt.call(this,h,p,m,y)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(a.default);n.default=c},function(t,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=s(19),c=s(1),d=function(f){i(h,f);function h(p){var m=f.call(this,p)||this;return m.text=m.statics.value(m.domNode),m}return h.create=function(p){return document.createTextNode(p)},h.value=function(p){var m=p.data;return m.normalize&&(m=m.normalize()),m},h.prototype.deleteAt=function(p,m){this.domNode.data=this.text=this.text.slice(0,p)+this.text.slice(p+m)},h.prototype.index=function(p,m){return this.domNode===p?m:-1},h.prototype.insertAt=function(p,m,y){y==null?(this.text=this.text.slice(0,p)+m+this.text.slice(p),this.domNode.data=this.text):f.prototype.insertAt.call(this,p,m,y)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(p){f.prototype.optimize.call(this,p),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(p,m){return[this.domNode,p]},h.prototype.split=function(p,m){if(m===void 0&&(m=!1),!m){if(p===0)return this;if(p===this.length())return this.next}var y=c.create(this.domNode.splitText(p));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},h.prototype.update=function(p,m){var y=this;p.some(function(v){return v.type==="characterData"&&v.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=c.Scope.INLINE_BLOT,h}(a.default);n.default=d},function(t,n,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:a.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var f=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>f.length)&&(d=f.length),d-=c.length;var h=f.indexOf(c,d);return h!==-1&&h===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),h=f.length>>>0,p=arguments[1],m,y=0;y<h;y++)if(m=f[y],d.call(p,m,y,f))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var s=-1,i=1,a=0;function c(S,A,T){if(S==A)return S?[[a,S]]:[];(T<0||S.length<T)&&(T=null);var k=p(S,A),P=S.substring(0,k);S=S.substring(k),A=A.substring(k),k=m(S,A);var D=S.substring(S.length-k);S=S.substring(0,S.length-k),A=A.substring(0,A.length-k);var O=d(S,A);return P&&O.unshift([a,P]),D&&O.push([a,D]),v(O),T!=null&&(O=N(O,T)),O=j(O),O}function d(S,A){var T;if(!S)return[[i,A]];if(!A)return[[s,S]];var k=S.length>A.length?S:A,P=S.length>A.length?A:S,D=k.indexOf(P);if(D!=-1)return T=[[i,k.substring(0,D)],[a,P],[i,k.substring(D+P.length)]],S.length>A.length&&(T[0][0]=T[2][0]=s),T;if(P.length==1)return[[s,S],[i,A]];var O=y(S,A);if(O){var R=O[0],F=O[1],$=O[2],z=O[3],Z=O[4],se=c(R,$),Q=c(F,z);return se.concat([[a,Z]],Q)}return f(S,A)}function f(S,A){for(var T=S.length,k=A.length,P=Math.ceil((T+k)/2),D=P,O=2*P,R=new Array(O),F=new Array(O),$=0;$<O;$++)R[$]=-1,F[$]=-1;R[D+1]=0,F[D+1]=0;for(var z=T-k,Z=z%2!=0,se=0,Q=0,oe=0,ne=0,X=0;X<P;X++){for(var I=-X+se;I<=X-Q;I+=2){var q=D+I,Y;I==-X||I!=X&&R[q-1]<R[q+1]?Y=R[q+1]:Y=R[q-1]+1;for(var le=Y-I;Y<T&&le<k&&S.charAt(Y)==A.charAt(le);)Y++,le++;if(R[q]=Y,Y>T)Q+=2;else if(le>k)se+=2;else if(Z){var te=D+z-I;if(te>=0&&te<O&&F[te]!=-1){var V=T-F[te];if(Y>=V)return h(S,A,Y,le)}}}for(var ie=-X+oe;ie<=X-ne;ie+=2){var te=D+ie,V;ie==-X||ie!=X&&F[te-1]<F[te+1]?V=F[te+1]:V=F[te-1]+1;for(var ue=V-ie;V<T&&ue<k&&S.charAt(T-V-1)==A.charAt(k-ue-1);)V++,ue++;if(F[te]=V,V>T)ne+=2;else if(ue>k)oe+=2;else if(!Z){var q=D+z-ie;if(q>=0&&q<O&&R[q]!=-1){var Y=R[q],le=D+Y-q;if(V=T-V,Y>=V)return h(S,A,Y,le)}}}}return[[s,S],[i,A]]}function h(S,A,T,k){var P=S.substring(0,T),D=A.substring(0,k),O=S.substring(T),R=A.substring(k),F=c(P,D),$=c(O,R);return F.concat($)}function p(S,A){if(!S||!A||S.charAt(0)!=A.charAt(0))return 0;for(var T=0,k=Math.min(S.length,A.length),P=k,D=0;T<P;)S.substring(D,P)==A.substring(D,P)?(T=P,D=T):k=P,P=Math.floor((k-T)/2+T);return P}function m(S,A){if(!S||!A||S.charAt(S.length-1)!=A.charAt(A.length-1))return 0;for(var T=0,k=Math.min(S.length,A.length),P=k,D=0;T<P;)S.substring(S.length-P,S.length-D)==A.substring(A.length-P,A.length-D)?(T=P,D=T):k=P,P=Math.floor((k-T)/2+T);return P}function y(S,A){var T=S.length>A.length?S:A,k=S.length>A.length?A:S;if(T.length<4||k.length*2<T.length)return null;function P(Q,oe,ne){for(var X=Q.substring(ne,ne+Math.floor(Q.length/4)),I=-1,q="",Y,le,te,V;(I=oe.indexOf(X,I+1))!=-1;){var ie=p(Q.substring(ne),oe.substring(I)),ue=m(Q.substring(0,ne),oe.substring(0,I));q.length<ue+ie&&(q=oe.substring(I-ue,I)+oe.substring(I,I+ie),Y=Q.substring(0,ne-ue),le=Q.substring(ne+ie),te=oe.substring(0,I-ue),V=oe.substring(I+ie))}return q.length*2>=Q.length?[Y,le,te,V,q]:null}var D=P(T,k,Math.ceil(T.length/4)),O=P(T,k,Math.ceil(T.length/2)),R;if(!D&&!O)return null;O?D?R=D[4].length>O[4].length?D:O:R=O:R=D;var F,$,z,Z;S.length>A.length?(F=R[0],$=R[1],z=R[2],Z=R[3]):(z=R[0],Z=R[1],F=R[2],$=R[3]);var se=R[4];return[F,$,z,Z,se]}function v(S){S.push([a,""]);for(var A=0,T=0,k=0,P="",D="",O;A<S.length;)switch(S[A][0]){case i:k++,D+=S[A][1],A++;break;case s:T++,P+=S[A][1],A++;break;case a:T+k>1?(T!==0&&k!==0&&(O=p(D,P),O!==0&&(A-T-k>0&&S[A-T-k-1][0]==a?S[A-T-k-1][1]+=D.substring(0,O):(S.splice(0,0,[a,D.substring(0,O)]),A++),D=D.substring(O),P=P.substring(O)),O=m(D,P),O!==0&&(S[A][1]=D.substring(D.length-O)+S[A][1],D=D.substring(0,D.length-O),P=P.substring(0,P.length-O))),T===0?S.splice(A-k,T+k,[i,D]):k===0?S.splice(A-T,T+k,[s,P]):S.splice(A-T-k,T+k,[s,P],[i,D]),A=A-T-k+(T?1:0)+(k?1:0)+1):A!==0&&S[A-1][0]==a?(S[A-1][1]+=S[A][1],S.splice(A,1)):A++,k=0,T=0,P="",D="";break}S[S.length-1][1]===""&&S.pop();var R=!1;for(A=1;A<S.length-1;)S[A-1][0]==a&&S[A+1][0]==a&&(S[A][1].substring(S[A][1].length-S[A-1][1].length)==S[A-1][1]?(S[A][1]=S[A-1][1]+S[A][1].substring(0,S[A][1].length-S[A-1][1].length),S[A+1][1]=S[A-1][1]+S[A+1][1],S.splice(A-1,1),R=!0):S[A][1].substring(0,S[A+1][1].length)==S[A+1][1]&&(S[A-1][1]+=S[A+1][1],S[A][1]=S[A][1].substring(S[A+1][1].length)+S[A+1][1],S.splice(A+1,1),R=!0)),A++;R&&v(S)}var b=c;b.INSERT=i,b.DELETE=s,b.EQUAL=a,t.exports=b;function w(S,A){if(A===0)return[a,S];for(var T=0,k=0;k<S.length;k++){var P=S[k];if(P[0]===s||P[0]===a){var D=T+P[1].length;if(A===D)return[k+1,S];if(A<D){S=S.slice();var O=A-T,R=[P[0],P[1].slice(0,O)],F=[P[0],P[1].slice(O)];return S.splice(k,1,R,F),[k+1,S]}else T=D}}throw new Error("cursor_pos is out of bounds!")}function N(S,A){var T=w(S,A),k=T[1],P=T[0],D=k[P],O=k[P+1];if(D==null)return S;if(D[0]!==a)return S;if(O!=null&&D[1]+O[1]===O[1]+D[1])return k.splice(P,2,O,D),E(k,P,2);if(O!=null&&O[1].indexOf(D[1])===0){k.splice(P,2,[O[0],D[1]],[0,D[1]]);var R=O[1].slice(D[1].length);return R.length>0&&k.splice(P+2,0,[O[0],R]),E(k,P,3)}else return S}function j(S){for(var A=!1,T=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},k=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},P=2;P<S.length;P+=1)S[P-2][0]===a&&k(S[P-2][1])&&S[P-1][0]===s&&T(S[P-1][1])&&S[P][0]===i&&T(S[P][1])&&(A=!0,S[P-1][1]=S[P-2][1].slice(-1)+S[P-1][1],S[P][1]=S[P-2][1].slice(-1)+S[P][1],S[P-2][1]=S[P-2][1].slice(0,-1));if(!A)return S;for(var D=[],P=0;P<S.length;P+=1)S[P][1].length>0&&D.push(S[P]);return D}function E(S,A,T){for(var k=A+T-1;k>=0&&k>=A-1;k--)if(k+1<S.length){var P=S[k],D=S[k+1];P[0]===D[1]&&S.splice(k,2,[P[0],P[1]+D[1]])}return S}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:s,n.shim=s;function s(i){var a=[];for(var c in i)a.push(c);return a}},function(t,n){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=s?i:a,n.supported=i;function i(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=a;function a(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(t,n){var s=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function c(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)s.call(p,m)&&h.push(i?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h,p){var m=i?i+h:h,y=this._events[m];if(p)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var v=0,b=y.length,w=new Array(b);v<b;v++)w[v]=y[v].fn;return w},d.prototype.emit=function(h,p,m,y,v,b){var w=i?i+h:h;if(!this._events[w])return!1;var N=this._events[w],j=arguments.length,E,S;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),j){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,m),!0;case 4:return N.fn.call(N.context,p,m,y),!0;case 5:return N.fn.call(N.context,p,m,y,v),!0;case 6:return N.fn.call(N.context,p,m,y,v,b),!0}for(S=1,E=new Array(j-1);S<j;S++)E[S-1]=arguments[S];N.fn.apply(N.context,E)}else{var A=N.length,T;for(S=0;S<A;S++)switch(N[S].once&&this.removeListener(h,N[S].fn,void 0,!0),j){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,p);break;case 3:N[S].fn.call(N[S].context,p,m);break;case 4:N[S].fn.call(N[S].context,p,m,y);break;default:if(!E)for(T=1,E=new Array(j-1);T<j;T++)E[T-1]=arguments[T];N[S].fn.apply(N[S].context,E)}}return!0},d.prototype.on=function(h,p,m){var y=new c(p,m||this),v=i?i+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],y]:this._events[v].push(y):(this._events[v]=y,this._eventsCount++),this},d.prototype.once=function(h,p,m){var y=new c(p,m||this,!0),v=i?i+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],y]:this._events[v].push(y):(this._events[v]=y,this._eventsCount++),this},d.prototype.removeListener=function(h,p,m,y){var v=i?i+h:h;if(!this._events[v])return this;if(!p)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var b=this._events[v];if(b.fn)b.fn===p&&(!y||b.once)&&(!m||b.context===m)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var w=0,N=[],j=b.length;w<j;w++)(b[w].fn!==p||y&&!b[w].once||m&&b[w].context!==m)&&N.push(b[w]);N.length?this._events[v]=N.length===1?N[0]:N:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=i?i+h:h,this._events[p]&&(--this._eventsCount===0?this._events=new a:delete this._events[p])):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=i,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},a=function(){function we(Se,K){var ee=[],re=!0,B=!1,J=void 0;try{for(var ae=Se[Symbol.iterator](),xe;!(re=(xe=ae.next()).done)&&(ee.push(xe.value),!(K&&ee.length===K));re=!0);}catch(Re){B=!0,J=Re}finally{try{!re&&ae.return&&ae.return()}finally{if(B)throw J}}return ee}return function(Se,K){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return we(Se,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function we(Se,K){for(var ee=0;ee<K.length;ee++){var re=K[ee];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Se,re.key,re)}}return function(Se,K,ee){return K&&we(Se.prototype,K),ee&&we(Se,ee),Se}}(),d=s(3),f=F(d),h=s(2),p=F(h),m=s(0),y=F(m),v=s(5),b=F(v),w=s(10),N=F(w),j=s(9),E=F(j),S=s(36),A=s(37),T=s(13),k=F(T),P=s(26),D=s(38),O=s(39),R=s(40);function F(we){return we&&we.__esModule?we:{default:we}}function $(we,Se,K){return Se in we?Object.defineProperty(we,Se,{value:K,enumerable:!0,configurable:!0,writable:!0}):we[Se]=K,we}function z(we,Se){if(!(we instanceof Se))throw new TypeError("Cannot call a class as a function")}function Z(we,Se){if(!we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se&&(typeof Se=="object"||typeof Se=="function")?Se:we}function se(we,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Se);we.prototype=Object.create(Se&&Se.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),Se&&(Object.setPrototypeOf?Object.setPrototypeOf(we,Se):we.__proto__=Se)}var Q=(0,N.default)("quill:clipboard"),oe="__ql-matcher",ne=[[Node.TEXT_NODE,Be],[Node.TEXT_NODE,de],["br",Ae],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,_e],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,Oe],["li",ve],["b",ue.bind(ue,"bold")],["i",ue.bind(ue,"italic")],["style",Pe]],X=[S.AlignAttribute,D.DirectionAttribute].reduce(function(we,Se){return we[Se.keyName]=Se,we},{}),I=[S.AlignStyle,A.BackgroundStyle,P.ColorStyle,D.DirectionStyle,O.FontStyle,R.SizeStyle].reduce(function(we,Se){return we[Se.keyName]=Se,we},{}),q=function(we){se(Se,we);function Se(K,ee){z(this,Se);var re=Z(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,K,ee));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],ne.concat(re.options.matchers).forEach(function(B){var J=a(B,2),ae=J[0],xe=J[1];!ee.matchVisual&&xe===_e||re.addMatcher(ae,xe)}),re}return c(Se,[{key:"addMatcher",value:function(ee,re){this.matchers.push([ee,re])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[k.default.blotName]){var B=this.container.innerText;return this.container.innerHTML="",new p.default().insert(B,$({},k.default.blotName,re[k.default.blotName]))}var J=this.prepareMatching(),ae=a(J,2),xe=ae[0],Re=ae[1],De=ie(this.container,xe,Re);return te(De,`
`)&&De.ops[De.ops.length-1].attributes==null&&(De=De.compose(new p.default().retain(De.length()-1).delete(1))),Q.log("convert",this.container.innerHTML,De),this.container.innerHTML="",De}},{key:"dangerouslyPasteHTML",value:function(ee,re){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),re),this.quill.setSelection(0,b.default.sources.SILENT);else{var J=this.convert(re);this.quill.updateContents(new p.default().retain(ee).concat(J),B),this.quill.setSelection(ee+J.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var re=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var B=this.quill.getSelection(),J=new p.default().retain(B.index),ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){J=J.concat(re.convert()).delete(B.length),re.quill.updateContents(J,b.default.sources.USER),re.quill.setSelection(J.length()-B.length,b.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=ae,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,re=[],B=[];return this.matchers.forEach(function(J){var ae=a(J,2),xe=ae[0],Re=ae[1];switch(xe){case Node.TEXT_NODE:B.push(Re);break;case Node.ELEMENT_NODE:re.push(Re);break;default:[].forEach.call(ee.container.querySelectorAll(xe),function(De){De[oe]=De[oe]||[],De[oe].push(Re)});break}}),[re,B]}}]),Se}(E.default);q.DEFAULTS={matchers:[],matchVisual:!0};function Y(we,Se,K){return(typeof Se>"u"?"undefined":i(Se))==="object"?Object.keys(Se).reduce(function(ee,re){return Y(ee,re,Se[re])},we):we.reduce(function(ee,re){return re.attributes&&re.attributes[Se]?ee.push(re):ee.insert(re.insert,(0,f.default)({},$({},Se,K),re.attributes))},new p.default)}function le(we){if(we.nodeType!==Node.ELEMENT_NODE)return{};var Se="__ql-computed-style";return we[Se]||(we[Se]=window.getComputedStyle(we))}function te(we,Se){for(var K="",ee=we.ops.length-1;ee>=0&&K.length<Se.length;--ee){var re=we.ops[ee];if(typeof re.insert!="string")break;K=re.insert+K}return K.slice(-1*Se.length)===Se}function V(we){if(we.childNodes.length===0)return!1;var Se=le(we);return["block","list-item"].indexOf(Se.display)>-1}function ie(we,Se,K){return we.nodeType===we.TEXT_NODE?K.reduce(function(ee,re){return re(we,ee)},new p.default):we.nodeType===we.ELEMENT_NODE?[].reduce.call(we.childNodes||[],function(ee,re){var B=ie(re,Se,K);return re.nodeType===we.ELEMENT_NODE&&(B=Se.reduce(function(J,ae){return ae(re,J)},B),B=(re[oe]||[]).reduce(function(J,ae){return ae(re,J)},B)),ee.concat(B)},new p.default):new p.default}function ue(we,Se,K){return Y(K,we,!0)}function me(we,Se){var K=y.default.Attributor.Attribute.keys(we),ee=y.default.Attributor.Class.keys(we),re=y.default.Attributor.Style.keys(we),B={};return K.concat(ee).concat(re).forEach(function(J){var ae=y.default.query(J,y.default.Scope.ATTRIBUTE);ae!=null&&(B[ae.attrName]=ae.value(we),B[ae.attrName])||(ae=X[J],ae!=null&&(ae.attrName===J||ae.keyName===J)&&(B[ae.attrName]=ae.value(we)||void 0),ae=I[J],ae!=null&&(ae.attrName===J||ae.keyName===J)&&(ae=I[J],B[ae.attrName]=ae.value(we)||void 0))}),Object.keys(B).length>0&&(Se=Y(Se,B)),Se}function ge(we,Se){var K=y.default.query(we);if(K==null)return Se;if(K.prototype instanceof y.default.Embed){var ee={},re=K.value(we);re!=null&&(ee[K.blotName]=re,Se=new p.default().insert(ee,K.formats(we)))}else typeof K.formats=="function"&&(Se=Y(Se,K.blotName,K.formats(we)));return Se}function Ae(we,Se){return te(Se,`
`)||Se.insert(`
`),Se}function Pe(){return new p.default}function ve(we,Se){var K=y.default.query(we);if(K==null||K.blotName!=="list-item"||!te(Se,`
`))return Se;for(var ee=-1,re=we.parentNode;!re.classList.contains("ql-clipboard");)(y.default.query(re)||{}).blotName==="list"&&(ee+=1),re=re.parentNode;return ee<=0?Se:Se.compose(new p.default().retain(Se.length()-1).retain(1,{indent:ee}))}function de(we,Se){return te(Se,`
`)||(V(we)||Se.length()>0&&we.nextSibling&&V(we.nextSibling))&&Se.insert(`
`),Se}function _e(we,Se){if(V(we)&&we.nextElementSibling!=null&&!te(Se,`

`)){var K=we.offsetHeight+parseFloat(le(we).marginTop)+parseFloat(le(we).marginBottom);we.nextElementSibling.offsetTop>we.offsetTop+K*1.5&&Se.insert(`
`)}return Se}function Oe(we,Se){var K={},ee=we.style||{};return ee.fontStyle&&le(we).fontStyle==="italic"&&(K.italic=!0),ee.fontWeight&&(le(we).fontWeight.startsWith("bold")||parseInt(le(we).fontWeight)>=700)&&(K.bold=!0),Object.keys(K).length>0&&(Se=Y(Se,K)),parseFloat(ee.textIndent||0)>0&&(Se=new p.default().insert("	").concat(Se)),Se}function Be(we,Se){var K=we.data;if(we.parentNode.tagName==="O:P")return Se.insert(K.trim());if(K.trim().length===0&&we.parentNode.classList.contains("ql-clipboard"))return Se;if(!le(we.parentNode).whiteSpace.startsWith("pre")){var ee=function(B,J){return J=J.replace(/[^\u00a0]/g,""),J.length<1&&B?" ":J};K=K.replace(/\r\n/g," ").replace(/\n/g," "),K=K.replace(/\s\s+/g,ee.bind(ee,!0)),(we.previousSibling==null&&V(we.parentNode)||we.previousSibling!=null&&V(we.previousSibling))&&(K=K.replace(/^\s+/,ee.bind(ee,!1))),(we.nextSibling==null&&V(we.parentNode)||we.nextSibling!=null&&V(we.nextSibling))&&(K=K.replace(/\s+$/,ee.bind(ee,!1)))}return Se.insert(K)}n.default=q,n.matchAttributor=me,n.matchBlot=ge,n.matchNewline=de,n.matchSpacing=_e,n.matchText=Be},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(b,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,N){return w&&v(b.prototype,w),N&&v(b,N),b}}(),a=function v(b,w,N){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:v(E,w,N)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(N)}},c=s(6),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"optimize",value:function(N){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,N),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(d.default);y.blotName="bold",y.tagName=["STRONG","B"],n.default=y},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function R(F,$){var z=[],Z=!0,se=!1,Q=void 0;try{for(var oe=F[Symbol.iterator](),ne;!(Z=(ne=oe.next()).done)&&(z.push(ne.value),!($&&z.length===$));Z=!0);}catch(X){se=!0,Q=X}finally{try{!Z&&oe.return&&oe.return()}finally{if(se)throw Q}}return z}return function(F,$){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return R(F,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function R(F,$){for(var z=0;z<$.length;z++){var Z=$[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(F,Z.key,Z)}}return function(F,$,z){return $&&R(F.prototype,$),z&&R(F,z),F}}(),c=s(2),d=N(c),f=s(0),h=N(f),p=s(5),m=N(p),y=s(10),v=N(y),b=s(9),w=N(b);function N(R){return R&&R.__esModule?R:{default:R}}function j(R,F,$){return F in R?Object.defineProperty(R,F,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[F]=$,R}function E(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function S(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function A(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var T=(0,v.default)("quill:toolbar"),k=function(R){A(F,R);function F($,z){E(this,F);var Z=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,$,z));if(Array.isArray(Z.options.container)){var se=document.createElement("div");D(se,Z.options.container),$.container.parentNode.insertBefore(se,$.container),Z.container=se}else typeof Z.options.container=="string"?Z.container=document.querySelector(Z.options.container):Z.container=Z.options.container;if(!(Z.container instanceof HTMLElement)){var Q;return Q=T.error("Container required for toolbar",Z.options),S(Z,Q)}return Z.container.classList.add("ql-toolbar"),Z.controls=[],Z.handlers={},Object.keys(Z.options.handlers).forEach(function(oe){Z.addHandler(oe,Z.options.handlers[oe])}),[].forEach.call(Z.container.querySelectorAll("button, select"),function(oe){Z.attach(oe)}),Z.quill.on(m.default.events.EDITOR_CHANGE,function(oe,ne){oe===m.default.events.SELECTION_CHANGE&&Z.update(ne)}),Z.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var oe=Z.quill.selection.getRange(),ne=i(oe,1),X=ne[0];Z.update(X)}),Z}return a(F,[{key:"addHandler",value:function(z,Z){this.handlers[z]=Z}},{key:"attach",value:function(z){var Z=this,se=[].find.call(z.classList,function(oe){return oe.indexOf("ql-")===0});if(se){if(se=se.slice(3),z.tagName==="BUTTON"&&z.setAttribute("type","button"),this.handlers[se]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[se]==null){T.warn("ignoring attaching to disabled format",se,z);return}if(h.default.query(se)==null){T.warn("ignoring attaching to nonexistent format",se,z);return}}var Q=z.tagName==="SELECT"?"change":"click";z.addEventListener(Q,function(oe){var ne=void 0;if(z.tagName==="SELECT"){if(z.selectedIndex<0)return;var X=z.options[z.selectedIndex];X.hasAttribute("selected")?ne=!1:ne=X.value||!1}else z.classList.contains("ql-active")?ne=!1:ne=z.value||!z.hasAttribute("value"),oe.preventDefault();Z.quill.focus();var I=Z.quill.selection.getRange(),q=i(I,1),Y=q[0];if(Z.handlers[se]!=null)Z.handlers[se].call(Z,ne);else if(h.default.query(se).prototype instanceof h.default.Embed){if(ne=prompt("Enter "+se),!ne)return;Z.quill.updateContents(new d.default().retain(Y.index).delete(Y.length).insert(j({},se,ne)),m.default.sources.USER)}else Z.quill.format(se,ne,m.default.sources.USER);Z.update(Y)}),this.controls.push([se,z])}}},{key:"update",value:function(z){var Z=z==null?{}:this.quill.getFormat(z);this.controls.forEach(function(se){var Q=i(se,2),oe=Q[0],ne=Q[1];if(ne.tagName==="SELECT"){var X=void 0;if(z==null)X=null;else if(Z[oe]==null)X=ne.querySelector("option[selected]");else if(!Array.isArray(Z[oe])){var I=Z[oe];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),X=ne.querySelector('option[value="'+I+'"]')}X==null?(ne.value="",ne.selectedIndex=-1):X.selected=!0}else if(z==null)ne.classList.remove("ql-active");else if(ne.hasAttribute("value")){var q=Z[oe]===ne.getAttribute("value")||Z[oe]!=null&&Z[oe].toString()===ne.getAttribute("value")||Z[oe]==null&&!ne.getAttribute("value");ne.classList.toggle("ql-active",q)}else ne.classList.toggle("ql-active",Z[oe]!=null)})}}]),F}(w.default);k.DEFAULTS={};function P(R,F,$){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+F),$!=null&&(z.value=$),R.appendChild(z)}function D(R,F){Array.isArray(F[0])||(F=[F]),F.forEach(function($){var z=document.createElement("span");z.classList.add("ql-formats"),$.forEach(function(Z){if(typeof Z=="string")P(z,Z);else{var se=Object.keys(Z)[0],Q=Z[se];Array.isArray(Q)?O(z,se,Q):P(z,se,Q)}}),R.appendChild(z)})}function O(R,F,$){var z=document.createElement("select");z.classList.add("ql-"+F),$.forEach(function(Z){var se=document.createElement("option");Z!==!1?se.setAttribute("value",Z):se.setAttribute("selected","selected"),z.appendChild(se)}),R.appendChild(z)}k.DEFAULTS={container:null,handlers:{clean:function(){var F=this,$=this.quill.getSelection();if($!=null)if($.length==0){var z=this.quill.getFormat();Object.keys(z).forEach(function(Z){h.default.query(Z,h.default.Scope.INLINE)!=null&&F.quill.format(Z,!1)})}else this.quill.removeFormat($,m.default.sources.USER)},direction:function(F){var $=this.quill.getFormat().align;F==="rtl"&&$==null?this.quill.format("align","right",m.default.sources.USER):!F&&$==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",F,m.default.sources.USER)},indent:function(F){var $=this.quill.getSelection(),z=this.quill.getFormat($),Z=parseInt(z.indent||0);if(F==="+1"||F==="-1"){var se=F==="+1"?1:-1;z.direction==="rtl"&&(se*=-1),this.quill.format("indent",Z+se,m.default.sources.USER)}},link:function(F){F===!0&&(F=prompt("Enter link URL:")),this.quill.format("link",F,m.default.sources.USER)},list:function(F){var $=this.quill.getSelection(),z=this.quill.getFormat($);F==="check"?z.list==="checked"||z.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",F,m.default.sources.USER)}}},n.default=k,n.addControls=D},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(b,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,N){return w&&v(b.prototype,w),N&&v(b,N),b}}(),a=function v(b,w,N){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:v(E,w,N)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(N)}},c=s(28),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(w,N){h(this,b);var j=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return j.label.innerHTML=N,j.container.classList.add("ql-color-picker"),[].slice.call(j.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),j}return i(b,[{key:"buildItem",value:function(N){var j=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,N);return j.style.backgroundColor=N.getAttribute("value")||"",j}},{key:"selectItem",value:function(N,j){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,N,j);var E=this.label.querySelector(".ql-color-label"),S=N&&N.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=S:E.style.fill=S)}}]),b}(d.default);n.default=y},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(b,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,N){return w&&v(b.prototype,w),N&&v(b,N),b}}(),a=function v(b,w,N){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:v(E,w,N)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(N)}},c=s(28),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(w,N){h(this,b);var j=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return j.container.classList.add("ql-icon-picker"),[].forEach.call(j.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=N[E.getAttribute("data-value")||""]}),j.defaultItem=j.container.querySelector(".ql-selected"),j.selectItem(j.defaultItem),j}return i(b,[{key:"selectItem",value:function(N,j){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,N,j),N=N||this.defaultItem,this.label.innerHTML=N.innerHTML}}]),b}(d.default);n.default=y},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),f}}();function a(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(f,h){var p=this;a(this,d),this.quill=f,this.boundsContainer=h||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){p.root.style.marginTop=-1*p.quill.root.scrollTop+"px"}),this.hide()}return i(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var p=h.left+h.width/2-this.root.offsetWidth/2,m=h.bottom+this.quill.root.scrollTop;this.root.style.left=p+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),b=0;if(v.right>y.right&&(b=y.right-v.right,this.root.style.left=p+b+"px"),v.left<y.left&&(b=y.left-v.left,this.root.style.left=p+b+"px"),v.bottom>y.bottom){var w=v.bottom-v.top,N=h.bottom-h.top+w;this.root.style.top=m-N+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();n.default=c},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function O(R,F){var $=[],z=!0,Z=!1,se=void 0;try{for(var Q=R[Symbol.iterator](),oe;!(z=(oe=Q.next()).done)&&($.push(oe.value),!(F&&$.length===F));z=!0);}catch(ne){Z=!0,se=ne}finally{try{!z&&Q.return&&Q.return()}finally{if(Z)throw se}}return $}return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return O(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function O(R,F,$){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,F);if(z===void 0){var Z=Object.getPrototypeOf(R);return Z===null?void 0:O(Z,F,$)}else{if("value"in z)return z.value;var se=z.get;return se===void 0?void 0:se.call($)}},c=function(){function O(R,F){for(var $=0;$<F.length;$++){var z=F[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,F,$){return F&&O(R.prototype,F),$&&O(R,$),R}}(),d=s(3),f=E(d),h=s(8),p=E(h),m=s(43),y=E(m),v=s(27),b=E(v),w=s(15),N=s(41),j=E(N);function E(O){return O&&O.__esModule?O:{default:O}}function S(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function A(O,R){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:O}function T(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(O,R):O.__proto__=R)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],P=function(O){T(R,O);function R(F,$){S(this,R),$.modules.toolbar!=null&&$.modules.toolbar.container==null&&($.modules.toolbar.container=k);var z=A(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F,$));return z.quill.container.classList.add("ql-snow"),z}return c(R,[{key:"extendToolbar",value:function($){$.container.classList.add("ql-snow"),this.buildButtons([].slice.call($.container.querySelectorAll("button")),j.default),this.buildPickers([].slice.call($.container.querySelectorAll("select")),j.default),this.tooltip=new D(this.quill,this.options.bounds),$.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(z,Z){$.handlers.link.call($,!Z.format.link)})}}]),R}(y.default);P.DEFAULTS=(0,f.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var F=this.quill.getSelection();if(F==null||F.length==0)return;var $=this.quill.getText(F);/^\S+@\S+\.\S+$/.test($)&&$.indexOf("mailto:")!==0&&($="mailto:"+$);var z=this.quill.theme.tooltip;z.edit("link",$)}else this.quill.format("link",!1)}}}}});var D=function(O){T(R,O);function R(F,$){S(this,R);var z=A(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,F,$));return z.preview=z.root.querySelector("a.ql-preview"),z}return c(R,[{key:"listen",value:function(){var $=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(z){$.root.classList.contains("ql-editing")?$.save():$.edit("link",$.preview.textContent),z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(z){if($.linkRange!=null){var Z=$.linkRange;$.restoreFocus(),$.quill.formatText(Z,"link",!1,p.default.sources.USER),delete $.linkRange}z.preventDefault(),$.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(z,Z,se){if(z!=null){if(z.length===0&&se===p.default.sources.USER){var Q=$.quill.scroll.descendant(b.default,z.index),oe=i(Q,2),ne=oe[0],X=oe[1];if(ne!=null){$.linkRange=new w.Range(z.index-X,ne.length());var I=b.default.formats(ne.domNode);$.preview.textContent=I,$.preview.setAttribute("href",I),$.show(),$.position($.quill.getBounds($.linkRange));return}}else delete $.linkRange;$.hide()}})}},{key:"show",value:function(){a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R}(m.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=P},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(29),a=re(i),c=s(36),d=s(38),f=s(64),h=s(65),p=re(h),m=s(66),y=re(m),v=s(67),b=re(v),w=s(37),N=s(26),j=s(39),E=s(40),S=s(56),A=re(S),T=s(68),k=re(T),P=s(27),D=re(P),O=s(69),R=re(O),F=s(70),$=re(F),z=s(71),Z=re(z),se=s(72),Q=re(se),oe=s(73),ne=re(oe),X=s(13),I=re(X),q=s(74),Y=re(q),le=s(75),te=re(le),V=s(57),ie=re(V),ue=s(41),me=re(ue),ge=s(28),Ae=re(ge),Pe=s(59),ve=re(Pe),de=s(60),_e=re(de),Oe=s(61),Be=re(Oe),we=s(108),Se=re(we),K=s(62),ee=re(K);function re(B){return B&&B.__esModule?B:{default:B}}a.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":N.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":j.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":N.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":j.FontStyle,"attributors/style/size":E.SizeStyle},!0),a.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":f.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":N.ColorStyle,"formats/font":j.FontClass,"formats/size":E.SizeClass,"formats/blockquote":p.default,"formats/code-block":I.default,"formats/header":y.default,"formats/list":b.default,"formats/bold":A.default,"formats/code":X.Code,"formats/italic":k.default,"formats/link":D.default,"formats/script":R.default,"formats/strike":$.default,"formats/underline":Z.default,"formats/image":Q.default,"formats/video":ne.default,"formats/list/item":v.ListItem,"modules/formula":Y.default,"modules/syntax":te.default,"modules/toolbar":ie.default,"themes/bubble":Se.default,"themes/snow":ee.default,"ui/icons":me.default,"ui/picker":Ae.default,"ui/icon-picker":_e.default,"ui/color-picker":ve.default,"ui/tooltip":Be.default},!0),n.default=a.default},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function b(w,N){for(var j=0;j<N.length;j++){var E=N[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,N,j){return N&&b(w.prototype,N),j&&b(w,j),w}}(),a=function b(w,N,j){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,N);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:b(S,N,j)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(j)}},c=s(0),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function m(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){m(w,b);function w(){return h(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"add",value:function(j,E){if(E==="+1"||E==="-1"){var S=this.value(j)||0;E=E==="+1"?S+1:S-1}return E===0?(this.remove(j),!0):a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,j,E)}},{key:"canAdd",value:function(j,E){return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,j,E)||a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,j,parseInt(E))}},{key:"value",value:function(j){return parseInt(a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,j))||void 0}}]),w}(d.default.Attributor.Class),v=new y("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(4),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default);p.blotName="blockquote",p.tagName="blockquote",n.default=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(v,b){for(var w=0;w<b.length;w++){var N=b[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),a=s(4),c=d(a);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){p(v,y);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),v}(c.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function S(A,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,T,k){return T&&S(A.prototype,T),k&&S(A,k),A}}(),a=function S(A,T,k){A===null&&(A=Function.prototype);var P=Object.getOwnPropertyDescriptor(A,T);if(P===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:S(D,T,k)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(k)}},c=s(0),d=y(c),f=s(4),h=y(f),p=s(25),m=y(p);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A,T){return A in S?Object.defineProperty(S,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[A]=T,S}function b(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function w(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function N(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var j=function(S){N(A,S);function A(){return b(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"format",value:function(k,P){k===E.blotName&&!P?this.replaceWith(d.default.create(this.statics.scope)):a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,k,P)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,P){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,P),this):(this.parent.unwrap(),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,k,P))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:a(A.__proto__||Object.getPrototypeOf(A),"formats",this).call(this,k)}}]),A}(h.default);j.blotName="list-item",j.tagName="LI";var E=function(S){N(A,S),i(A,null,[{key:"create",value:function(k){var P=k==="ordered"?"OL":"UL",D=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,P);return(k==="checked"||k==="unchecked")&&D.setAttribute("data-checked",k==="checked"),D}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function A(T){b(this,A);var k=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T)),P=function(O){if(O.target.parentNode===T){var R=k.statics.formats(T),F=d.default.find(O.target);R==="checked"?F.format("list","unchecked"):R==="unchecked"&&F.format("list","checked")}};return T.addEventListener("touchstart",P),T.addEventListener("mousedown",P),k}return i(A,[{key:"format",value:function(k,P){this.children.length>0&&this.children.tail.format(k,P)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,P){if(k instanceof j)a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,k,P);else{var D=P==null?this.length():P.offset(this),O=this.split(D);O.parent.insertBefore(k,O)}}},{key:"optimize",value:function(k){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,k);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var P=d.default.create(this.statics.defaultChild);k.moveChildren(P),this.appendChild(P)}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,k)}}]),A}(m.default);E.blotName="list",E.scope=d.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[j],n.ListItem=j,n.default=E},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(56),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default);p.blotName="italic",p.tagName=["EM","I"],n.default=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(b,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,w,N){return w&&v(b.prototype,w),N&&v(b,N),b}}(),a=function v(b,w,N){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,w);if(j===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:v(E,w,N)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(N)}},c=s(6),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var y=function(v){m(b,v);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,null,[{key:"create",value:function(N){return N==="super"?document.createElement("sup"):N==="sub"?document.createElement("sub"):a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,N)}},{key:"formats",value:function(N){if(N.tagName==="SUB")return"sub";if(N.tagName==="SUP")return"super"}}]),b}(d.default);y.blotName="script",y.tagName=["SUB","SUP"],n.default=y},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default);p.blotName="strike",p.tagName="S",n.default=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),a=c(i);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default);p.blotName="underline",p.tagName="U",n.default=p},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(N,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,j,E){return j&&w(N.prototype,j),E&&w(N,E),N}}(),a=function w(N,j,E){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,j);if(S===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:w(A,j,E)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(E)}},c=s(0),d=h(c),f=s(27);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function m(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function y(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var v=["alt","height","width"],b=function(w){y(N,w);function N(){return p(this,N),m(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(E,S){v.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return typeof E=="string"&&S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return v.reduce(function(S,A){return E.hasAttribute(A)&&(S[A]=E.getAttribute(A)),S},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,f.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),N}(d.default.Embed);b.blotName="image",b.tagName="IMG",n.default=b},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(N,j){for(var E=0;E<j.length;E++){var S=j[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,j,E){return j&&w(N.prototype,j),E&&w(N,E),N}}(),a=function w(N,j,E){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,j);if(S===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:w(A,j,E)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(E)}},c=s(4),d=s(27),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function m(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function y(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var v=["height","width"],b=function(w){y(N,w);function N(){return p(this,N),m(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(E,S){v.indexOf(E)>-1?S?this.domNode.setAttribute(E,S):this.domNode.removeAttribute(E):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,E,S)}}],[{key:"create",value:function(E){var S=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(E)),S}},{key:"formats",value:function(E){return v.reduce(function(S,A){return E.hasAttribute(A)&&(S[A]=E.getAttribute(A)),S},{})}},{key:"sanitize",value:function(E){return f.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),N}(c.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",n.default=b},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function E(S,A){for(var T=0;T<A.length;T++){var k=A[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,A,T){return A&&E(S.prototype,A),T&&E(S,T),S}}(),a=function E(S,A,T){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,A);if(k===void 0){var P=Object.getPrototypeOf(S);return P===null?void 0:E(P,A,T)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(T)}},c=s(35),d=y(c),f=s(5),h=y(f),p=s(9),m=y(p);function y(E){return E&&E.__esModule?E:{default:E}}function v(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function b(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var N=function(E){w(S,E);function S(){return v(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,null,[{key:"create",value:function(T){var k=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",T)),k}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),S}(d.default);N.blotName="formula",N.className="ql-formula",N.tagName="SPAN";var j=function(E){w(S,E),i(S,null,[{key:"register",value:function(){h.default.register(N,!0)}}]);function S(){v(this,S);var A=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return A}return S}(m.default);n.FormulaBlot=N,n.default=j},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function T(k,P){for(var D=0;D<P.length;D++){var O=P[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,P,D){return P&&T(k.prototype,P),D&&T(k,D),k}}(),a=function T(k,P,D){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,P);if(O===void 0){var R=Object.getPrototypeOf(k);return R===null?void 0:T(R,P,D)}else{if("value"in O)return O.value;var F=O.get;return F===void 0?void 0:F.call(D)}},c=s(0),d=b(c),f=s(5),h=b(f),p=s(9),m=b(p),y=s(13),v=b(y);function b(T){return T&&T.__esModule?T:{default:T}}function w(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function N(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function j(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var E=function(T){j(k,T);function k(){return w(this,k),N(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return i(k,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),k}(v.default);E.className="ql-syntax";var S=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),A=function(T){j(k,T),i(k,null,[{key:"register",value:function(){h.default.register(S,!0),h.default.register(E,!0)}}]);function k(P,D){w(this,k);var O=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,D));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return O.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){O.highlight(),R=null},O.options.interval)}),O.highlight(),O}return i(k,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(R){R.highlight(D.options.highlight)}),this.quill.update(h.default.sources.SILENT),O!=null&&this.quill.setSelection(O,h.default.sources.SILENT)}}}]),k}(m.default);A.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var k=window.hljs.highlightAuto(T);return k.value}}(),interval:1e3},n.CodeBlock=E,n.CodeToken=S,n.default=A},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function k(P,D,O){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,D);if(R===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:k(F,D,O)}else{if("value"in R)return R.value;var $=R.get;return $===void 0?void 0:$.call(O)}},a=function(){function k(P,D){for(var O=0;O<D.length;O++){var R=D[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,D,O){return D&&k(P.prototype,D),O&&k(P,O),P}}(),c=s(3),d=w(c),f=s(8),h=w(f),p=s(43),m=w(p),y=s(15),v=s(41),b=w(v);function w(k){return k&&k.__esModule?k:{default:k}}function N(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function j(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:k}function E(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(k){E(P,k);function P(D,O){N(this,P),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=S);var R=j(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,D,O));return R.quill.container.classList.add("ql-bubble"),R}return a(P,[{key:"extendToolbar",value:function(O){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),b.default)}}]),P}(m.default);A.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){P?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(k){E(P,k);function P(D,O){N(this,P);var R=j(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,D,O));return R.quill.on(h.default.events.EDITOR_CHANGE,function(F,$,z,Z){if(F===h.default.events.SELECTION_CHANGE)if($!=null&&$.length>0&&Z===h.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var se=R.quill.getLines($.index,$.length);if(se.length===1)R.position(R.quill.getBounds($));else{var Q=se[se.length-1],oe=R.quill.getIndex(Q),ne=Math.min(Q.length()-1,$.index+$.length-oe),X=R.quill.getBounds(new y.Range(oe,ne));R.position(X)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return a(P,[{key:"listen",value:function(){var O=this;i(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var R=O.quill.getSelection();R!=null&&O.position(O.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var R=i(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,O),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",R===0)return R;F.style.marginLeft=-1*R-F.offsetWidth/2+"px"}}]),P}(p.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=T,n.default=A},function(t,n,s){t.exports=s(63)}]).default})}(O0)),O0.exports}var qs,FT;function Y7(){if(FT)return qs;FT=1;var r=qs&&qs.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var b in v)v.hasOwnProperty(b)&&(y[b]=v[b])},h(p,m)};return function(p,m){h(p,m);function y(){this.constructor=p}p.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}(),e=qs&&qs.__assign||function(){return e=Object.assign||function(h){for(var p,m=1,y=arguments.length;m<y;m++){p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},e.apply(this,arguments)},t=qs&&qs.__spreadArrays||function(){for(var h=0,p=0,m=arguments.length;p<m;p++)h+=arguments[p].length;for(var y=Array(h),v=0,p=0;p<m;p++)for(var b=arguments[p],w=0,N=b.length;w<N;w++,v++)y[v]=b[w];return y},n=qs&&qs.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},s=n(Jy()),i=n(RN()),a=n(G7()),c=n(X7()),d=function(h){r(p,h);function p(m){var y=h.call(this,m)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(b,w,N,j){var E,S,A,T;b==="text-change"?(S=(E=y).onEditorChangeText)===null||S===void 0||S.call(E,y.editor.root.innerHTML,w,j,y.unprivilegedEditor):b==="selection-change"&&((T=(A=y).onEditorChangeSelection)===null||T===void 0||T.call(A,w,j,y.unprivilegedEditor))};var v=y.isControlled()?m.value:m.defaultValue;return y.value=v??"",y}return p.prototype.validateProps=function(m){var y;if(s.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(m.children)){var v=s.default.Children.only(m.children);if(((y=v)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},p.prototype.shouldComponentUpdate=function(m,y){var v=this,b;if(this.validateProps(m),!this.editor||this.state.generation!==y.generation)return!0;if("value"in m){var w=this.getEditorContents(),N=(b=m.value,b??"");this.isEqualValue(N,w)||this.setEditorContents(this.editor,N)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),t(this.cleanProps,this.dirtyProps).some(function(j){return!a.default(m[j],v.props[j])})},p.prototype.shouldComponentRegenerate=function(m){var y=this;return this.dirtyProps.some(function(v){return!a.default(m[v],y.props[v])})},p.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},p.prototype.componentWillUnmount=function(){this.destroyEditor()},p.prototype.componentDidUpdate=function(m,y){var v=this;if(this.editor&&this.shouldComponentRegenerate(m)){var b=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:b,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var N=this.regenerationSnapshot,b=N.delta,j=N.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(b),f(function(){return v.setEditorSelection(E,j)})}},p.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},p.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},p.prototype.isControlled=function(){return"value"in this.props},p.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},p.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},p.prototype.createEditor=function(m,y){var v=new c.default(m,y);return y.tabIndex!=null&&this.setEditorTabIndex(v,y.tabIndex),this.hookEditor(v),v},p.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},p.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},p.prototype.getEditorContents=function(){return this.value},p.prototype.getEditorSelection=function(){return this.selection},p.prototype.isDelta=function(m){return m&&m.ops},p.prototype.isEqualValue=function(m,y){return this.isDelta(m)&&this.isDelta(y)?a.default(m.ops,y.ops):a.default(m,y)},p.prototype.setEditorContents=function(m,y){var v=this;this.value=y;var b=this.getEditorSelection();typeof y=="string"?m.setContents(m.clipboard.convert(y)):m.setContents(y),f(function(){return v.setEditorSelection(m,b)})},p.prototype.setEditorSelection=function(m,y){if(this.selection=y,y){var v=m.getLength();y.index=Math.max(0,Math.min(y.index,v-1)),y.length=Math.max(0,Math.min(y.length,v-1-y.index)),m.setSelection(y)}},p.prototype.setEditorTabIndex=function(m,y){var v,b;!((b=(v=m)===null||v===void 0?void 0:v.scroll)===null||b===void 0)&&b.domNode&&(m.scroll.domNode.tabIndex=y)},p.prototype.setEditorReadOnly=function(m,y){y?m.disable():m.enable()},p.prototype.makeUnprivilegedEditor=function(m){var y=m;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},p.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=i.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},p.prototype.renderEditingArea=function(){var m=this,y=this.props,v=y.children,b=y.preserveWhitespace,w=this.state.generation,N={key:w,ref:function(j){m.editingArea=j}};return s.default.Children.count(v)?s.default.cloneElement(s.default.Children.only(v),N):b?s.default.createElement("pre",e({},N)):s.default.createElement("div",e({},N))},p.prototype.render=function(){var m;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},p.prototype.onEditorChangeText=function(m,y,v,b){var w,N;if(this.editor){var j=this.isDelta(this.value)?b.getContents():b.getHTML();j!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=j,(N=(w=this.props).onChange)===null||N===void 0||N.call(w,m,y,v,b))}},p.prototype.onEditorChangeSelection=function(m,y,v){var b,w,N,j,E,S;if(this.editor){var A=this.getEditorSelection(),T=!A&&m,k=A&&!m;a.default(m,A)||(this.selection=m,(w=(b=this.props).onChangeSelection)===null||w===void 0||w.call(b,m,y,v),T?(j=(N=this.props).onFocus)===null||j===void 0||j.call(N,m,y,v):k&&((S=(E=this.props).onBlur)===null||S===void 0||S.call(E,A,y,v)))}},p.prototype.focus=function(){this.editor&&this.editor.focus()},p.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},p.displayName="React Quill",p.Quill=c.default,p.defaultProps={theme:"snow",modules:{},readOnly:!1},p}(s.default.Component);function f(h){Promise.resolve().then(h)}return qs=d,qs}var bt=Y7();const Qt=ON(bt),Q7=({isOpen:r,onClose:e,awardData:t,setAwardData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState(null),[y,v]=L.useState(null);L.useEffect(()=>{t&&t.mainImage&&(t.mainImage.frontendUrl||t.mainImage.url)?v(t.mainImage.frontendUrl?`http://192.168.3.245:8080${t.mainImage.frontendUrl}`:t.mainImage.url):(v(null),d(t&&t.media?t.media:[])),i([])},[t,r]);const b=k=>{const{name:P,value:D}=k.target;n(O=>({...O,[P]:D}))},w=k=>{n(P=>({...P,description:k}))},N=k=>{const P=k.target.files[0];P&&(y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),m(P),v(URL.createObjectURL(P)))},j=k=>{const P=Array.from(k.target.files);if(P.length===0)return;if(c.length+a.length+P.length>10){fe.error("You can only upload up to 10 media items");return}const D=P.map(O=>({file:O,type:O.type.startsWith("video/")?"video":"image",preview:URL.createObjectURL(O),alt:O.name}));i(O=>[...O,...D])},E=(k,P=!1)=>{P?i(D=>{const O=[...D];return URL.revokeObjectURL(O[k].preview),O.splice(k,1),O}):d(D=>{const O=[...D];return O.splice(k,1),O})},S=()=>{n({title:"",subtitle:"",category:"",year:"",awardingBody:"",description:"",media:[],mainImage:{url:"",frontendUrl:"",type:"image",alt:""}}),m(null),v(null),d([]),i([])},A=async k=>{k.preventDefault(),h(!0);try{const P=new FormData;P.append("title",t.title),P.append("subtitle",t.subtitle||""),P.append("category",t.category||""),P.append("year",t.year||""),P.append("awardingBody",t.awardingBody||""),P.append("description",t.description),P.append("order",t.order||0),p&&P.append("mainImage",p),c.forEach(z=>{z._id&&P.append("media",z._id)}),a.forEach(z=>{P.append("media",z.file)});const D=!!t._id;let O,R;D?(O=`http://192.168.3.245:8080/api/awards/update-award/${t._id}`,R="PUT"):(O="http://192.168.3.245:8080/api/awards/create-award",R="POST");const F=await fetch(O,{method:R,body:P}),$=await F.json();F.ok?(fe.success($.message||(D?"Award updated successfully!":"Award added successfully!")),s(),D||S(),e()):fe.error($.message||"Failed to update award.")}catch(P){console.error("Error submitting form:",P),fe.error((P==null?void 0:P.message)||"Something went wrong.")}finally{h(!1)}},T=(k,P,D=!1,O=null)=>{var F;if(k.type==="video"){const $=D?k.preview:`http://192.168.3.245:8080${k.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("video",{src:$,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata",children:[o.jsx("source",{src:$,type:((F=k.file)==null?void 0:F.type)||"video/mp4"}),"Your browser does not support the video tag."]}),o.jsxs("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center space-x-1",children:[o.jsx(cu,{className:"w-3 h-3"}),o.jsx("span",{children:"Video"})]}),o.jsx("button",{onClick:()=>E(P,D),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm","aria-label":"Remove video",children:o.jsx(Et,{className:"w-3 h-3"})})]})}const R=D?k.preview:`http://192.168.3.245:8080${k.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("img",{src:R,alt:k.alt||"Media preview",className:"w-full h-full object-cover rounded-lg",onError:$=>{$.target.style.display="none"}}),o.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs font-semibold px-2 py-1 rounded-full",children:O!==null?O:P+1}),o.jsx("button",{onClick:()=>E(P,D),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm","aria-label":"Remove image",children:o.jsx(Et,{className:"w-3 h-3"})})]})};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:t._id?"Edit Award":"Create Award"})]}),o.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:t.title,onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter award title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:t.order||"",onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",name:"subtitle",value:t.subtitle,onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter award subtitle"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:t.category,onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Healthcare Excellence",children:"Healthcare Excellence"}),o.jsx("option",{value:"Innovation",children:"Innovation"}),o.jsx("option",{value:"Research",children:"Research"}),o.jsx("option",{value:"Patient Care",children:"Patient Care"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Year"}),o.jsx("input",{type:"number",name:"year",value:t.year,onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter award year"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Awarding Body"}),o.jsx("input",{type:"text",name:"awardingBody",value:t.awardingBody,onChange:b,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter awarding body"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:t.description,onChange:w,className:"h-48",placeholder:"Write your description here...",modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["image"]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden",id:"mainImageUpload"}),o.jsxs("label",{htmlFor:"mainImageUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Main Image"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images only"})]}),y&&o.jsxs("div",{className:"relative w-full h-208 mt-4",children:[o.jsx("img",{src:y,alt:"Main image preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{onClick:()=>{m(null),v(null)},className:"absolute top-2 right-2 bg-red-600 text-white w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-3 h-3"})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Additional Media (Images & Videos)"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:j,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images and videos"})]})]})]}),c.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-4 gap-4",children:c.map((k,P)=>o.jsx("div",{className:"aspect-square",children:T(k,P,!1,P+1)},P))})]}),a.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((k,P)=>o.jsx("div",{className:"aspect-square",children:T(k,P,!0,c.length+P+1)},P))})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:A,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(ot,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},Z7=({isOpen:r,onClose:e,deleteId:t,onDelete:n,isDeleting:s})=>o.jsx(Tt,{children:r&&o.jsx(Ee.div,{className:"fixed inset-0 flex items-center justify-center bg-blue-100/30 backdrop-blur-md z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(Ee.div,{className:"bg-white p-6 rounded-lg shadow-xl w-80 text-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",stiffness:100,damping:10},children:[o.jsx("h2",{className:"text-xl font-bold text-red-600 mb-3",children:"Delete Award"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete this award?"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-md w-1/2 mr-2 transition hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>n(t),disabled:s,children:s?o.jsx(Xa,{}):"Delete"}),o.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded-md w-1/2 transition hover:bg-gray-400",onClick:e,disabled:s,children:"Cancel"})]})]})})}),$r=["2px","4px","6px","8px","10px","12px","14px","16px","18px","20px","22px","24px","26px","28px","30px","32px","34px","36px","38px","40px","42px","44px","46px","48px","50px","52px","54px","56px","58px","60px","62px","64px","66px","68px","70px","72px","74px","76px","78px","80px","82px","84px","86px","88px","90px","92px","94px","96px","98px","100px"];function hi(){if(typeof bt.Quill<"u"){const r=bt.Quill.import("attributors/style/size");r.whitelist=$r,bt.Quill.register(r,!0);const e=()=>{const t=document.querySelector(".ql-size .ql-picker-options");if(t){const n=t.querySelectorAll(".ql-picker-item");for(let s of n)s.textContent=s.dataset.value||"Default",s.classList.add("custom-size-item")}else setTimeout(e,100)};setTimeout(e,100)}}const J7=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState(!0),[P,D]=L.useState(!1),[O,R]=L.useState(!1),[F,$]=L.useState([]),[z,Z]=L.useState([]),[se,Q]=L.useState({totalAwards:0,yearsOfExcellence:0,globalRecognitions:0,industryCategories:0}),[oe,ne]=L.useState({title:"",subtitle:"",category:"",year:"",awardingBody:"",description:"",media:[{url:"",type:"image",alt:""}]}),[X,I]=L.useState(null),[q,Y]=L.useState(null),[le,te]=L.useState(""),[V,ie]=L.useState(!1),[ue,me]=L.useState("asc"),[ge,Ae]=L.useState("");L.useEffect(()=>{if(typeof bt.Quill<"u"){const K=bt.Quill.import("attributors/style/size");K.whitelist=$r,bt.Quill.register(K,!0),setTimeout(()=>{const ee=document.querySelector(".ql-size .ql-picker-options");if(ee){const re=ee.querySelectorAll(".ql-picker-item");for(let B of re)B.textContent=B.dataset.value||"Default",B.classList.add("custom-size-item")}},100)}},[]),L.useEffect(()=>{Pe()},[v,j,S,ue]);const Pe=async()=>{var K;k(!0);try{const re=await qr("/api/awards/get-awards",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"||S==="year"?ue:void 0});console.log("Awards API Response:",re),re?(e(re.data||[]),n(re.title||""),i((K=re.banner)!=null&&K.frontendUrl?`http://192.168.3.245:8080${re.banner.frontendUrl}`:""),c(re.description||""),N(re.totalPages||1),Q(re.achievementSummary||{})):(e([]),n(""),i(""),c(""),N(1),Q({totalAwards:0,yearsOfExcellence:0,globalRecognitions:0,industryCategories:0}))}catch(ee){console.error("Error fetching awards:",ee),fe.error(ee.message||"Error fetching awards"),e([]),n(""),i(""),c(""),N(1),Q({totalAwards:0,yearsOfExcellence:0,globalRecognitions:0,industryCategories:0})}finally{k(!1)}},ve=K=>{n(K.target.value)},de=K=>{c(K)},_e=async K=>{const ee=K.target.files[0];if(!ee)return;D(!0);const re=new FormData;re.append("banner",ee);try{const B=await fetch("http://192.168.3.245:8080/api/awards/section/update",{method:"PUT",body:re}),J=await B.json();if(B.ok){const ae=URL.createObjectURL(ee);i(ae),fe.success("Image uploaded successfully!"),await Pe(),URL.revokeObjectURL(ae)}else fe.error(J.message||"Image upload failed.")}catch(B){console.error("Error uploading image:",B),fe.error("Something went wrong during image upload.")}finally{D(!1)}},Oe=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const K=await fetch("http://192.168.3.245:8080/api/awards/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),ee=await K.json();K.ok?(await Pe(),fe.success("Updated successfully!")):fe.error(ee.message||"Failed to update section")}catch(K){console.error("Error updating main section:",K),fe.error(K.message||"Error updating section")}finally{p(!1)}},Be=async K=>{if(K){R(!0);try{const ee=await fetch(`http://192.168.3.245:8080/api/awards/delete-award/${K}`,{method:"DELETE"}),re=await ee.json();ee.ok?(await Pe(),fe.success("Award deleted successfully!"),y(!1),I(null)):fe.error(re.message||"Failed to delete award")}catch(ee){console.error("Error deleting award:",ee),fe.error(ee.message||"Error deleting award")}finally{R(!1)}}},we=async K=>{if(!le||isNaN(le)){fe.error("Order must be a number.");return}ie(!0);try{const ee=await fetch(`http://192.168.3.245:8080/api/awards/update-award/${K}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(le)})}),re=await ee.json();ee.ok?(fe.success("Order updated!"),Y(null),te(""),await Pe()):fe.error(re.message||"Failed to update order")}catch(ee){fe.error(ee.message||"Error updating order")}finally{ie(!1)}},Se=K=>{if(console.log(K,"media"),!K)return null;const ee=K;console.log(ee,"firstMediafirstMediafirstMedia===>");const re=ee.frontendUrl?`http://192.168.3.245:8080${ee.frontendUrl}`:ee.url||"";return ee.type==="video"?o.jsxs("div",{className:"relative w-20 h-14 bg-gray-100 rounded flex items-center justify-center",children:[o.jsx(FaPlay,{className:"text-gray-400"}),o.jsx("span",{className:"absolute bottom-1 right-1 text-xs text-gray-500",children:K.length>1?`+${K.length-1}`:""})]}):o.jsxs("div",{className:"relative w-20 h-14",children:[o.jsx("img",{src:re,alt:ee.alt||"Award media",className:"w-full h-full object-cover rounded",onError:B=>{console.error("Image failed to load:",re),B.target.style.display="none"}}),K.length>1&&o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs rounded",children:["+",K.length-1]})]})};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6 ",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Awards & Recognition"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Celebrate your company's achievements"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:ve,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Awards",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:de,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_e,disabled:h||P})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[P?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_e,disabled:h||P})]})]})})]}),o.jsxs("button",{onClick:Oe,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Award Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[se.totalAwards||0," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:K=>A(K.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"}),o.jsx("option",{value:"year",children:"Year"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:ue,onChange:K=>me(K.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:ge,onChange:K=>Ae(K.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{ne({title:"",subtitle:"",category:"",year:"",awardingBody:"",description:"",media:[{url:"",type:"image",alt:""}]}),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Award"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Media"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-nowrap",children:"Awarding Body"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(K=>{var ee;return!ge||((ee=K.title)==null?void 0:ee.toLowerCase().includes(ge.toLowerCase()))}).map((K,ee)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+ee+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Se(K==null?void 0:K.mainImage)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:K.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:K.description||K.subtitle||""}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:K.category})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600 max-w-32 truncate",children:K.awardingBody})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-green-800",children:K.year})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q===K._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:le,onChange:re=>te(re.target.value),onBlur:()=>we(K._id),onKeyDown:re=>{re.key==="Enter"&&we(K._id),re.key==="Escape"&&(Y(null),te(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:V}),V&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{Y(K._id),te(K.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:K.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{ne(K),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{I(K._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},K._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No award items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first award to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Award Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,r.length*w)})," ","of"," ",o.jsx("span",{className:"font-medium",children:r.length*w})," ","items"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(K,ee)=>ee+1).map(K=>o.jsx("button",{onClick:()=>b(K),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===K?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:K},K)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})})]})]})]}),o.jsx(Q7,{isOpen:d,onClose:()=>f(!1),awardData:oe,setAwardData:ne,refreshData:Pe,setMediaPreviews:$,mediaPreviews:F,setNewMedia:Z,newMedia:z}),o.jsx(Z7,{isOpen:m,onClose:()=>{y(!1),I(null)},deleteId:X,onDelete:Be,isDeleting:O})]})})},eV=({isOpen:r,onClose:e,eventsData:t,setEvents:n,refreshData:s})=>{const[i,a]=L.useState(!1),[c,d]=L.useState(!1);console.log(t,"asdff");const f=async p=>{const m=p.target.files[0];if(!m)return;const y=new FormData;y.append("image",m);try{const v=await fetch("http://192.168.3.245:8080/api/upload_image",{method:"POST",body:y}),b=await v.json();v.ok?(n(w=>({...w,eventBanner:b.imageUrl})),fe.success("Image uploaded successfully!")):fe.error(b.message||"Image upload failed.")}catch(v){console.error("Error uploading image:",v),fe.error("Something went wrong during image upload.")}},h=async()=>{if(!t.eventName||!t.eventBanner||!t.eventDate||!t.eventTime||!t.location){fe.error("Please fill in all fields.");return}a(!0);const p=!!t._id,m=p?`/api/events/update_event/${t._id}`:"/api/events/create_events",y={eventName:t.eventName,eventBanner:t.eventBanner,eventDate:t.eventDate,eventTime:t.eventTime,location:t.location};try{const v=p?await hs(m,y):await Um(m,y);v.status?(fe.success(v==null?void 0:v.message),s(),e(),n({eventName:"",eventBanner:"",eventDate:"",eventTime:"",location:""})):fe.error("Failed to update event.")}catch(v){console.error("Error updating/adding event:",v),fe.error((v==null?void 0:v.message)||"Something went wrong.")}finally{a(!1)}};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{className:"fixed inset-0 flex p-2 items-center justify-center bg-blue-100/30 backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(Ee.div,{className:"bg-white p-6 rounded-lg shadow-xl md:w-150",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",stiffness:100,damping:10},children:[o.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-3",children:t._id?"Edit Event":"Add New Event"}),o.jsx("input",{type:"text",name:"eventName",placeholder:"Event Name",className:"w-full p-2 border border-blue-300 rounded-md mb-2 focus:ring-2 focus:ring-blue-400",value:t.eventName,onChange:p=>n({...t,eventName:p.target.value})}),o.jsx("input",{type:"date",name:"eventDate",className:"w-full p-2 border border-blue-300 rounded-md mb-2 focus:ring-2 focus:ring-blue-400",value:t.eventDate,onChange:p=>n({...t,eventDate:p.target.value})}),o.jsx("input",{type:"text",name:"eventTime",placeholder:"Event Time",className:"w-full p-2 border border-blue-300 rounded-md mb-2 focus:ring-2 focus:ring-blue-400",value:t.eventTime,onChange:p=>n({...t,eventTime:p.target.value})}),o.jsx("input",{type:"text",name:"location",placeholder:"Location",className:"w-full p-2 border border-blue-300 rounded-md mb-2 focus:ring-2 focus:ring-blue-400",value:t.location,onChange:p=>n({...t,location:p.target.value})}),o.jsx("input",{type:"file",accept:"image/*",className:"w-full mb-2",onChange:f}),c&&o.jsx("p",{className:"text-blue-600 text-sm",children:"Uploading image..."}),t.eventBanner&&o.jsx("img",{src:t.eventBanner,alt:"Event Banner",className:"w-full h-32 object-cover mb-2 rounded-md shadow-md"}),o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md w-full transition hover:bg-blue-700",onClick:h,disabled:i||c,children:i?o.jsx(Xa,{}):t._id?"Update Event":"Add Event"}),o.jsx("button",{className:"mt-2 w-full text-gray-500 hover:text-gray-700 transition",onClick:e,children:"Cancel"})]})})})},tV=({isOpen:r,onClose:e,deleteId:t,refreshData:n})=>{const[s,i]=L.useState(!1),a=async()=>{i(!0);try{const c=await Xf(`/api/events/delete_event/${t}`);c.status?(fe.success(c==null?void 0:c.message),n(),e()):fe.error("Failed to delete award.")}catch(c){console.error("Error deleting award:",c),fe.error("Something went wrong.")}finally{i(!1)}};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{className:"fixed inset-0 flex items-center justify-center bg-blue-100/30 backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(Ee.div,{className:"bg-white p-6 rounded-lg shadow-xl w-80 text-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",stiffness:100,damping:10},children:[o.jsx("h2",{className:"text-xl font-bold text-red-600 mb-3",children:"Delete Event"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete this event?"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-md w-1/2 mr-2 transition hover:bg-red-600",onClick:a,disabled:s,children:s?o.jsx(Xa,{}):"Delete"}),o.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded-md w-1/2 transition hover:bg-gray-400",onClick:e,children:"Cancel"})]})]})})})},nV=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(!1),[s,i]=L.useState(""),[a,c]=L.useState(null),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(null),[v,b]=L.useState({eventName:"",eventBanner:"",eventTime:"",eventDate:"",location:""}),w=async()=>{try{n(!0);const j=await qr("/api/events/get_all_events");console.log(j,"resData"),e(j)}catch{i("Failed to load events")}finally{n(!1)}};L.useEffect(()=>{w()},[]);const N=(j=null)=>{p(!0),c(j),b(j?{eventName:j.eventName,eventDate:j.eventDate,eventTime:j.eventTime,location:j.location}:{eventName:"",eventDate:"",eventTime:"",location:""})};return o.jsxs("div",{className:"p-6  lg:w-[80%] m-auto ",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl lg:text-4xl text-blue-950 underline font-bold text-center mb-4",children:"Event Management"}),o.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>N(),children:[o.jsx(tn,{className:"mr-2"})," Add Event"]})]}),t&&o.jsx("p",{className:"text-center",children:"Loading events..."}),s&&o.jsx("p",{className:"text-red-500",children:s}),o.jsx("div",{className:"grid md:grid-cols-2   lg:grid-cols-3 m-auto  gap-4",children:r==null?void 0:r.map(j=>o.jsxs("div",{className:"relative flex w-[100%] flex-col rounded-xl bg-[#BFDBFE] bg-clip-border text-gray-700 shadow-md",children:[o.jsx("img",{src:j.eventBanner,alt:j.eventName,className:"w-full h-60 object-fit rounded-t-xl mb-3"}),o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-semibold",children:j.eventName}),o.jsxs("p",{className:"text-gray-600",children:[j.eventDate," - ",j.eventTime]}),o.jsx("p",{className:"text-gray-700",children:j.location})]}),o.jsx("div",{className:"",children:o.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[o.jsx("button",{onClick:()=>{b(j),p(!0)},className:"bg-yellow-500 cursor-pointer duration-500 ease-in-out hover:bg-yellow-700 text-white p-2 rounded-md",children:o.jsx(ps,{})}),o.jsx("button",{onClick:()=>{y(j._id),f(!0)},className:"bg-red-500 duration-500 ease-in-out hover:bg-red-700 text-white cursor-pointer p-2 rounded-md",children:o.jsx(ms,{})})]})})]},j._id))}),o.jsx(eV,{isOpen:h,onClose:()=>p(!1),eventsData:v,setEvents:b,refreshData:w}),o.jsx(tV,{isOpen:d,onClose:()=>f(!1),deleteId:m,refreshData:w})]})},rV=({isOpen:r,onClose:e,blogData:t,refreshData:n,setNewMedia:s,newMedia:i,mediaPreviews:a,setMediaPreviews:c})=>{const[d,f]=L.useState({title:"",subtitle:"",category:"",author:"",content:"",tags:[],status:"draft",order:0,date:""}),[h,p]=L.useState(null),[m,y]=L.useState(""),[v,b]=L.useState([]),[w,N]=L.useState([]),[j,E]=L.useState(!1),[S,A]=L.useState("");console.log(i,a,"setNewMedia,newMedia,mediaPreviews,setMediaPreviews"),L.useEffect(()=>{var Q;t!=null&&t._id?(f({title:t.title||"",subtitle:t.subtitle||"",category:t.category||"",author:t.author||"",content:t.content||"",tags:t.tags||[],status:t.status||"draft",order:t.order||0,date:t.date?t.date.split("T")[0]:""}),y((Q=t.mainImage)!=null&&Q.frontendUrl?`http://192.168.3.245:8080${t.mainImage.frontendUrl}`:""),N(t.media||[])):(f({title:"",subtitle:"",category:"",author:"",content:"",tags:[],status:"draft",order:0,date:""}),y(""),N([])),s([]),p(null),b([])},[t,r]),console.log(m,"main");const T=Q=>{const{name:oe,value:ne}=Q.target;f(X=>({...X,[oe]:ne}))},k=Q=>{f(oe=>({...oe,content:Q}))},P=Q=>{const oe=Q.target.files[0];oe&&(p(oe),y(URL.createObjectURL(oe)))},D=Q=>{const oe=Array.from(Q.target.files);if(oe.length>0){b(X=>[...X,...oe]);const ne=oe.map(X=>URL.createObjectURL(X));N(X=>[...X,...ne])}},O=()=>{p(null),y("")},R=Q=>{b(oe=>oe.filter((ne,X)=>X!==Q)),N(oe=>oe.filter((ne,X)=>X!==Q))},F=()=>{S.trim()&&!d.tags.includes(S.trim())&&(f(Q=>({...Q,tags:[...Q.tags,S.trim()]})),A(""))},$=Q=>{f(oe=>({...oe,tags:oe.tags.filter(ne=>ne!==Q)}))},z=Q=>Q?typeof Q=="string"&&(Q.startsWith("http")||Q.startsWith("blob"))?Q:typeof Q=="string"&&Q.startsWith("\\\\")?`http://192.168.3.245:8080/api/blogs/media/${Q.frontendUrl.split("\\").pop()}`:`http://192.168.3.245:8080${Q.frontendUrl}`:"",Z=()=>{f({title:"",subtitle:"",category:"",author:"",content:"",tags:[],status:"draft",order:0,date:""}),y(""),N([]),p(null),b([])},se=async Q=>{Q.preventDefault(),E(!0);const oe=w.map(ne=>{if(typeof ne!="string")return ne==null?void 0:ne._id});try{if(!d.title||!d.category||!d.content){dt.error("Please fill in all required fields (Title, Category, and Content)"),E(!1);return}const ne=new FormData;ne.append("title",d.title),ne.append("subtitle",d.subtitle||""),ne.append("category",d.category),ne.append("author",d.author||""),ne.append("content",d.content),ne.append("status",d.status),ne.append("tags",JSON.stringify(d.tags)),ne.append("order",d.order||0),ne.append("date",d.date||""),ne.append("mediaToKeep",oe),h&&ne.append("mainImage",h),v.forEach((le,te)=>{ne.append("media",le)});const X=t==null?void 0:t._id,I=X?`http://192.168.3.245:8080/api/blogs/update-blog/${t._id}`:"http://192.168.3.245:8080/api/blogs/create-blog",q=await fetch(I,{method:X?"PUT":"POST",body:ne}),Y=await q.json();if(!q.ok)throw new Error(Y.message||"Failed to save blog");dt.success(X?"Blog updated successfully!":"Blog created successfully!"),n(),t||Z(),e()}catch(ne){console.error("Error saving blog:",ne),dt.error(ne.message||"Error submitting blog")}finally{E(!1)}};return console.log(w,"additionalImagesPreviewadditionalImagesPreview"),o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:t!=null&&t._id?"Edit Blog":"Create Blog"})]}),o.jsx("button",{onClick:e,className:"p-2 text-gray-400 w-6 h-6 hover:text-gray-600 rounded-lg transition-colors",children:o.jsx(Et,{className:"w-30 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:d.title,onChange:T,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter blog title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:d.order||"",onChange:T,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",name:"subtitle",value:d.subtitle,onChange:T,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter blog subtitle"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Author"}),o.jsx("input",{type:"text",name:"author",value:d.author,onChange:T,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter author name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Date"}),o.jsx("input",{type:"date",name:"date",value:d.date,onChange:T,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"category",value:d.category,onChange:T,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Healthcare",children:"Healthcare"}),o.jsx("option",{value:"Technology",children:"Technology"}),o.jsx("option",{value:"Research",children:"Research"}),o.jsx("option",{value:"Education",children:"Education"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Status"}),o.jsxs("select",{name:"status",value:d.status,onChange:T,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Tags"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{value:S,onChange:Q=>A(Q.target.value),placeholder:"Add tag",className:"flex-1 px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"}),o.jsx("button",{type:"button",onClick:F,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Add"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.tags.map((Q,oe)=>o.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center",children:[Q,o.jsx("button",{onClick:()=>$(Q),className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]},oe))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Content ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:d.content,onChange:k,className:"h-48",placeholder:"Write your blog content here...",modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["image"]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",id:"mainImage"}),o.jsxs("label",{htmlFor:"mainImage",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Main Image"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images only"})]}),m&&o.jsxs("div",{className:"relative w-full h-208 mt-4",children:[o.jsx("img",{src:m,alt:"Main Preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{onClick:O,className:"absolute top-2 right-2 h-[36px] w-[36px] bg-red-600 text-white p-1.5 rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-[12px] h-[16px]"})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Additional Images"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:D,className:"hidden",id:"additionalImages"}),o.jsxs("label",{htmlFor:"additionalImages",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Images"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images only"})]}),w.length>0&&o.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-4 gap-4 mt-4",children:w.map((Q,oe)=>o.jsxs("div",{className:"relative aspect-square",children:[o.jsx("img",{src:z(Q),alt:`preview-${oe}`,className:"w-full h-full object-cover rounded-lg"}),o.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs font-semibold px-2 py-1 rounded-full",children:oe+1}),o.jsx("button",{onClick:()=>R(oe),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-3 h-3"})})]},oe))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:j,children:"Cancel"}),o.jsx("button",{onClick:se,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:j,children:j?o.jsxs(o.Fragment,{children:[o.jsx(ot,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},sV=({isOpen:r,onClose:e,deleteId:t,onDelete:n,isDeleting:s})=>r?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:o.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[o.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:o.jsxs("div",{className:"sm:flex sm:items-start",children:[o.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:o.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Blog"}),o.jsx("div",{className:"mt-2",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this blog? This action cannot be undone."})})]})]})}),o.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[o.jsx("button",{type:"button",onClick:()=>n(t),disabled:s,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${s?"opacity-50 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"}),o.jsx("button",{type:"button",onClick:e,disabled:s,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null,iV=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState({totalBlogs:0,publishedBlogs:0,draftBlogs:0,categories:0}),[se,Q]=L.useState({title:"",subtitle:"",category:"",author:"",content:"",tags:[],status:"draft",mainImage:{url:"",type:"image",alt:""},media:[]}),[oe,ne]=L.useState(null),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState([]),[ge,Ae]=L.useState([]);L.useEffect(()=>{ve()},[v,j,S,T]);const Pe=ee=>ee?ee.startsWith("http")?ee:ee.startsWith("\\\\")?`http://192.168.3.245:8080/api/blogs/media/${ee.split("\\").pop()}`:`http://192.168.3.245:8080${ee}`:"",ve=async()=>{var ee,re,B,J,ae;D(!0);try{const Re=await qr("/api/blogs/get-blogs",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"||S==="date"?T:void 0});if(console.log(Re,"resss"),console.log("Blogs API Response:",Re),Re){const De=(Re.data||[]).map(lt=>({...lt,mainImage:lt.mainImage?{...lt.mainImage,url:lt.mainImage.frontendUrl||Pe(lt.mainImage.url)}:null,media:(lt.media||[]).map(ft=>({...ft,url:ft.frontendUrl||Pe(ft.url)}))}));e(De),n(Re.title||""),i((ee=Re.banner)!=null&&ee.frontendUrl?`http://192.168.3.245:8080${Re.banner.frontendUrl}`:Pe((re=Re.banner)==null?void 0:re.url)||""),c(Re.description||""),N(Re.totalPages||1),Z({totalBlogs:Re.totalBlogs||0,publishedBlogs:((B=Re.data)==null?void 0:B.filter(lt=>lt.order==="published").length)||0,draftBlogs:((J=Re.data)==null?void 0:J.filter(lt=>lt.status==="draft").length)||0,categories:new Set((ae=Re.data)==null?void 0:ae.map(lt=>lt.category)).size||0})}else e([]),n(""),i(""),c(""),N(1),Z({totalBlogs:0,publishedBlogs:0,draftBlogs:0,categories:0})}catch(xe){console.error("Error fetching blogs:",xe),fe.error(xe.message||"Error fetching blogs"),e([]),n(""),i(""),c(""),N(1),Z({totalBlogs:0,publishedBlogs:0,draftBlogs:0,categories:0})}finally{D(!1)}},de=async ee=>{if(ee){$(!0);try{const re=await fetch(`http://192.168.3.245:8080/api/blogs/delete-blog/${ee}`,{method:"DELETE"}),B=await re.json();re.ok?(await ve(),fe.success("Blog deleted successfully!"),y(!1),ne(null)):fe.error(B.message||"Failed to delete blog")}catch(re){console.error("Error deleting blog:",re),fe.error(re.message||"Error deleting blog")}finally{$(!1)}}},_e=async ee=>{const re=ee.target.files[0];if(!re)return;R(!0);const B=new FormData;B.append("banner",re);try{const J=await fetch("http://192.168.3.245:8080/api/blogs/section/update",{method:"PUT",body:B}),ae=await J.json();if(J.ok){const xe=URL.createObjectURL(re);i(xe),fe.success("Image uploaded successfully!"),await ve(),URL.revokeObjectURL(xe)}else fe.error(ae.message||"Image upload failed.")}catch(J){console.error("Error uploading image:",J),fe.error("Something went wrong during image upload.")}finally{R(!1)}},Oe=ee=>{n(ee.target.value)},Be=ee=>{c(ee)},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const ee=await fetch("http://192.168.3.245:8080/api/blogs/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),re=await ee.json();ee.ok?(await ve(),fe.success("Updated successfully!")):fe.error(re.message||"Failed to update section")}catch(ee){console.error("Error updating main section:",ee),fe.error(ee.message||"Error updating section")}finally{p(!1)}},Se=ee=>{if(!ee)return null;const re=ee,B=re.frontendUrl?`http://192.168.3.245:8080${re.frontendUrl}`:re.url||"";return re.type==="video"?o.jsxs("div",{className:"relative w-20 h-14 bg-gray-100 rounded flex items-center justify-center",children:[o.jsx(FaPlay,{className:"text-gray-400"}),o.jsx("span",{className:"absolute bottom-1 right-1 text-xs text-gray-500",children:ee.length>1?`+${ee.length-1}`:""})]}):o.jsxs("div",{className:"relative w-20 h-14",children:[o.jsx("img",{src:B,alt:re.alt||"Blog media",className:"w-full h-full object-cover rounded",onError:J=>{console.error("Image failed to load:",B),J.target.style.display="none"}}),ee.length>1&&o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs rounded",children:["+",ee.length-1]})]})};L.useEffect(()=>{hi()},[]);const K=async ee=>{if(ee){te(!0);try{const re=await fetch(`http://192.168.3.245:8080/api/blogs/update-blog/${ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:q})}),B=await re.json();re.ok?(await ve(),fe.success("Order updated successfully!"),I(null),Y("")):fe.error(B.message||"Failed to update order")}catch(re){console.error("Error updating order:",re),fe.error(re.message||"Error updating order")}finally{te(!1)}}};return o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Blog Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your company's blog posts"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:Oe,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Blog",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Be,modules:{toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["image"]]}})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_e,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_e,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Blog Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[z.totalBlogs," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:ee=>A(ee.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"}),o.jsx("option",{value:"date",children:"Date"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:ee=>k(ee.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:ee=>ie(ee.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Q({title:"",subtitle:"",category:"",author:"",content:"",tags:[],status:"draft",mainImage:{url:"",type:"image",alt:""},media:[]}),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Blog"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Media"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(ee=>{var re;return!V||((re=ee.title)==null?void 0:re.toLowerCase().includes(V.toLowerCase()))}).map((ee,re)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+re+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Se(ee==null?void 0:ee.mainImage)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:ee.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:ee.subtitle||ee.content||""}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:ee.category})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===ee._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:B=>Y(B.target.value),onBlur:()=>K(ee._id),onKeyDown:B=>{B.key==="Enter"&&K(ee._id),B.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(ee._id),Y(ee.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:ee.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee.date?new Date(ee.date).toLocaleDateString():""}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee.author}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Q(ee),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{ne(ee._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},ee._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No blog items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first blog post to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Blog Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,r.length*w)})," of ",o.jsx("span",{className:"font-medium",children:r.length*w})," items"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(ee,re)=>re+1).map(ee=>o.jsx("button",{onClick:()=>b(ee),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===ee?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:ee},ee)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})})]})]})]}),o.jsx(rV,{isOpen:d,onClose:()=>f(!1),blogData:se,setBlogData:Q,refreshData:ve,setMediaPreviews:me,mediaPreviews:ue,setNewMedia:Ae,newMedia:ge}),o.jsx(sV,{isOpen:m,onClose:()=>{y(!1),ne(null)},deleteId:oe,onDelete:de,isDeleting:F})]})})},aV=()=>{const r=nx(),[e,t]=L.useState([]),[n,s]=L.useState(""),[i,a]=L.useState(""),[c,d]=L.useState(""),[f,h]=L.useState(!1),[p,m]=L.useState(!1),[y,v]=L.useState(!1),[b,w]=L.useState(1),[N,j]=L.useState(1),[E,S]=L.useState("position"),[A,T]=L.useState(!0),[k,P]=L.useState(!1),[D,O]=L.useState(!1),[R,F]=L.useState({title:"",description:"",banner:{url:"",frontendUrl:""},position:0}),[$,z]=L.useState(null);L.useEffect(()=>{Z()},[b,E]);const Z=async()=>{var I;T(!0);try{const Y=await qr("/api/products/get-categories",{page:b,limit:10,sortBy:E});console.log("res======>>",Y),Y&&Y.status&&(t(Y.data||[]),j(((I=Y.pagination)==null?void 0:I.totalPages)||1))}catch(q){console.error("Error fetching products:",q),fe.error(q.message||"Error fetching products"),setProductsData([]),s(""),a(""),d(""),j(1)}finally{T(!1)}},se=I=>{s(I.target.value)},Q=I=>{d(I)},oe=async I=>{const q=I.target.files[0];if(!q)return;P(!0);const Y=new FormData;Y.append("images",q);try{const le=await fetch("http://192.168.3.245:8080/api/products/categories",{method:"POST",body:Y}),te=await le.json();if(le.ok){const V=URL.createObjectURL(q);a(V),fe.success("Image uploaded successfully!"),await Z(),URL.revokeObjectURL(V)}else fe.error(te.message||"Image upload failed.")}catch(le){console.error("Error uploading image:",le),fe.error("Something went wrong during image upload.")}finally{P(!1)}},ne=async()=>{if(!n){fe.error("Title is required.");return}m(!0);try{const I=await fetch("http://192.168.3.245:8080/api/products/categories",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,description:c})}),q=await I.json();I.ok?(await Z(),fe.success("Updated successfully!")):fe.error(q.message||"Failed to update section")}catch(I){console.error("Error updating main section:",I),fe.error(I.message||"Error updating section")}finally{m(!1)}},X=async I=>{if(I){O(!0);try{const q=await fetch(`http://192.168.3.245:8080/api/products/delete-category/${I}`,{method:"DELETE"}),Y=await q.json();q.ok?(await Z(),fe.success("Product deleted successfully!"),v(!1),z(null)):fe.error(Y.message||"Failed to delete product")}catch(q){console.error("Error deleting product:",q),fe.error(q.message||"Error deleting product")}finally{O(!1)}}};return o.jsxs("div",{className:"p-4 lg:w-[80%] m-auto",children:[o.jsx("h1",{className:"text-3xl lg:text-4xl text-blue-950 underline font-bold text-center mb-4",children:"Products Management"}),o.jsxs("div",{className:"mt-[50px] rounded-lg p-6 shadow-lg mb-6 mx-auto bg-[#BFDBFE] transform transition-all duration-300 hover:shadow-xl",children:[o.jsxs("div",{className:"relative w-full mb-4",children:[i?o.jsx("img",{src:i.startsWith("http")?i:`http://192.168.3.245:8080${i}`,alt:"Main Banner",className:"w-full h-80 object-fill rounded-md shadow-md",onError:I=>{I.target.onerror=null,I.target.src="/placeholder.png"}}):o.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-200 text-gray-500 rounded-md",children:"No Banner Selected"}),o.jsxs("label",{className:`absolute bottom-3 right-3 bg-blue-500 text-white p-2 rounded-md cursor-pointer flex items-center transition-all duration-300 hover:bg-blue-600 ${k?"opacity-50 cursor-not-allowed":""}`,children:[k?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"mr-2 animate-spin"})," Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ot,{className:"mr-2"})," Upload Banner"]}),o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe,disabled:k})]})]}),o.jsx("input",{type:"text",value:n,onChange:se,className:"text-xl font-bold border bg-white outline-none border-gray-400 rounded-md p-2 w-full mb-4 text-center transition-all duration-300 focus:border-blue-500 focus:shadow-md",placeholder:"Enter Main Title",disabled:p}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Description *"}),o.jsx(Qt,{theme:"snow",value:c,onChange:Q,className:"bg-white",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link"],["clean"]]}})]}),o.jsx("button",{className:`bg-green-500 text-white cursor-pointer px-4 py-2 rounded-md w-full transition-all duration-300 hover:bg-green-600 ${p?"opacity-50 cursor-not-allowed":""}`,onClick:ne,disabled:p,children:p?o.jsx(Xa,{}):"Update"})]}),o.jsx("div",{className:"flex mt-[50px] justify-end",children:o.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md mb-4 flex items-center transition-all duration-300 hover:bg-blue-600 hover:shadow-md",onClick:()=>{F({title:"",description:"",banner:{url:"",frontendUrl:""},position:0}),h(!0)},children:[o.jsx(tn,{className:"mr-2"})," Add New Product"]})}),A?o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx(it,{className:"animate-spin text-4xl text-blue-500"})}):o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border",children:[o.jsx("thead",{className:"bg-yellow-400 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"S.No"}),o.jsx("th",{className:"px-4 py-2 text-left w-[100px] text-sm font-bold",children:"Image"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Title"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Highlighted Features"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"No. of Products"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Position"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-bold",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:productsData==null?void 0:productsData.map((I,q)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:q+1}),o.jsx("td",{className:"px-4 w-[100px] py-2",children:o.jsx("img",{alt:category.title,className:"w-20 h-14 w-[100px] rounded",onError:Y=>{Y.target.onerror=null,Y.target.src="/placeholder.png"}})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:category.title}),o.jsx("td",{className:"px-4 py-2 text-sm",children:category.description}),o.jsx("td",{className:"px-4 py-2 text-sm",children:category.position}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>r(`/products/${category._id}`),className:"bg-yellow-500 hover:bg-yellow-700 text-white p-1.5 rounded-md transition",children:o.jsx(ps,{})}),o.jsx("button",{onClick:()=>{z(I._id),v(!0)},className:"bg-red-500 hover:bg-red-700 text-white p-1.5 rounded-md transition",children:o.jsx(ms,{})})]})})]},I._id))})]}),!A&&(productsData==null?void 0:productsData.length)>0&&o.jsxs("div",{className:"flex justify-center mt-6 space-x-2 items-center",children:[o.jsx("button",{className:`px-3 py-3 flex items-center rounded-full shadow-md transition-all duration-300 ${b===1?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-700 text-white hover:shadow-lg"}`,disabled:b===1,onClick:()=>w(b-1),children:o.jsx(ci,{className:"text-lg"})}),Array.from({length:N},(I,q)=>o.jsx("button",{onClick:()=>w(q+1),className:`h-[50px] w-[50px] rounded-full shadow-md transition-all duration-300 ${b===q+1?"bg-blue-600 text-white font-bold shadow-lg":"bg-gray-200 hover:bg-gray-300 hover:shadow-lg"}`,children:q+1},q+1)),o.jsx("button",{className:`px-3 py-3 flex items-center rounded-full shadow-md transition-all duration-300 ${b===N?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-700 text-white hover:shadow-lg"}`,disabled:b===N,onClick:()=>w(b+1),children:o.jsx(ui,{className:"text-lg"})})]}),o.jsx(ProductModal,{isOpen:f,onClose:()=>h(!1),productData:R,setProductData:F,refreshData:Z}),o.jsx(ProductDeleteModal,{isOpen:y,onClose:()=>{v(!1),z(null)},deleteId:$,onDelete:X,isDeleting:D}),o.jsx(MN,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}})]})},oV=["10px","12px","14px","16px","18px","20px","24px","32px"],BT=["sans-serif","serif","monospace"],lV=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState({title:"",description:"",order:0});L.useEffect(()=>{n?(m({title:n.title||"",description:n.description||"",order:n.order||0,media:n.media||[]}),d(n.media||[])):(m({title:"",description:"",order:0,media:[]}),d([])),i([])},[n,r]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const S=bt.Quill.import("formats/font");S.whitelist=BT,bt.Quill.register(S,!0)}},[]);const y=S=>{const{name:A,value:T}=S.target;m(k=>({...k,[A]:T}))},v=S=>{m(A=>({...A,description:S}))},b=S=>{const A=Array.from(S.target.files);if(A.length===0)return;if(c.length+A.length>10){dt.error("You can only upload up to 10 media items");return}const T=A.map(k=>({file:k,type:k.type.startsWith("video/")?"video":"image",preview:URL.createObjectURL(k),alt:k.name}));i(k=>[...k,...T])},w=(S,A=!1)=>{A?i(T=>{const k=[...T];return URL.revokeObjectURL(k[S].preview),k.splice(S,1),k}):d(T=>{const k=[...T];return k.splice(S,1),k})},N=()=>{m({title:"",description:"",order:0,media:[]}),d([]),i([])},j=async S=>{if(S.preventDefault(),!p.title||!p.description){dt.error("Please fill in all required fields");return}h(!0);try{const A=new FormData;A.append("title",p.title),A.append("description",p.description),A.append("order",p.order),a.forEach(k=>{A.append("media",k.file)}),await t((n==null?void 0:n._id)||null,A)&&(s(),n||N(),e())}catch(A){console.error("Error submitting form:",A),dt.error(A.message||"Error submitting form")}finally{h(!1)}},E=(S,A,T=!1)=>{const k=S.type==="video",P=T?S.preview:`http://192.168.3.245:8080${S.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k?o.jsx("video",{src:P,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata"}):o.jsx("img",{src:P,alt:S.alt||"preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:k?"Video":`#${A+1}`}),o.jsx("button",{onClick:()=>w(A,T),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},A)};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Profile":"Create Profile"})]}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter profile title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:p.order,onChange:y,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:p.description,onChange:v,modules:{toolbar:[[{font:BT},{size:oV}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Media Gallery"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:b,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images and videos"})]})]})]}),(c.length>0||a.length>0)&&o.jsxs("div",{className:"space-y-4",children:[c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A)},`existing-${A}`))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A,!0)},`new-${A}`))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:j,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},Hm=({isOpen:r,onClose:e,onDelete:t,deleteId:n,isDeleting:s})=>o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx(AS,{className:"text-yellow-500 text-4xl"})}),o.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Delete Profile"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Are you sure you want to delete this profile? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:s,children:"Cancel"}),o.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center space-x-2",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Xa,{}),o.jsx("span",{children:"Deleting..."})]}):"Delete"})]})]})})}),cV=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/company-profile/get-profiles",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalProfiles||0))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{const xe=await fetch("http://192.168.3.245:8080/api/company-profile/section/update",{method:"PUT",body:ae}),Re=await xe.json();if(xe.ok){const De=URL.createObjectURL(J);i(De),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(De)}else fe.error(Re.message||"Image upload failed.")}catch(xe){console.error("Error uploading image:",xe),fe.error("Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const B=await fetch("http://192.168.3.245:8080/api/company-profile/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),J=await B.json();B.ok?(await de(),fe.success("Updated successfully!")):fe.error(J.message||"Failed to update section")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/delete-profile/${B}`,{method:"DELETE"}),ae=await J.json();J.ok?(await de(),fe.success("Profile deleted successfully!"),y(!1),Q(null)):fe.error(ae.message||"Failed to delete profile")}catch(J){console.error("Error deleting profile:",J),fe.error(J.message||"Error deleting profile")}finally{$(!1)}}},K=async(B,J)=>{const ae=ge.map(xe=>xe._id);J.append("mediaToKeep",ae);try{const xe=B?`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`:"http://192.168.3.245:8080/api/company-profile/create-profile",Re=await fetch(xe,{method:B?"PUT":"POST",body:J});if(!Re.ok){const lt=await Re.json().catch(()=>({message:"Network error"}));throw new Error(lt.message||`HTTP ${Re.status}: ${Re.statusText}`)}const De=await Re.json();return await de(),fe.success(B?"Profile updated successfully!":"Profile created successfully!"),!0}catch(xe){return console.error("Error submitting form:",xe),fe.error(xe.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Company Profile"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your company's public presence"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(lV,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(Hm,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},uV=({isOpen:r,onClose:e,milestoneData:t,refreshData:n})=>{const[s,i]=L.useState({title:"",date:"",description:"",order:0}),[a,c]=L.useState(null),[d,f]=L.useState(""),[h,p]=L.useState([]),[m,y]=L.useState([]),[v,b]=L.useState(!1);L.useEffect(()=>{var k,P;t!=null&&t._id?(i({title:t.title||"",date:t.date||"",description:t.description||"",order:t.order||0}),f((k=t.mainImage)!=null&&k.frontendUrl?`http://192.168.3.245:8080${t.mainImage.frontendUrl}`:""),y(((P=t.media)==null?void 0:P.slice(1).map(D=>D.url))||[])):(i({title:"",date:"",description:"",order:0}),c(null),f(""),p([]),y([]))},[t,r]);const w=k=>{const{name:P,value:D}=k.target;i(O=>({...O,[P]:D}))},N=k=>{i(P=>({...P,description:k}))},j=k=>{const P=k.target.files[0];P&&(c(P),f(URL.createObjectURL(P)))},E=k=>{const P=Array.from(k.target.files);if(P.length>0){p(O=>[...O,...P]);const D=P.map(O=>URL.createObjectURL(O));y(O=>[...O,...D])}},S=()=>{c(null),f("")},A=k=>{p(P=>P.filter((D,O)=>O!==k)),y(P=>P.filter((D,O)=>O!==k))},T=async k=>{k.preventDefault(),b(!0);try{const P=new FormData,D=!!(t!=null&&t._id);D?(s.title!==t.title&&P.append("title",s.title||""),s.date!==t.date&&P.append("date",s.date||""),s.description!==t.description&&P.append("description",s.description||""),s.order!==t.order&&P.append("order",s.order||0)):(P.append("title",s.title||""),P.append("date",s.date||""),P.append("description",s.description||""),P.append("order",s.order||0)),(!D||a!==null)&&P.append("mainImage",a),h.forEach($=>{P.append("additionalImages",$)});for(const $ of P.entries())console.log(`${$[0]}:`,$[1]);const O=D?`http://192.168.3.245:8080/api/company-milestone/update-milestone/${t._id}`:"http://192.168.3.245:8080/api/company-milestone/create-milestone",F=await(await fetch(O,{method:D?"PUT":"POST",body:P})).json();n(),e()}catch(P){fe.error(P.message||"Error submitting milestone")}finally{b(!1)}};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:t!=null&&t._id?"Edit Milestone":"Create Milestone"})]}),o.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title",!(t!=null&&t._id)&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:s.title,onChange:w,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter milestone title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:s.order||"",onChange:w,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Date",!(t!=null&&t._id)&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"date",value:s.date,onChange:w,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description",!(t!=null&&t._id)&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:s.description,onChange:N,className:"h-48",placeholder:"Write your milestone description here...",modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"milestoneMainImage"}),o.jsxs("label",{htmlFor:"milestoneMainImage",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Main Image"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images only"})]}),d&&o.jsxs("div",{className:"relative w-full h-208 mt-4",children:[o.jsx("img",{src:d,alt:"Main Preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{onClick:S,className:"absolute top-2 right-2 bg-red-600 text-white w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-3 h-3"})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Additional Images"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:E,className:"hidden",id:"milestoneAdditionalImages"}),o.jsxs("label",{htmlFor:"milestoneAdditionalImages",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Images"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images only"})]}),m.length>0&&o.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-4 gap-4 mt-4",children:m.map((k,P)=>o.jsxs("div",{className:"relative aspect-square",children:[o.jsx("img",{src:k,alt:`preview-${P}`,className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{onClick:()=>A(P),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-3 h-3"})})]},P))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:v,children:"Cancel"}),o.jsx("button",{onClick:T,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:v,children:v?o.jsx("span",{children:"Submitting..."}):o.jsx("span",{children:t!=null&&t._id?"Update Milestone":"Create Milestone"})})]})})]})})})},dV=({isOpen:r,onClose:e,deleteId:t,onDelete:n,isDeleting:s})=>r?o.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"mb-4",children:"Are you sure you want to delete this milestone?"}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:e,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 transition-colors",disabled:s,children:"Cancel"}),o.jsx("button",{onClick:()=>n(t),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:s?o.jsx(Xa,{}):"Delete"})]})]})}):null,hV=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(!0),[S,A]=L.useState(!1),[T,k]=L.useState(!1),[P,D]=L.useState({title:"",date:"",description:"",media:[{url:"",type:"image",alt:""}]}),[O,R]=L.useState(null),[F,$]=L.useState(null),[z,Z]=L.useState(""),[se,Q]=L.useState(!1),[oe,ne]=L.useState("newest"),[X,I]=L.useState("asc"),[q,Y]=L.useState(""),[le,te]=L.useState("");L.useEffect(()=>{V()},[v,oe,X]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const de=bt.Quill.import("attributors/style/size");de.whitelist=$r,bt.Quill.register(de,!0),setTimeout(()=>{const _e=document.querySelector(".ql-size .ql-picker-options");if(_e){const Oe=_e.querySelectorAll(".ql-picker-item");for(let Be of Oe)Be.textContent=Be.dataset.value||"Default",Be.classList.add("custom-size-item")}},100)}},[]);const V=async()=>{var de;E(!0);try{const _e={page:v,limit:6,sortBy:oe,sortOrder:["order","year","date"].includes(oe)?X:void 0},Oe=await qr("/api/company-milestone/get-milestones",_e);Oe?(e(Oe.data||[]),n(Oe.title||""),i((de=Oe.banner)!=null&&de.frontendUrl?`http://192.168.3.245:8080${Oe.banner.frontendUrl}`:""),c(Oe.description||""),N(Oe.totalPages||1)):(e([]),n(""),i(""),c(""),N(1))}catch(_e){console.error("Error fetching milestones:",_e),fe.error(_e.message||"Error fetching milestones"),e([]),n(""),i(""),c(""),N(1)}finally{E(!1)}},ie=de=>{n(de.target.value)},ue=de=>{c(de)},me=async de=>{const _e=de.target.files[0];if(!_e)return;A(!0);const Oe=new FormData;Oe.append("banner",_e);try{const Be=await fetch("http://192.168.3.245:8080/api/company-milestone/section/update",{method:"PUT",body:Oe}),we=await Be.json();if(Be.ok){const Se=URL.createObjectURL(_e);i(Se),fe.success("Image uploaded successfully!"),await V(),URL.revokeObjectURL(Se)}else fe.error(we.message||"Image upload failed.")}catch(Be){console.error("Error uploading image:",Be),fe.error("Something went wrong during image upload.")}finally{A(!1)}},ge=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const de=await fetch("http://192.168.3.245:8080/api/company-milestone/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),_e=await de.json();de.ok?(await V(),fe.success("Updated successfully!")):fe.error(_e.message||"Failed to update section")}catch(de){console.error("Error updating main section:",de),fe.error(de.message||"Error updating section")}finally{p(!1)}},Ae=async de=>{if(de){k(!0);try{const _e=await fetch(`http://192.168.3.245:8080/api/company-milestone/delete-milestone/${de}`,{method:"DELETE"}),Oe=await _e.json();_e.ok?(await V(),fe.success("Milestone deleted successfully!"),y(!1),R(null)):fe.error(Oe.message||"Failed to delete milestone")}catch(_e){console.error("Error deleting milestone:",_e),fe.error(_e.message||"Error deleting milestone")}finally{k(!1)}}},Pe=async de=>{if(!z||isNaN(z)){fe.error("Order must be a number.");return}Q(!0);try{const _e=await fetch(`http://192.168.3.245:8080/api/company-milestone/update-milestone/${de}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(z)})}),Oe=await _e.json();_e.ok?(fe.success("Order updated!"),$(null),Z(""),await V()):fe.error(Oe.message||"Failed to update order")}catch(_e){fe.error(_e.message||"Error updating order")}finally{Q(!1)}},ve=de=>{if(!de)return null;const _e=de;console.log(_e,"ffffffffffff");const Oe=_e.frontendUrl?`http://192.168.3.245:8080${_e.frontendUrl}`:_e.url||"";return _e.type==="video"?o.jsx("div",{className:"relative w-16 h-10 bg-gray-100 rounded flex items-center justify-center",children:o.jsx("span",{className:"absolute -bottom-1 -right-1 text-xs text-gray-500",children:de.length>1?`+${de.length-1}`:""})}):o.jsxs("div",{className:"relative w-16 h-10",children:[o.jsx("img",{src:Oe,alt:_e.alt||"Milestone media",className:"w-full h-full object-cover rounded",onError:Be=>{Be.target.style.display="none"}}),de.length>1&&o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs rounded",children:["+",de.length-1]})]})};return L.useEffect(()=>{hi()},[]),o.jsxs("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:[o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6 ",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Company Milestones"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Track your company's key achievements"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:ie,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Milestones",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:ue,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:me,disabled:h||S})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[S?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:me,disabled:h||S})]})]})})]}),o.jsxs("button",{onClick:ge,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Milestone Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[r.length||0," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:oe,onChange:de=>ne(de.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"}),o.jsx("option",{value:"date",children:"Date"}),o.jsx("option",{value:"title",children:"Title"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:X,onChange:de=>I(de.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:q,onChange:de=>Y(de.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{D({title:"",date:"",description:"",media:[{url:"",type:"image",alt:""}]}),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Milestone"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Media"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(de=>{var _e;return(!q||((_e=de.title)==null?void 0:_e.toLowerCase().includes(q.toLowerCase())))&&(!le||String(de.order)===le)}).map((de,_e)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+_e+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve(de==null?void 0:de.mainImage)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:de.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:de.description||""}})]}),o.jsx("td",{className:"px-6 py-4 text-sm text-nowrap",children:de.date?de.date.split("T")[0]:""}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F===de._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:z,onChange:Oe=>Z(Oe.target.value),onBlur:()=>Pe(de._id),onKeyDown:Oe=>{Oe.key==="Enter"&&Pe(de._id),Oe.key==="Escape"&&($(null),Z(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:se}),se&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{$(de._id),Z(de.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:de.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{D(de),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{R(de._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},de._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No milestone items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first milestone to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Milestone Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,r.length*w)})," of ",o.jsx("span",{className:"font-medium",children:r.length*w})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(de,_e)=>_e+1).map(de=>o.jsx("button",{onClick:()=>b(de),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===de?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:de},de)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(uV,{isOpen:d,onClose:()=>f(!1),milestoneData:P,setMilestoneData:D,refreshData:V}),o.jsx(dV,{isOpen:m,onClose:()=>{y(!1),R(null)},deleteId:O,onDelete:Ae,isDeleting:T})]}),o.jsx("style",{children:`
        .custom-size-item::before {
          content: attr(data-value);
          font-size: 12px;
          color: #4B5563;
          margin-right: 4px;
        }
        `})]})},gr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),p2=[.001,0,0,.001,0,0],Sw=1.35,cs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d3="pdfjs_internal_editor_",tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},fV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},tr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},R0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},hn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Vu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Nx={ERRORS:0,WARNINGS:1,INFOS:5},_y={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},p0={moveTo:0,lineTo:1,curveTo:2,closePath:3},pV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Sx=Nx.WARNINGS;function mV(r){Number.isInteger(r)&&(Sx=r)}function gV(){return Sx}function jx(r){Sx>=Nx.INFOS&&console.log(`Info: ${r}`)}function nt(r){Sx>=Nx.WARNINGS&&console.log(`Warning: ${r}`)}function kt(r){throw new Error(r)}function gn(r,e){r||kt(e)}function yV(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function h3(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=NV(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return yV(n)?n:null}function f3(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&h3(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ht(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const uu=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class UT extends uu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class jw extends uu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class m2 extends uu{constructor(e){super(e,"InvalidPDFException")}}class Ay extends uu{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class xV extends uu{constructor(e){super(e,"FormatError")}}class cl extends uu{constructor(e){super(e,"AbortException")}}function p3(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&kt("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),a=r.subarray(s,i);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Wm(r){typeof r!="string"&&kt("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function vV(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function bV(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function wV(){try{return new Function(""),!0}catch{return!1}}class Kn{static get isLittleEndian(){return ht(this,"isLittleEndian",bV())}static get isEvalSupported(){return ht(this,"isEvalSupported",wV())}static get isOffscreenCanvasSupported(){return ht(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ht(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ht(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ht(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const _w=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Va,M0,g2;class Xe{static makeHexColor(e,t,n){return`#${_w[e]}${_w[t]}${_w[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const s=e[n],i=e[n+1];e[n]=s*t[0]+i*t[2]+t[4],e[n+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const s=t[0],i=t[1],a=t[2],c=t[3],d=t[4],f=t[5];for(let h=0;h<6;h+=2){const p=e[n+h],m=e[n+h+1];e[n+h]=p*s+m*a+d,e[n+h+1]=p*i+m*c+f}}static applyInverseTransform(e,t){const n=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const s=t[0],i=t[1],a=t[2],c=t[3],d=t[4],f=t[5],h=e[0],p=e[1],m=e[2],y=e[3];let v=s*h+d,b=v,w=s*m+d,N=w,j=c*p+f,E=j,S=c*y+f,A=S;if(i!==0||a!==0){const T=i*h,k=i*m,P=a*p,D=a*y;v+=P,N+=P,w+=D,b+=D,j+=T,A+=T,S+=k,E+=k}n[0]=Math.min(n[0],v,w,b,N),n[1]=Math.min(n[1],j,S,E,A),n[2]=Math.max(n[2],v,w,b,N),n[3]=Math.max(n[3],j,S,E,A)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],s=e[1],i=e[2],a=e[3],c=n**2+s**2,d=n*i+s*a,f=i**2+a**2,h=(c+f)/2,p=Math.sqrt(h**2-(c*f-d**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,s,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,s,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,s)}static bezierBoundingBox(e,t,n,s,i,a,c,d,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,d),W(this,Va,g2).call(this,e,n,i,c,t,s,a,d,3*(-e+3*(n-i)+c),6*(e-2*n+i),3*(n-e),f),W(this,Va,g2).call(this,e,n,i,c,t,s,a,d,3*(-t+3*(s-a)+d),6*(t-2*s+a),3*(s-t),f)}}Va=new WeakSet,M0=function(e,t,n,s,i,a,c,d,f,h){if(f<=0||f>=1)return;const p=1-f,m=f*f,y=m*f,v=p*(p*(p*e+3*f*t)+3*m*n)+y*s,b=p*(p*(p*i+3*f*a)+3*m*c)+y*d;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],b)},g2=function(e,t,n,s,i,a,c,d,f,h,p,m){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&W(this,Va,M0).call(this,e,t,n,s,i,a,c,d,-p/h,m);return}const y=h**2-4*p*f;if(y<0)return;const v=Math.sqrt(y),b=2*f;W(this,Va,M0).call(this,e,t,n,s,i,a,c,d,(-h+v)/b,m),W(this,Va,M0).call(this,e,t,n,s,i,a,c,d,(-h-v)/b,m)},H(Xe,Va);function NV(r){return decodeURIComponent(escape(r))}let Aw=null,$T=null;function SV(r){return Aw||(Aw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$T=new Map([["ﬅ","ſt"]])),r.replaceAll(Aw,(e,t,n)=>t?t.normalize("NFKC"):$T.get(n))}function m3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),p3(r)}const TS="pdfjs_internal_id_";function jV(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,s,...i]=t;if(!r(n)&&!Number.isInteger(n)||!e(s))return!1;const a=i.length;let c=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;c=!1;break;default:return!1}for(const d of i)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function yr(r,e,t){return Math.min(Math.max(r,e),t)}function g3(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(p3(r))}function _V(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Wm(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const oa="http://www.w3.org/2000/svg",Ml=class Ml{};Me(Ml,"CSS",96),Me(Ml,"PDF",72),Me(Ml,"PDF_TO_CSS_UNITS",Ml.CSS/Ml.PDF);let ul=Ml;async function Gm(r,e="text"){if(vf(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Km{constructor({viewBox:e,userUnit:t,scale:n,rotation:s,offsetX:i=0,offsetY:a=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=s,this.offsetX=i,this.offsetY=a,n*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let h,p,m,y;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,p=0,m=0,y=1;break;case 90:h=0,p=1,m=1,y=0;break;case 270:h=0,p=-1,m=-1,y=0;break;case 0:h=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,y=-y);let v,b,w,N;h===0?(v=Math.abs(f-e[1])*n+i,b=Math.abs(d-e[0])*n+a,w=(e[3]-e[1])*n,N=(e[2]-e[0])*n):(v=Math.abs(d-e[0])*n+i,b=Math.abs(f-e[1])*n+a,w=(e[2]-e[0])*n,N=(e[3]-e[1])*n),this.transform=[h*n,p*n,m*n,y*n,v-h*n*d-m*n*f,b-p*n*d-y*n*f],this.width=w,this.height=N}get rawDims(){const e=this.viewBox;return ht(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new Km({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return Xe.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Xe.applyTransform(t,this.transform);const n=[e[2],e[3]];return Xe.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Xe.applyInverseTransform(n,this.transform),n}}class PS extends uu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function _x(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function OS(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function AV(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function EV(r,e="document.pdf"){if(typeof r!="string")return e;if(_x(r))return nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const s=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},i=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(i.test(a))return s(a);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(i.test(f))return s(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(i.test(f))return s(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return s(d[0])}return e}class qT{constructor(){Me(this,"started",Object.create(null));Me(this,"times",[])}time(e){e in this.started&&nt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||nt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-s}ms
`);return e.join("")}}function vf(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ai(r){r.preventDefault()}function mn(r){r.preventDefault(),r.stopPropagation()}function kV(r){console.log("Deprecated API usage: "+r)}var ap;class RS{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,ap)||U(this,ap,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,ap).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(a+=h,c+=p):f==="+"&&(a-=h,c-=p),new Date(Date.UTC(n,s,i,a,c,d))}}ap=new WeakMap,H(RS,ap);function CV(r,{scale:e=1,rotation:t=0}){const{width:n,height:s}=r.attributes.style,i=[0,0,parseInt(n),parseInt(s)];return new Km({viewBox:i,userUnit:1,scale:e,rotation:t})}function MS(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(nt(`Not a valid color format: "${r}"`),[0,0,0])}function TV(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,MS(n))}e.remove()}function Gt(r){const{a:e,b:t,c:n,d:s,e:i,f:a}=r.getTransform();return[e,t,n,s,i,a]}function vi(r){const{a:e,b:t,c:n,d:s,e:i,f:a}=r.getTransform().invertSelf();return[e,t,n,s,i,a]}function ru(r,e,t=!1,n=!0){if(e instanceof Km){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:a}=r,c=Kn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${s}px`,f=`var(--total-scale-factor) * ${i}px`,h=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Gi{constructor(){const{pixelRatio:e}=Gi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,s,i=-1){let a=1/0,c=1/0,d=1/0;n=Gi.capPixels(n,i),n>0&&(a=Math.sqrt(n/(e*t))),s!==-1&&(c=s/e,d=s/t);const f=Math.min(a,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const y2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var No,ql,_s,So,op,ad,lp,My,y3,br,x3,v3,bf,L0;const ua=class ua{constructor(e){H(this,br);H(this,No,null);H(this,ql,null);H(this,_s);H(this,So,null);H(this,op,null);H(this,ad,null);U(this,_s,e),g(ua,lp)||U(ua,lp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=U(this,No,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,_s)._uiManager._signal;e.addEventListener("contextmenu",ai,{signal:t}),e.addEventListener("pointerdown",W(ua,My,y3),{signal:t});const n=U(this,So,document.createElement("div"));n.className="buttons",e.append(n);const s=g(this,_s).toolbarPosition;if(s){const{style:i}=e,a=g(this,_s)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return g(this,No)}hide(){var e;g(this,No).classList.add("hidden"),(e=g(this,ql))==null||e.hideDropdown()}show(){var e;g(this,No).classList.remove("hidden"),(e=g(this,op))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=g(this,_s),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(ua,lp)[e]),W(this,br,bf).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),g(this,So).append(n)}async addAltText(e){const t=await e.render();W(this,br,bf).call(this,t),g(this,So).append(t,g(this,br,L0)),U(this,op,e)}addColorPicker(e){U(this,ql,e);const t=e.renderButton();W(this,br,bf).call(this,t),g(this,So).append(t,g(this,br,L0))}async addEditSignatureButton(e){const t=U(this,ad,await e.renderEditButton(g(this,_s)));W(this,br,bf).call(this,t),g(this,So).append(t,g(this,br,L0))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){g(this,ad)&&(g(this,ad).title=e)}remove(){var e;g(this,No).remove(),(e=g(this,ql))==null||e.destroy(),U(this,ql,null)}};No=new WeakMap,ql=new WeakMap,_s=new WeakMap,So=new WeakMap,op=new WeakMap,ad=new WeakMap,lp=new WeakMap,My=new WeakSet,y3=function(e){e.stopPropagation()},br=new WeakSet,x3=function(e){g(this,_s)._focusEventsAllowed=!1,mn(e)},v3=function(e){g(this,_s)._focusEventsAllowed=!0,mn(e)},bf=function(e){const t=g(this,_s)._uiManager._signal;e.addEventListener("focusin",W(this,br,x3).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,br,v3).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ai,{signal:t})},L0=function(){const e=document.createElement("div");return e.className="divider",e},H(ua,My),H(ua,lp,null);let x2=ua;var cp,Vl,zl,dl,b3,w3,N3;class PV{constructor(e){H(this,dl);H(this,cp,null);H(this,Vl,null);H(this,zl);U(this,zl,e)}show(e,t,n){const[s,i]=W(this,dl,w3).call(this,t,n),{style:a}=g(this,Vl)||U(this,Vl,W(this,dl,b3).call(this));e.append(g(this,Vl)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Vl).remove()}}cp=new WeakMap,Vl=new WeakMap,zl=new WeakMap,dl=new WeakSet,b3=function(){const e=U(this,Vl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ai,{signal:g(this,zl)._signal});const t=U(this,cp,document.createElement("div"));return t.className="buttons",e.append(t),W(this,dl,N3).call(this),e},w3=function(e,t){let n=0,s=0;for(const i of e){const a=i.y+i.height;if(a<n)continue;const c=i.x+(t?i.width:0);if(a>n){s=c,n=a;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,n]},N3=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,zl)._signal;e.addEventListener("contextmenu",ai,{signal:n}),e.addEventListener("click",()=>{g(this,zl).highlightSelection("floating_button")},{signal:n}),g(this,cp).append(e)};function S3(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var Ly;class OV{constructor(){H(this,Ly,0)}get id(){return`${d3}${ur(this,Ly)._++}`}}Ly=new WeakMap;var od,up,rr,ld,I0;const $S=class $S{constructor(){H(this,ld);H(this,od,m3());H(this,up,0);H(this,rr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return ht(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:i}=e;return W(this,ld,I0).call(this,`${t}_${n}_${s}_${i}`,e)}async getFromUrl(e){return W(this,ld,I0).call(this,e,e)}async getFromBlob(e,t){const n=await t;return W(this,ld,I0).call(this,e,n)}async getFromId(e){g(this,rr)||U(this,rr,new Map);const t=g(this,rr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,rr)||U(this,rr,new Map);let n=g(this,rr).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${g(this,od)}_${ur(this,up)._++}`,refCounter:1,isSvg:!1},g(this,rr).set(e,n),g(this,rr).set(n.id,n),n}getSvgUrl(e){const t=g(this,rr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;g(this,rr)||U(this,rr,new Map);const t=g(this,rr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,od)}_`)}};od=new WeakMap,up=new WeakMap,rr=new WeakMap,ld=new WeakSet,I0=async function(e,t){g(this,rr)||U(this,rr,new Map);let n=g(this,rr).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,od)}_${ur(this,up)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await Gm(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=$S._isSVGFittingCanvas,a=new FileReader,c=new Image,d=new Promise((f,h)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},a.onload=async()=>{const p=n.svgUrl=a.result;c.src=await i?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=a.onerror=h});a.readAsDataURL(s),await d}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){nt(s),n=null}return g(this,rr).set(e,n),n&&g(this,rr).set(n.id,n),n};let v2=$S;var sn,jo,dp,Wt;class RV{constructor(e=128){H(this,sn,[]);H(this,jo,!1);H(this,dp);H(this,Wt,-1);U(this,dp,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(s&&e(),g(this,jo))return;const d={cmd:e,undo:t,post:n,type:i};if(g(this,Wt)===-1){g(this,sn).length>0&&(g(this,sn).length=0),U(this,Wt,0),g(this,sn).push(d);return}if(a&&g(this,sn)[g(this,Wt)].type===i){c&&(d.undo=g(this,sn)[g(this,Wt)].undo),g(this,sn)[g(this,Wt)]=d;return}const f=g(this,Wt)+1;f===g(this,dp)?g(this,sn).splice(0,1):(U(this,Wt,f),f<g(this,sn).length&&g(this,sn).splice(f)),g(this,sn).push(d)}undo(){if(g(this,Wt)===-1)return;U(this,jo,!0);const{undo:e,post:t}=g(this,sn)[g(this,Wt)];e(),t==null||t(),U(this,jo,!1),U(this,Wt,g(this,Wt)-1)}redo(){if(g(this,Wt)<g(this,sn).length-1){U(this,Wt,g(this,Wt)+1),U(this,jo,!0);const{cmd:e,post:t}=g(this,sn)[g(this,Wt)];e(),t==null||t(),U(this,jo,!1)}}hasSomethingToUndo(){return g(this,Wt)!==-1}hasSomethingToRedo(){return g(this,Wt)<g(this,sn).length-1}cleanType(e){if(g(this,Wt)!==-1){for(let t=g(this,Wt);t>=0;t--)if(g(this,sn)[t].type!==e){g(this,sn).splice(t+1,g(this,Wt)-t),U(this,Wt,t);return}g(this,sn).length=0,U(this,Wt,-1)}}destroy(){U(this,sn,null)}}sn=new WeakMap,jo=new WeakMap,dp=new WeakMap,Wt=new WeakMap;var Iy,j3;class Xm{constructor(e){H(this,Iy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Kn.platform;for(const[n,s,i={}]of e)for(const a of n){const c=a.startsWith("mac+");t&&c?(this.callbacks.set(a.slice(4),{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!c&&(this.callbacks.set(a,{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(W(this,Iy,j3).call(this,t));if(!n)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:c=null}}=n;c&&!c(e,t)||(s.bind(e,...a,t)(),i||mn(t))}}Iy=new WeakSet,j3=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Dy=class Dy{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return TV(e),ht(this,"_colors",e)}convert(e){const t=MS(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((i,a)=>i===t[a]))return Dy._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Xe.makeHexColor(...t):e}};Me(Dy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let b2=Dy;var cd,Xr,jn,Un,ud,ha,dd,As,_o,Ao,hd,Hl,ji,Hs,Wl,hp,fp,fd,pp,_i,Eo,pd,ko,Ai,Fy,Co,mp,To,Gl,Kl,Po,gp,Tn,St,fa,Oo,Xl,yp,xp,Ro,Ei,pa,vp,bp,Es,Ie,D0,w2,_3,A3,F0,E3,k3,C3,N2,T3,S2,j2,P3,dr,la,O3,R3,_2,M3,wf,A2;const rd=class rd{constructor(e,t,n,s,i,a,c,d,f,h,p,m,y,v,b){H(this,Ie);H(this,cd,new AbortController);H(this,Xr,null);H(this,jn,new Map);H(this,Un,new Map);H(this,ud,null);H(this,ha,null);H(this,dd,null);H(this,As,new RV);H(this,_o,null);H(this,Ao,null);H(this,hd,0);H(this,Hl,new Set);H(this,ji,null);H(this,Hs,null);H(this,Wl,new Set);Me(this,"_editorUndoBar",null);H(this,hp,!1);H(this,fp,!1);H(this,fd,!1);H(this,pp,null);H(this,_i,null);H(this,Eo,null);H(this,pd,null);H(this,ko,!1);H(this,Ai,null);H(this,Fy,new OV);H(this,Co,!1);H(this,mp,!1);H(this,To,null);H(this,Gl,null);H(this,Kl,null);H(this,Po,null);H(this,gp,null);H(this,Tn,tt.NONE);H(this,St,new Set);H(this,fa,null);H(this,Oo,null);H(this,Xl,null);H(this,yp,null);H(this,xp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});H(this,Ro,[0,0]);H(this,Ei,null);H(this,pa,null);H(this,vp,null);H(this,bp,null);H(this,Es,null);const w=this._signal=g(this,cd).signal;U(this,pa,e),U(this,vp,t),U(this,bp,n),U(this,ud,s),U(this,Oo,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:w}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),a._on("setpreference",this.onSetPreference.bind(this),{signal:w}),a._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:w}),W(this,Ie,E3).call(this),W(this,Ie,P3).call(this),W(this,Ie,N2).call(this),U(this,ha,c.annotationStorage),U(this,pp,c.filterFactory),U(this,Xl,d),U(this,pd,f||null),U(this,hp,h),U(this,fp,p),U(this,fd,m),U(this,gp,y||null),this.viewParameters={realScale:ul.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=b!==!1}static get _keyboardManager(){const e=rd.prototype,t=a=>g(a,pa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ht(this,"_keyboardManager",new Xm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&g(a,pa).contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&g(a,pa).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,n,s,i,a,c,d;(e=g(this,Es))==null||e.resolve(),U(this,Es,null),(t=g(this,cd))==null||t.abort(),U(this,cd,null),this._signal=null;for(const f of g(this,Un).values())f.destroy();g(this,Un).clear(),g(this,jn).clear(),g(this,Wl).clear(),(n=g(this,Po))==null||n.clear(),U(this,Xr,null),g(this,St).clear(),g(this,As).destroy(),(s=g(this,ud))==null||s.destroy(),(i=g(this,Oo))==null||i.destroy(),(a=g(this,Ai))==null||a.hide(),U(this,Ai,null),(c=g(this,Kl))==null||c.destroy(),U(this,Kl,null),g(this,_i)&&(clearTimeout(g(this,_i)),U(this,_i,null)),g(this,Ei)&&(clearTimeout(g(this,Ei)),U(this,Ei,null)),(d=this._editorUndoBar)==null||d.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,gp)}get useNewAltTextFlow(){return g(this,fp)}get useNewAltTextWhenAddingImage(){return g(this,fd)}get hcmFilter(){return ht(this,"hcmFilter",g(this,Xl)?g(this,pp).addHCMFilter(g(this,Xl).foreground,g(this,Xl).background):"none")}get direction(){return ht(this,"direction",getComputedStyle(g(this,pa)).direction)}get highlightColors(){return ht(this,"highlightColors",g(this,pd)?new Map(g(this,pd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return ht(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),U(this,Ao,e)}setMainHighlightColorPicker(e){U(this,Kl,e)}editAltText(e,t=!1){var n;(n=g(this,ud))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=g(this,Oo))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return g(this,Oo)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":U(this,fd,t);break}}onPageChanging({pageNumber:e}){U(this,hd,e-1)}focusMainContainer(){g(this,pa).focus()}findParent(e,t){for(const n of g(this,Un).values()){const{x:s,y:i,width:a,height:c}=n.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=i&&t<=i+c)return n}return null}disableUserSelect(e=!1){g(this,vp).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Wl).add(e)}removeShouldRescale(e){g(this,Wl).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ul.PDF_TO_CSS_UNITS;for(const n of g(this,Wl))n.onScaleChanging();(t=g(this,Ao))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:a}=t,c=t.toString(),f=W(this,Ie,D0).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;t.empty();const p=W(this,Ie,w2).call(this,f),m=g(this,Tn)===tt.NONE,y=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:a,text:c}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(tt.HIGHLIGHT,y);return}y()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,ha)&&!g(this,ha).has(e.id)&&g(this,ha).setValue(e.id,e)}a11yAlert(e,t=null){const n=g(this,bp);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,g(this,ko)&&(U(this,ko,!1),W(this,Ie,F0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,St))if(t.div.contains(e)){U(this,Gl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,Gl))return;const[e,t]=g(this,Gl);U(this,Gl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,Ie,N2).call(this),W(this,Ie,S2).call(this)}removeEditListeners(){W(this,Ie,T3).call(this),W(this,Ie,j2).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,Hs))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,Hs))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,Xr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of g(this,St)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of g(this,Hs))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){nt(`paste: "${i.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const d of n){const f=await s.deserialize(d);if(!f)return;i.push(f)}const a=()=>{for(const d of i)W(this,Ie,_2).call(this,d);W(this,Ie,A2).call(this,i)},c=()=>{for(const d of i)d.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(i){nt(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Tn)!==tt.NONE&&!this.isEditorHandlingKeyboard&&rd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,ko)&&(U(this,ko,!1),W(this,Ie,F0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,Ie,k3).call(this),W(this,Ie,S2).call(this),W(this,Ie,dr).call(this,{isEditing:g(this,Tn)!==tt.NONE,isEmpty:W(this,Ie,wf).call(this),hasSomethingToUndo:g(this,As).hasSomethingToUndo(),hasSomethingToRedo:g(this,As).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,Ie,C3).call(this),W(this,Ie,j2).call(this),W(this,Ie,dr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,Hs)){U(this,Hs,e);for(const t of g(this,Hs))W(this,Ie,la).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,Fy).id}get currentLayer(){return g(this,Un).get(g(this,hd))}getLayer(e){return g(this,Un).get(e)}get currentPageIndex(){return g(this,hd)}addLayer(e){g(this,Un).set(e.pageIndex,e),g(this,Co)?e.enable():e.disable()}removeLayer(e){g(this,Un).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,s=!1){var i,a,c;if(g(this,Tn)!==e&&!(g(this,Es)&&(await g(this,Es).promise,!g(this,Es)))){if(U(this,Es,Promise.withResolvers()),(i=g(this,Ao))==null||i.commitOrRemove(),U(this,Tn,e),e===tt.NONE){this.setEditingState(!1),W(this,Ie,R3).call(this),(a=this._editorUndoBar)==null||a.hide(),g(this,Es).resolve();return}e===tt.SIGNATURE&&await((c=g(this,Oo))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await W(this,Ie,O3).call(this),this.unselectAll();for(const d of g(this,Un).values())d.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),g(this,Es).resolve();return}for(const d of g(this,jn).values())d.annotationElementId===t||d.id===t?(this.setSelected(d),s&&d.enterInEditMode()):d.unselect();g(this,Es).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==g(this,Tn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(g(this,Hs)){switch(e){case pt.CREATE:this.currentLayer.addNewEditor(t);return;case pt.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Kl))==null||n.updateColor(t);break;case pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,yp)||U(this,yp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of g(this,St))s.updateParams(e,t);for(const s of g(this,Hs))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var i;for(const a of g(this,jn).values())a.editorType===e&&a.show(t);(((i=g(this,yp))==null?void 0:i.get(pt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,Ie,la).call(this,[[pt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,mp)!==e){U(this,mp,e);for(const t of g(this,Un).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,jn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,jn).get(e)}addEditor(e){g(this,jn).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(g(this,_i)&&clearTimeout(g(this,_i)),U(this,_i,setTimeout(()=>{this.focusMainContainer(),U(this,_i,null)},0))),g(this,jn).delete(e.id),e.annotationElementId&&((t=g(this,Po))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!g(this,Hl).has(e.annotationElementId))&&((n=g(this,ha))==null||n.remove(e.id))}addDeletedAnnotationElement(e){g(this,Hl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Hl).has(e)}removeDeletedAnnotationElement(e){g(this,Hl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Xr)!==e&&(U(this,Xr,e),e&&W(this,Ie,la).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Ie,M3)===e&&W(this,Ie,la).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){W(this,Ie,la).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(g(this,St).has(e)){g(this,St).delete(e),e.unselect(),W(this,Ie,dr).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,St).add(e),e.select(),W(this,Ie,la).call(this,e.propertiesToUpdate),W(this,Ie,dr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=g(this,Ao))==null||t.commitOrRemove();for(const n of g(this,St))n!==e&&n.unselect();g(this,St).clear(),g(this,St).add(e),e.select(),W(this,Ie,la).call(this,e.propertiesToUpdate),W(this,Ie,dr).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,St).has(e)}get firstSelectedEditor(){return g(this,St).values().next().value}unselect(e){e.unselect(),g(this,St).delete(e),W(this,Ie,dr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,St).size!==0}get isEnterHandled(){return g(this,St).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;g(this,As).undo(),W(this,Ie,dr).call(this,{hasSomethingToUndo:g(this,As).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,Ie,wf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){g(this,As).redo(),W(this,Ie,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,As).hasSomethingToRedo(),isEmpty:W(this,Ie,wf).call(this)})}addCommands(e){g(this,As).add(e),W(this,Ie,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,Ie,wf).call(this)})}cleanUndoStack(e){g(this,As).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...g(this,St)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,t.length===1?t[0].editorType:t.length);for(const c of t)c.remove()},s=()=>{for(const a of t)W(this,Ie,_2).call(this,a)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Xr))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Xr)||this.hasSelection}selectAll(){for(const e of g(this,St))e.commit();W(this,Ie,A2).call(this,g(this,jn).values())}unselectAll(){var e;if(!(g(this,Xr)&&(g(this,Xr).commitOrRemove(),g(this,Tn)!==tt.NONE))&&!((e=g(this,Ao))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of g(this,St))t.unselect();g(this,St).clear(),W(this,Ie,dr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Ro)[0]+=e,g(this,Ro)[1]+=t;const[s,i]=g(this,Ro),a=[...g(this,St)],c=1e3;g(this,Ei)&&clearTimeout(g(this,Ei)),U(this,Ei,setTimeout(()=>{U(this,Ei,null),g(this,Ro)[0]=g(this,Ro)[1]=0,this.addCommands({cmd:()=>{for(const d of a)g(this,jn).has(d.id)&&(d.translateInPage(s,i),d.translationDone())},undo:()=>{for(const d of a)g(this,jn).has(d.id)&&(d.translateInPage(-s,-i),d.translationDone())},mustExec:!1})},c));for(const d of a)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),U(this,ji,new Map);for(const e of g(this,St))g(this,ji).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,ji))return!1;this.disableUserSelect(!1);const e=g(this,ji);U(this,ji,null);let t=!1;for(const[{x:s,y:i,pageIndex:a},c]of e)c.newX=s,c.newY=i,c.newPageIndex=a,t||(t=s!==c.savedX||i!==c.savedY||a!==c.savedPageIndex);if(!t)return!1;const n=(s,i,a,c)=>{if(g(this,jn).has(s.id)){const d=g(this,Un).get(c);d?s._setParentAndPosition(d,i,a):(s.pageIndex=c,s.x=i,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:a,newPageIndex:c}]of e)n(s,i,a,c)},undo:()=>{for(const[s,{savedX:i,savedY:a,savedPageIndex:c}]of e)n(s,i,a,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,ji))for(const n of g(this,ji).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,St).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Xr)===e}getActive(){return g(this,Xr)}getMode(){return g(this,Tn)}get imageManager(){return ht(this,"imageManager",new v2)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,h=t.rangeCount;f<h;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:i,height:a}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,h,p,m)=>({x:(h-s)/a,y:1-(f+p-n)/i,width:m/a,height:p/i});break;case"180":c=(f,h,p,m)=>({x:1-(f+p-n)/i,y:1-(h+m-s)/a,width:p/i,height:m/a});break;case"270":c=(f,h,p,m)=>({x:1-(h+m-s)/a,y:(f-n)/i,width:m/a,height:p/i});break;default:c=(f,h,p,m)=>({x:(f-n)/i,y:(h-s)/a,width:p/i,height:m/a});break}const d=[];for(let f=0,h=t.rangeCount;f<h;f++){const p=t.getRangeAt(f);if(!p.collapsed)for(const{x:m,y,width:v,height:b}of p.getClientRects())v===0||b===0||d.push(c(m,y,v,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,dd)||U(this,dd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,dd))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=g(this,dd))==null?void 0:s.get(e.data.id);if(!t)return;const n=g(this,ha).getRawValue(t);n&&(g(this,Tn)===tt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var i;const s=(i=g(this,Po))==null?void 0:i.get(e);s&&(s.setCanvas(t,n),g(this,Po).delete(e))}addMissingCanvas(e,t){(g(this,Po)||U(this,Po,new Map)).set(e,t)}};cd=new WeakMap,Xr=new WeakMap,jn=new WeakMap,Un=new WeakMap,ud=new WeakMap,ha=new WeakMap,dd=new WeakMap,As=new WeakMap,_o=new WeakMap,Ao=new WeakMap,hd=new WeakMap,Hl=new WeakMap,ji=new WeakMap,Hs=new WeakMap,Wl=new WeakMap,hp=new WeakMap,fp=new WeakMap,fd=new WeakMap,pp=new WeakMap,_i=new WeakMap,Eo=new WeakMap,pd=new WeakMap,ko=new WeakMap,Ai=new WeakMap,Fy=new WeakMap,Co=new WeakMap,mp=new WeakMap,To=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,Po=new WeakMap,gp=new WeakMap,Tn=new WeakMap,St=new WeakMap,fa=new WeakMap,Oo=new WeakMap,Xl=new WeakMap,yp=new WeakMap,xp=new WeakMap,Ro=new WeakMap,Ei=new WeakMap,pa=new WeakMap,vp=new WeakMap,bp=new WeakMap,Es=new WeakMap,Ie=new WeakSet,D0=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},w2=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of g(this,Un).values())if(n.hasTextLayer(e))return n;return null},_3=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=W(this,Ie,D0).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(g(this,Ai)||U(this,Ai,new PV(this)),g(this,Ai).show(n,s,this.direction==="ltr"))},A3=function(){var i,a,c;const e=document.getSelection();if(!e||e.isCollapsed){g(this,fa)&&((i=g(this,Ai))==null||i.hide(),U(this,fa,null),W(this,Ie,dr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,fa))return;const s=W(this,Ie,D0).call(this,e).closest(".textLayer");if(!s){g(this,fa)&&((a=g(this,Ai))==null||a.hide(),U(this,fa,null),W(this,Ie,dr).call(this,{hasSelectedText:!1}));return}if((c=g(this,Ai))==null||c.hide(),U(this,fa,t),W(this,Ie,dr).call(this,{hasSelectedText:!0}),!(g(this,Tn)!==tt.HIGHLIGHT&&g(this,Tn)!==tt.NONE)&&(g(this,Tn)===tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),U(this,ko,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=g(this,Tn)===tt.HIGHLIGHT?W(this,Ie,w2).call(this,s):null;d==null||d.toggleDrawing();const f=new AbortController,h=this.combinedSignal(f),p=m=>{m.type==="pointerup"&&m.button!==0||(f.abort(),d==null||d.toggleDrawing(!0),m.type==="pointerup"&&W(this,Ie,F0).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},F0=function(e=""){g(this,Tn)===tt.HIGHLIGHT?this.highlightSelection(e):g(this,hp)&&W(this,Ie,_3).call(this)},E3=function(){document.addEventListener("selectionchange",W(this,Ie,A3).bind(this),{signal:this._signal})},k3=function(){if(g(this,Eo))return;U(this,Eo,new AbortController);const e=this.combinedSignal(g(this,Eo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},C3=function(){var e;(e=g(this,Eo))==null||e.abort(),U(this,Eo,null)},N2=function(){if(g(this,To))return;U(this,To,new AbortController);const e=this.combinedSignal(g(this,To));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},T3=function(){var e;(e=g(this,To))==null||e.abort(),U(this,To,null)},S2=function(){if(g(this,_o))return;U(this,_o,new AbortController);const e=this.combinedSignal(g(this,_o));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},j2=function(){var e;(e=g(this,_o))==null||e.abort(),U(this,_o,null)},P3=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},dr=function(e){Object.entries(e).some(([n,s])=>g(this,xp)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,xp),e)}),g(this,Tn)===tt.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,Ie,la).call(this,[[pt.HIGHLIGHT_FREE,!0]]))},la=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},O3=async function(){if(!g(this,Co)){U(this,Co,!0);const e=[];for(const t of g(this,Un).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,jn).values())t.enable()}},R3=function(){if(this.unselectAll(),g(this,Co)){U(this,Co,!1);for(const e of g(this,Un).values())e.disable();for(const e of g(this,jn).values())e.disable()}},_2=function(e){const t=g(this,Un).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},M3=function(){let e=null;for(e of g(this,St));return e},wf=function(){if(g(this,jn).size===0)return!0;if(g(this,jn).size===1)for(const e of g(this,jn).values())return e.isEmpty();return!1},A2=function(e){for(const t of g(this,St))t.unselect();g(this,St).clear();for(const t of e)t.isEmpty()||(g(this,St).add(t),t.select());W(this,Ie,dr).call(this,{hasSelectedEditor:this.hasSelection})},Me(rd,"TRANSLATE_SMALL",1),Me(rd,"TRANSLATE_BIG",10);let su=rd;var Pn,ki,Ws,md,Ci,Yr,gd,Ti,Or,ma,Yl,Pi,Mo,ii,Nf,B0;const hr=class hr{constructor(e){H(this,ii);H(this,Pn,null);H(this,ki,!1);H(this,Ws,null);H(this,md,null);H(this,Ci,null);H(this,Yr,null);H(this,gd,!1);H(this,Ti,null);H(this,Or,null);H(this,ma,null);H(this,Yl,null);H(this,Pi,!1);U(this,Or,e),U(this,Pi,e._uiManager.useNewAltTextFlow),g(hr,Mo)||U(hr,Mo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){hr._l10n??(hr._l10n=e)}async render(){const e=U(this,Ws,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=U(this,md,document.createElement("span"));e.append(t),g(this,Pi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(hr,Mo).missing),t.setAttribute("data-l10n-id",g(hr,Mo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,Or)._uiManager._signal;e.addEventListener("contextmenu",ai,{signal:n}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const s=i=>{i.preventDefault(),g(this,Or)._uiManager.editAltText(g(this,Or)),g(this,Pi)&&g(this,Or)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,ii,Nf)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(U(this,gd,!0),s(i))},{signal:n}),await W(this,ii,B0).call(this),e}finish(){g(this,Ws)&&(g(this,Ws).focus({focusVisible:g(this,gd)}),U(this,gd,!1))}isEmpty(){return g(this,Pi)?g(this,Pn)===null:!g(this,Pn)&&!g(this,ki)}hasData(){return g(this,Pi)?g(this,Pn)!==null||!!g(this,ma):this.isEmpty()}get guessedText(){return g(this,ma)}async setGuessedText(e){g(this,Pn)===null&&(U(this,ma,e),U(this,Yl,await hr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,ii,B0).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,Pi)||g(this,Pn)){(t=g(this,Ti))==null||t.remove(),U(this,Ti,null);return}if(!g(this,Ti)){const n=U(this,Ti,document.createElement("div"));n.className="noAltTextBadge",g(this,Or).div.append(n)}g(this,Ti).classList.toggle("hidden",!e)}serialize(e){let t=g(this,Pn);return!e&&g(this,ma)===t&&(t=g(this,Yl)),{altText:t,decorative:g(this,ki),guessedText:g(this,ma),textWithDisclaimer:g(this,Yl)}}get data(){return{altText:g(this,Pn),decorative:g(this,ki)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:i=!1}){n&&(U(this,ma,n),U(this,Yl,s)),!(g(this,Pn)===e&&g(this,ki)===t)&&(i||(U(this,Pn,e),U(this,ki,t)),W(this,ii,B0).call(this))}toggle(e=!1){g(this,Ws)&&(!e&&g(this,Yr)&&(clearTimeout(g(this,Yr)),U(this,Yr,null)),g(this,Ws).disabled=!e)}shown(){g(this,Or)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,ii,Nf)}})}destroy(){var e,t;(e=g(this,Ws))==null||e.remove(),U(this,Ws,null),U(this,md,null),U(this,Ci,null),(t=g(this,Ti))==null||t.remove(),U(this,Ti,null)}};Pn=new WeakMap,ki=new WeakMap,Ws=new WeakMap,md=new WeakMap,Ci=new WeakMap,Yr=new WeakMap,gd=new WeakMap,Ti=new WeakMap,Or=new WeakMap,ma=new WeakMap,Yl=new WeakMap,Pi=new WeakMap,Mo=new WeakMap,ii=new WeakSet,Nf=function(){return g(this,Pn)&&"added"||g(this,Pn)===null&&this.guessedText&&"review"||"missing"},B0=async function(){var s,i,a;const e=g(this,Ws);if(!e)return;if(g(this,Pi)){if(e.classList.toggle("done",!!g(this,Pn)),e.setAttribute("data-l10n-id",g(hr,Mo)[g(this,ii,Nf)]),(s=g(this,md))==null||s.setAttribute("data-l10n-id",g(hr,Mo)[`${g(this,ii,Nf)}-label`]),!g(this,Pn)){(i=g(this,Ci))==null||i.remove();return}}else{if(!g(this,Pn)&&!g(this,ki)){e.classList.remove("done"),(a=g(this,Ci))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,Ci);if(!t){U(this,Ci,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,Or).id}`;const c=100,d=g(this,Or)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(g(this,Yr)),U(this,Yr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{U(this,Yr,setTimeout(()=>{U(this,Yr,null),g(this,Ci).classList.add("show"),g(this,Or)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;g(this,Yr)&&(clearTimeout(g(this,Yr)),U(this,Yr,null)),(f=g(this,Ci))==null||f.classList.remove("show")},{signal:d})}g(this,ki)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,Pn)),t.parentNode||e.append(t);const n=g(this,Or).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},H(hr,Mo,null),Me(hr,"_l10n",null);let Ey=hr;var yd,Ql,wp,Np,Sp,jp,_p,ga,Zl,ya,Jl,xa,hl,L3,I3,D3;const qS=class qS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:a=null,signal:c}){H(this,hl);H(this,yd);H(this,Ql,!1);H(this,wp,null);H(this,Np);H(this,Sp);H(this,jp);H(this,_p);H(this,ga,null);H(this,Zl);H(this,ya,null);H(this,Jl);H(this,xa,null);U(this,yd,e),U(this,wp,n),U(this,Np,t),U(this,Sp,s),U(this,jp,i),U(this,_p,a),U(this,Jl,new AbortController),U(this,Zl,AbortSignal.any([c,g(this,Jl).signal])),e.addEventListener("touchstart",W(this,hl,L3).bind(this),{passive:!1,signal:g(this,Zl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Gi.pixelRatio}destroy(){var e,t;(e=g(this,Jl))==null||e.abort(),U(this,Jl,null),(t=g(this,ga))==null||t.abort(),U(this,ga,null)}};yd=new WeakMap,Ql=new WeakMap,wp=new WeakMap,Np=new WeakMap,Sp=new WeakMap,jp=new WeakMap,_p=new WeakMap,ga=new WeakMap,Zl=new WeakMap,ya=new WeakMap,Jl=new WeakMap,xa=new WeakMap,hl=new WeakSet,L3=function(e){var s,i,a;if((s=g(this,Np))!=null&&s.call(this))return;if(e.touches.length===1){if(g(this,ga))return;const c=U(this,ga,new AbortController),d=AbortSignal.any([g(this,Zl),c.signal]),f=g(this,yd),h={capture:!0,signal:d,passive:!1},p=m=>{var y;m.pointerType==="touch"&&((y=g(this,ga))==null||y.abort(),U(this,ga,null))};f.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(mn(m),p(m))},h),f.addEventListener("pointerup",p,h),f.addEventListener("pointercancel",p,h);return}if(!g(this,xa)){U(this,xa,new AbortController);const c=AbortSignal.any([g(this,Zl),g(this,xa).signal]),d=g(this,yd),f={signal:c,capture:!1,passive:!1};d.addEventListener("touchmove",W(this,hl,I3).bind(this),f);const h=W(this,hl,D3).bind(this);d.addEventListener("touchend",h,f),d.addEventListener("touchcancel",h,f),f.capture=!0,d.addEventListener("pointerdown",mn,f),d.addEventListener("pointermove",mn,f),d.addEventListener("pointercancel",mn,f),d.addEventListener("pointerup",mn,f),(i=g(this,Sp))==null||i.call(this)}if(mn(e),e.touches.length!==2||(a=g(this,wp))!=null&&a.call(this)){U(this,ya,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),U(this,ya,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},I3=function(e){var S;if(!g(this,ya)||e.touches.length!==2)return;mn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:s,screenY:i}=t,{screenX:a,screenY:c}=n,d=g(this,ya),{touch0X:f,touch0Y:h,touch1X:p,touch1Y:m}=d,y=p-f,v=m-h,b=a-s,w=c-i,N=Math.hypot(b,w)||1,j=Math.hypot(y,v)||1;if(!g(this,Ql)&&Math.abs(j-N)<=qS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=s,d.touch0Y=i,d.touch1X=a,d.touch1Y=c,!g(this,Ql)){U(this,Ql,!0);return}const E=[(s+a)/2,(i+c)/2];(S=g(this,jp))==null||S.call(this,E,j,N)},D3=function(e){var t;e.touches.length>=2||(g(this,xa)&&(g(this,xa).abort(),U(this,xa,null),(t=g(this,_p))==null||t.call(this)),g(this,ya)&&(mn(e),U(this,ya,null),U(this,Ql,!1)))};let ky=qS;var ec,Gs,Ut,xd,Lo,Ap,tc,$n,nc,va,Io,Ep,rc,Qr,kp,sc,ba,Oi,vd,bd,ks,ic,Cp,By,Ze,E2,Tp,k2,U0,F3,B3,C2,$0,T2,U3,$3,q3,P2,V3,O2,z3,H3,W3,R2,Sf;const at=class at{constructor(e){H(this,Ze);H(this,ec,null);H(this,Gs,null);H(this,Ut,null);H(this,xd,!1);H(this,Lo,null);H(this,Ap,"");H(this,tc,!1);H(this,$n,null);H(this,nc,null);H(this,va,null);H(this,Io,null);H(this,Ep,"");H(this,rc,!1);H(this,Qr,null);H(this,kp,!1);H(this,sc,!1);H(this,ba,!1);H(this,Oi,null);H(this,vd,0);H(this,bd,0);H(this,ks,null);H(this,ic,null);Me(this,"isSelected",!1);Me(this,"_isCopy",!1);Me(this,"_editToolbar",null);Me(this,"_initialOptions",Object.create(null));Me(this,"_initialData",null);Me(this,"_isVisible",!0);Me(this,"_uiManager",null);Me(this,"_focusEventsAllowed",!0);H(this,Cp,!1);H(this,By,at._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[i,a];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=at.prototype._resizeWithKeyboard,t=su.TRANSLATE_SMALL,n=su.TRANSLATE_BIG;return ht(this,"_resizerKeyboardManager",new Xm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],at.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ht(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new MV({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(at._l10n??(at._l10n=e),at._l10nResizer||(at._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),at._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);at._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Cp)}set _isDraggable(e){var t;U(this,Cp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,By)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,Ze,Sf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,rc)?U(this,rc,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[i,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/i,this.y=(t+s)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,s]=this.parentDimensions;this.setAt(e*n,t*s,this.width*n,this.height*s),this._onTranslated()}translate(e,t){W(this,Ze,E2).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,Qr)||U(this,Qr,[this.x,this.y,this.width,this.height]),W(this,Ze,E2).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){g(this,Qr)||U(this,Qr,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:c}=this;const[d,f]=this.getBaseTranslation();a+=d,c+=f;const{style:h}=n;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*c).toFixed(2)}%`,this._onTranslating(a,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!g(this,Qr)&&(g(this,Qr)[0]!==this.x||g(this,Qr)[1]!==this.y)}get _hasBeenResized(){return!!g(this,Qr)&&(g(this,Qr)[2]!==this.width||g(this,Qr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=at,s=n/e,i=n/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,s]}=this;let{x:i,y:a,width:c,height:d}=this;if(c*=n,d*=s,i*=n,a*=s,this._mustFixPosition)switch(e){case 0:i=yr(i,0,n-c),a=yr(a,0,s-d);break;case 90:i=yr(i,0,n-d),a=yr(a,c,s);break;case 180:i=yr(i,c,n),a=yr(a,d,s);break;case 270:i=yr(i,d,n),a=yr(a,0,s-c);break}this.x=i/=n,this.y=a/=s;const[f,h]=this.getBaseTranslation();i+=f,a+=h,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return W(n=at,Tp,k2).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return W(n=at,Tp,k2).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/n).toFixed(2)}%`,g(this,tc)||(i.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),i=!g(this,tc)&&t.endsWith("%");if(s&&i)return;const[a,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!g(this,tc)&&!i&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=g(this,Ut))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||g(this,sc))return this._editToolbar;this._editToolbar=new x2(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,Ut))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return g(this,Ut)||(Ey.initialize(at._l10n),U(this,Ut,new Ey(this)),g(this,ec)&&(g(this,Ut).data=g(this,ec),U(this,ec,null))),g(this,Ut)}get altTextData(){var e;return(e=g(this,Ut))==null?void 0:e.data}set altTextData(e){g(this,Ut)&&(g(this,Ut).data=e)}get guessedAltText(){var e;return(e=g(this,Ut))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,Ut))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,Ut))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,Ut)&&!g(this,Ut).isEmpty()}hasAltTextData(){var e;return((e=g(this,Ut))==null?void 0:e.hasData())??!1}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=g(this,xd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),W(this,Ze,O2).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),S3(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(g(this,ic)||U(this,ic,new ky({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:W(this,Ze,U3).bind(this),onPinching:W(this,Ze,$3).bind(this),onPinchEnd:W(this,Ze,q3).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Kn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(U(this,rc,!0),this._isDraggable){W(this,Ze,V3).call(this,e);return}W(this,Ze,P2).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){g(this,Oi)&&clearTimeout(g(this,Oi)),U(this,Oi,setTimeout(()=>{var e;U(this,Oi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const s=this.parentScale,[i,a]=this.pageDimensions,[c,d]=this.pageTranslation,f=e/s,h=t/s,p=this.x*i,m=this.y*a,y=this.width*i,v=this.height*a;switch(n){case 0:return[p+f+c,a-m-h-v+d,p+f+y+c,a-m-h+d];case 90:return[p+h+c,a-m+f+d,p+h+v+c,a-m+f+y+d];case 180:return[p-f-y+c,a-m+h+d,p-f+c,a-m+h+v+d];case 270:return[p-h-v+c,a-m-f-y+d,p-h+c,a-m-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,i,a]=e,c=i-n,d=a-s;switch(this.rotation){case 0:return[n,t-a,c,d];case 90:return[n,t-s,d,c];case 180:return[i,t-s,c,d];case 270:return[i,t-a,d,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),U(this,sc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),U(this,sc,!1),!0):!1}isInEditMode(){return g(this,sc)}shouldGetKeyboardEvents(){return g(this,ba)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&s>0&&e<i&&n>0}rebuild(){W(this,Ze,O2).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){kt("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});s.rotation=e.rotation,U(s,ec,e.accessibilityData),s._isCopy=e.isCopy||!1;const[i,a]=s.pageDimensions,[c,d,f,h]=s.getRectInCurrentCoords(e.rect,a);return s.x=c/i,s.y=d/a,s.width=f/i,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=g(this,Io))==null||e.abort(),U(this,Io,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Oi)&&(clearTimeout(g(this,Oi)),U(this,Oi,null)),W(this,Ze,Sf).call(this),this.removeEditToolbar(),g(this,ks)){for(const n of g(this,ks).values())clearTimeout(n);U(this,ks,null)}this.parent=null,(t=g(this,ic))==null||t.destroy(),U(this,ic,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,Ze,F3).call(this),g(this,$n).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),U(this,va,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,$n).children;if(!g(this,Gs)){U(this,Gs,Array.from(t));const a=W(this,Ze,z3).bind(this),c=W(this,Ze,H3).bind(this),d=this._uiManager._signal;for(const f of g(this,Gs)){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",a,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",W(this,Ze,W3).bind(this,h),{signal:d}),f.setAttribute("data-l10n-id",at._l10nResizer[h])}}const n=g(this,Gs)[0];let s=0;for(const a of t){if(a===n)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(g(this,Gs).length/4);if(i!==s){if(i<s)for(let c=0;c<s-i;c++)g(this,$n).append(g(this,$n).firstChild);else if(i>s)for(let c=0;c<i-s;c++)g(this,$n).firstChild.before(g(this,$n).lastChild);let a=0;for(const c of t){const f=g(this,Gs)[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",at._l10nResizer[f])}}W(this,Ze,R2).call(this,0),U(this,ba,!0),g(this,$n).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,ba)&&W(this,Ze,T2).call(this,g(this,Ep),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){W(this,Ze,Sf).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(n=g(this,Ut))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,s,i;this.isSelected&&(this.isSelected=!1,(e=g(this,$n))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=g(this,Ut))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return g(this,kp)}set isEditing(e){U(this,kp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){U(this,tc,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,ks)||U(this,ks,new Map);const{action:n}=e;let s=g(this,ks).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),g(this,ks).delete(n),g(this,ks).size===0&&U(this,ks,null)},at._telemetryTimeout),g(this,ks).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),U(this,xd,!1)}disable(){this.div&&(this.div.tabIndex=-1),U(this,xd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ec=new WeakMap,Gs=new WeakMap,Ut=new WeakMap,xd=new WeakMap,Lo=new WeakMap,Ap=new WeakMap,tc=new WeakMap,$n=new WeakMap,nc=new WeakMap,va=new WeakMap,Io=new WeakMap,Ep=new WeakMap,rc=new WeakMap,Qr=new WeakMap,kp=new WeakMap,sc=new WeakMap,ba=new WeakMap,Oi=new WeakMap,vd=new WeakMap,bd=new WeakMap,ks=new WeakMap,ic=new WeakMap,Cp=new WeakMap,By=new WeakMap,Ze=new WeakSet,E2=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Tp=new WeakSet,k2=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},U0=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},F3=function(){if(g(this,$n))return;U(this,$n,document.createElement("div")),g(this,$n).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");g(this,$n).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",W(this,Ze,B3).bind(this,n),{signal:t}),s.addEventListener("contextmenu",ai,{signal:t}),s.tabIndex=-1}this.div.prepend(g(this,$n))},B3=function(e,t){var h;t.preventDefault();const{isMac:n}=Kn.platform;if(t.button!==0||t.ctrlKey&&n)return;(h=g(this,Ut))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,U(this,nc,[t.screenX,t.screenY]);const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,Ze,T2).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",mn,{passive:!1,signal:a}),window.addEventListener("contextmenu",ai,{signal:a}),U(this,va,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var p;i.abort(),this.parent.togglePointerEvents(!0),(p=g(this,Ut))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=d,W(this,Ze,$0).call(this)};window.addEventListener("pointerup",f,{signal:a}),window.addEventListener("blur",f,{signal:a})},C2=function(e,t,n,s){this.width=n,this.height=s,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*n,a*s),this.fixAndSetPosition(),this._onResized()},$0=function(){if(!g(this,va))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=g(this,va);U(this,va,null);const i=this.x,a=this.y,c=this.width,d=this.height;i===e&&a===t&&c===n&&d===s||this.addCommands({cmd:W(this,Ze,C2).bind(this,i,a,c,d),undo:W(this,Ze,C2).bind(this,e,t,n,s),mustExec:!0})},T2=function(e,t){const[n,s]=this.parentDimensions,i=this.x,a=this.y,c=this.width,d=this.height,f=at.MIN_SIZE/n,h=at.MIN_SIZE/s,p=W(this,Ze,U0).call(this,this.rotation),m=(se,Q)=>[p[0]*se+p[2]*Q,p[1]*se+p[3]*Q],y=W(this,Ze,U0).call(this,360-this.rotation),v=(se,Q)=>[y[0]*se+y[2]*Q,y[1]*se+y[3]*Q];let b,w,N=!1,j=!1;switch(e){case"topLeft":N=!0,b=(se,Q)=>[0,0],w=(se,Q)=>[se,Q];break;case"topMiddle":b=(se,Q)=>[se/2,0],w=(se,Q)=>[se/2,Q];break;case"topRight":N=!0,b=(se,Q)=>[se,0],w=(se,Q)=>[0,Q];break;case"middleRight":j=!0,b=(se,Q)=>[se,Q/2],w=(se,Q)=>[0,Q/2];break;case"bottomRight":N=!0,b=(se,Q)=>[se,Q],w=(se,Q)=>[0,0];break;case"bottomMiddle":b=(se,Q)=>[se/2,Q],w=(se,Q)=>[se/2,0];break;case"bottomLeft":N=!0,b=(se,Q)=>[0,Q],w=(se,Q)=>[se,0];break;case"middleLeft":j=!0,b=(se,Q)=>[0,Q/2],w=(se,Q)=>[se,Q/2];break}const E=b(c,d),S=w(c,d);let A=m(...S);const T=at._round(i+A[0]),k=at._round(a+A[1]);let P=1,D=1,O,R;if(t.fromKeyboard)({deltaX:O,deltaY:R}=t);else{const{screenX:se,screenY:Q}=t,[oe,ne]=g(this,nc);[O,R]=this.screenToPageTranslation(se-oe,Q-ne),g(this,nc)[0]=se,g(this,nc)[1]=Q}if([O,R]=v(O/n,R/s),N){const se=Math.hypot(c,d);P=D=Math.max(Math.min(Math.hypot(S[0]-E[0]-O,S[1]-E[1]-R)/se,1/c,1/d),f/c,h/d)}else j?P=yr(Math.abs(S[0]-E[0]-O),f,1)/c:D=yr(Math.abs(S[1]-E[1]-R),h,1)/d;const F=at._round(c*P),$=at._round(d*D);A=m(...w(F,$));const z=T-A[0],Z=k-A[1];g(this,Qr)||U(this,Qr,[this.x,this.y,this.width,this.height]),this.width=F,this.height=$,this.x=z,this.y=Z,this.setDims(n*F,s*$),this.fixAndSetPosition(),this._onResizing()},U3=function(){var e;U(this,va,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=g(this,Ut))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},$3=function(e,t,n){let i=.7*(n/t)+1-.7;if(i===1)return;const a=W(this,Ze,U0).call(this,this.rotation),c=(T,k)=>[a[0]*T+a[2]*k,a[1]*T+a[3]*k],[d,f]=this.parentDimensions,h=this.x,p=this.y,m=this.width,y=this.height,v=at.MIN_SIZE/d,b=at.MIN_SIZE/f;i=Math.max(Math.min(i,1/m,1/y),v/m,b/y);const w=at._round(m*i),N=at._round(y*i);if(w===m&&N===y)return;g(this,Qr)||U(this,Qr,[h,p,m,y]);const j=c(m/2,y/2),E=at._round(h+j[0]),S=at._round(p+j[1]),A=c(w/2,N/2);this.x=E-A[0],this.y=S-A[1],this.width=w,this.height=N,this.setDims(d*w,f*N),this.fixAndSetPosition(),this._onResizing()},q3=function(){var e;(e=g(this,Ut))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),W(this,Ze,$0).call(this)},P2=function(e){const{isMac:t}=Kn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},V3=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:i},c=f=>{s.abort(),U(this,Lo,null),U(this,rc,!1),this._uiManager.endDragSession()||W(this,Ze,P2).call(this,f),n&&this._onStopDragging()};t&&(U(this,vd,e.clientX),U(this,bd,e.clientY),U(this,Lo,e.pointerId),U(this,Ap,e.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:m}=f;if(m!==g(this,Lo)){mn(f);return}const[y,v]=this.screenToPageTranslation(h-g(this,vd),p-g(this,bd));U(this,vd,h),U(this,bd,p),this._uiManager.dragSelectedEditors(y,v)},a),window.addEventListener("touchmove",mn,a),window.addEventListener("pointerdown",f=>{f.pointerType===g(this,Ap)&&(g(this,ic)||f.isPrimary)&&c(f),mn(f)},a));const d=f=>{if(!g(this,Lo)||g(this,Lo)===f.pointerId){c(f);return}mn(f)};window.addEventListener("pointerup",d,{signal:i}),window.addEventListener("blur",d,{signal:i})},O2=function(){if(g(this,Io)||!this.div)return;U(this,Io,new AbortController);const e=this._uiManager.combinedSignal(g(this,Io));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},z3=function(e){at._resizerKeyboardManager.exec(this,e)},H3=function(e){var t;g(this,ba)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,$n)&&W(this,Ze,Sf).call(this)},W3=function(e){U(this,Ep,g(this,ba)?e:"")},R2=function(e){if(g(this,Gs))for(const t of g(this,Gs))t.tabIndex=e},Sf=function(){U(this,ba,!1),W(this,Ze,R2).call(this,-1),W(this,Ze,$0).call(this)},H(at,Tp),Me(at,"_l10n",null),Me(at,"_l10nResizer",null),Me(at,"_borderLineWidth",-1),Me(at,"_colorManager",new b2),Me(at,"_zIndex",1),Me(at,"_telemetryTimeout",1e3);let Rt=at;class MV extends Rt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const VT=3285377520,Ss=4294901760,bi=65535;class G3{constructor(e){this.h1=e?e&4294967295:VT,this.h2=e?e&4294967295:VT}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,w=e.length;b<w;b++){const N=e.charCodeAt(b);N<=255?t[n++]=N:(t[n++]=N>>>8,t[n++]=N&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,i=n-s*4,a=new Uint32Array(t.buffer,0,s);let c=0,d=0,f=this.h1,h=this.h2;const p=3432918353,m=461845907,y=p&bi,v=m&bi;for(let b=0;b<s;b++)b&1?(c=a[b],c=c*p&Ss|c*y&bi,c=c<<15|c>>>17,c=c*m&Ss|c*v&bi,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=a[b],d=d*p&Ss|d*y&bi,d=d<<15|d>>>17,d=d*m&Ss|d*v&bi,h^=d,h=h<<13|h>>>19,h=h*5+3864292196);switch(c=0,i){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*p&Ss|c*y&bi,c=c<<15|c>>>17,c=c*m&Ss|c*v&bi,s&1?f^=c:h^=c}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ss|e*36045&bi,t=t*4283543511&Ss|((t<<16|e>>>16)*2950163797&Ss)>>>16,e^=t>>>1,e=e*444984403&Ss|e*60499&bi,t=t*3301882366&Ss|((t<<16|e>>>16)*3120437893&Ss)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const M2=Object.freeze({map:null,hash:"",transfer:void 0});var ac,oc,qn,Uy,K3;class LS{constructor(){H(this,Uy);H(this,ac,!1);H(this,oc,null);H(this,qn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,qn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,qn).get(e)}remove(e){if(g(this,qn).delete(e),g(this,qn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,qn).values())if(t instanceof Rt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,qn).get(e);let s=!1;if(n!==void 0)for(const[i,a]of Object.entries(t))n[i]!==a&&(s=!0,n[i]=a);else s=!0,g(this,qn).set(e,t);s&&W(this,Uy,K3).call(this),t instanceof Rt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,qn).has(e)}get size(){return g(this,qn).size}resetModified(){g(this,ac)&&(U(this,ac,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X3(this)}get serializable(){if(g(this,qn).size===0)return M2;const e=new Map,t=new G3,n=[],s=Object.create(null);let i=!1;for(const[a,c]of g(this,qn)){const d=c instanceof Rt?c.serialize(!1,s):c;d&&(e.set(a,d),t.update(`${a}:${JSON.stringify(d)}`),i||(i=!!d.bitmap))}if(i)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:M2}get editorStats(){let e=null;const t=new Map;for(const n of g(this,qn).values()){if(!(n instanceof Rt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[i]||(e[i]=new Map);for(const[c,d]of Object.entries(s)){if(c==="type")continue;let f=a.get(c);f||(f=new Map,a.set(c,f));const h=f.get(d)??0;f.set(d,h+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){U(this,oc,null)}get modifiedIds(){if(g(this,oc))return g(this,oc);const e=[];for(const t of g(this,qn).values())!(t instanceof Rt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return U(this,oc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return g(this,qn).entries()}}ac=new WeakMap,oc=new WeakMap,qn=new WeakMap,Uy=new WeakSet,K3=function(){g(this,ac)||(U(this,ac,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Pp;class X3 extends LS{constructor(t){super();H(this,Pp);const{map:n,hash:s,transfer:i}=t.serializable,a=structuredClone(n,i?{transfer:i}:null);U(this,Pp,{map:a,hash:s,transfer:i})}get print(){kt("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Pp)}get modifiedIds(){return ht(this,"modifiedIds",{ids:new Set,hash:""})}}Pp=new WeakMap;var wd;class LV{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){H(this,wd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,wd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||g(this,wd).has(e.loadedName))){if(gn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:a}=e,c=new FontFace(s,i,a);this.addNativeFontFace(c);try{await c.load(),g(this,wd).add(s),n==null||n(e)}catch{nt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw nt(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ht(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ht(this,"isSyncFontLoadingSupported",gr||Kn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(gn(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const i=n.shift();setTimeout(i.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ht(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(S,A){return S.charCodeAt(A)<<24|S.charCodeAt(A+1)<<16|S.charCodeAt(A+2)<<8|S.charCodeAt(A+3)&255}function s(S,A,T,k){const P=S.substring(0,A),D=S.substring(A+T);return P+k+D}let i,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function h(S,A){if(++f>30){nt("Load test font never loaded."),A();return}if(d.font="30px "+S,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(h.bind(null,S,A))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const v=16,b=1482184792;let w=n(m,v);for(i=0,a=p.length-3;i<a;i+=4)w=w-b+n(p,i)|0;i<p.length&&(w=w-b+n(p+"XXX",i)|0),m=s(m,v,4,vV(w));const N=`url(data:font/opentype;base64,${btoa(m)});`,j=`@font-face {font-family:"${p}";src:${N}}`;this.insertRule(j);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const S of[e.loadedName,p]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=S,E.append(A)}this._document.body.append(E),h(p,()=>{E.remove(),t.complete()})}}wd=new WeakMap;class IV{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${g3(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let s;try{s=e.get(n)}catch(a){nt(`getPathGenerator - ignoring character: "${a}".`)}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}}function DV(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(gr)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function FV(r){if(gr&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Wm(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function m0(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const L2=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,BV=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",UV=jV.bind(null,L2,BV);var wa,$y;class $V{constructor(){H(this,wa,new Map);H(this,$y,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,$y).then(()=>{for(const[s]of g(this,wa))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted){nt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}g(this,wa).set(t,s)}removeEventListener(e,t){const n=g(this,wa).get(t);n==null||n(),g(this,wa).delete(t)}terminate(){for(const[,e]of g(this,wa))e==null||e();g(this,wa).clear()}}wa=new WeakMap,$y=new WeakMap;const g0={DATA:1,ERROR:2},dn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function zT(){}function Tr(r){if(r instanceof cl||r instanceof m2||r instanceof UT||r instanceof Ay||r instanceof jw)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new cl(r.message);case"InvalidPDFException":return new m2(r.message);case"PasswordException":return new UT(r.message,r.code);case"ResponseException":return new Ay(r.message,r.status,r.missing);case"UnknownErrorException":return new jw(r.message,r.details)}return new jw(r.message,r.toString())}var Nd,Ms,Y3,Q3,Z3,q0;class jf{constructor(e,t,n){H(this,Ms);H(this,Nd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",W(this,Ms,Y3).bind(this),{signal:g(this,Nd).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,s){const i=this.streamId++,a=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[i]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:a,targetName:c,action:e,streamId:i,data:t,desiredSize:f.desiredSize},s),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[i].pullCall=h,d.postMessage({sourceName:a,targetName:c,stream:dn.PULL,streamId:i,desiredSize:f.desiredSize}),h.promise},cancel:f=>{gn(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[i].cancelCall=h,this.streamControllers[i].isClosed=!0,d.postMessage({sourceName:a,targetName:c,stream:dn.CANCEL,streamId:i,reason:Tr(f)}),h.promise}},n)}destroy(){var e;(e=g(this,Nd))==null||e.abort(),U(this,Nd,null)}}Nd=new WeakMap,Ms=new WeakSet,Y3=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,Ms,Z3).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===g0.DATA)s.resolve(e.data);else if(e.callback===g0.ERROR)s.reject(Tr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(a){i.postMessage({sourceName:n,targetName:s,callback:g0.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:n,targetName:s,callback:g0.ERROR,callbackId:e.callbackId,reason:Tr(a)})});return}if(e.streamId){W(this,Ms,Q3).call(this,e);return}t(e.data)},Q3=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,a=this,c=this.actionHandler[e.action],d={enqueue(f,h=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:s,stream:dn.ENQUEUE,streamId:t,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:dn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(f){gn(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:dn.ERROR,streamId:t,reason:Tr(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){i.postMessage({sourceName:n,targetName:s,stream:dn.START_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:s,stream:dn.START_COMPLETE,streamId:t,reason:Tr(f)})})},Z3=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,a=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case dn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Tr(e.reason));break;case dn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Tr(e.reason));break;case dn.PULL:if(!c){i.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||zT).then(function(){i.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:t,reason:Tr(f)})});break;case dn.ENQUEUE:if(gn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case dn.CLOSE:if(gn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),W(this,Ms,q0).call(this,a,t);break;case dn.ERROR:gn(a,"error should have stream controller"),a.controller.error(Tr(e.reason)),W(this,Ms,q0).call(this,a,t);break;case dn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Tr(e.reason)),W(this,Ms,q0).call(this,a,t);break;case dn.CANCEL:if(!c)break;const d=Tr(e.reason);Promise.try(c.onCancel||zT,d).then(function(){i.postMessage({sourceName:n,targetName:s,stream:dn.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:s,stream:dn.CANCEL_COMPLETE,streamId:t,reason:Tr(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},q0=async function(e,t){var n,s,i;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Op;class J3{constructor({enableHWA:e=!1}){H(this,Op,!1);U(this,Op,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Op)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){kt("Abstract method `_createCanvas` called.")}}Op=new WeakMap;class qV extends J3{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class e4{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}}class HT extends e4{async _fetch(e){const t=await Gm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Wm(t)}}class t4{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,i){return"none"}destroy(e=!1){}}var lc,Sd,Na,Sa,sr,cc,uc,Ue,nr,_f,zu,V0,Hu,n4,I2,Wu,Af,Ef,D2,kf;class VV extends t4{constructor({docId:t,ownerDocument:n=globalThis.document}){super();H(this,Ue);H(this,lc);H(this,Sd);H(this,Na);H(this,Sa);H(this,sr);H(this,cc);H(this,uc,0);U(this,Sa,t),U(this,sr,n)}addFilter(t){if(!t)return"none";let n=g(this,Ue,nr).get(t);if(n)return n;const[s,i,a]=W(this,Ue,V0).call(this,t),c=t.length===1?s:`${s}${i}${a}`;if(n=g(this,Ue,nr).get(c),n)return g(this,Ue,nr).set(t,n),n;const d=`g_${g(this,Sa)}_transfer_map_${ur(this,uc)._++}`,f=W(this,Ue,Hu).call(this,d);g(this,Ue,nr).set(t,f),g(this,Ue,nr).set(c,f);const h=W(this,Ue,Wu).call(this,d);return W(this,Ue,Ef).call(this,s,i,a,h),f}addHCMFilter(t,n){var v;const s=`${t}-${n}`,i="base";let a=g(this,Ue,_f).get(i);if((a==null?void 0:a.key)===s||(a?((v=a.filter)==null||v.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},g(this,Ue,_f).set(i,a)),!t||!n))return a.url;const c=W(this,Ue,kf).call(this,t);t=Xe.makeHexColor(...c);const d=W(this,Ue,kf).call(this,n);if(n=Xe.makeHexColor(...d),g(this,Ue,zu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const f=new Array(256);for(let b=0;b<=255;b++){const w=b/255;f[b]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=f.join(","),p=`g_${g(this,Sa)}_hcm_filter`,m=a.filter=W(this,Ue,Wu).call(this,p);W(this,Ue,Ef).call(this,h,h,h,m),W(this,Ue,I2).call(this,m);const y=(b,w)=>{const N=c[b]/255,j=d[b]/255,E=new Array(w+1);for(let S=0;S<=w;S++)E[S]=N+S/w*(j-N);return E.join(",")};return W(this,Ue,Ef).call(this,y(0,5),y(1,5),y(2,5),m),a.url=W(this,Ue,Hu).call(this,p),a.url}addAlphaFilter(t){let n=g(this,Ue,nr).get(t);if(n)return n;const[s]=W(this,Ue,V0).call(this,[t]),i=`alpha_${s}`;if(n=g(this,Ue,nr).get(i),n)return g(this,Ue,nr).set(t,n),n;const a=`g_${g(this,Sa)}_alpha_map_${ur(this,uc)._++}`,c=W(this,Ue,Hu).call(this,a);g(this,Ue,nr).set(t,c),g(this,Ue,nr).set(i,c);const d=W(this,Ue,Wu).call(this,a);return W(this,Ue,D2).call(this,s,d),c}addLuminosityFilter(t){let n=g(this,Ue,nr).get(t||"luminosity");if(n)return n;let s,i;if(t?([s]=W(this,Ue,V0).call(this,[t]),i=`luminosity_${s}`):i="luminosity",n=g(this,Ue,nr).get(i),n)return g(this,Ue,nr).set(t,n),n;const a=`g_${g(this,Sa)}_luminosity_map_${ur(this,uc)._++}`,c=W(this,Ue,Hu).call(this,a);g(this,Ue,nr).set(t,c),g(this,Ue,nr).set(i,c);const d=W(this,Ue,Wu).call(this,a);return W(this,Ue,n4).call(this,d),t&&W(this,Ue,D2).call(this,s,d),c}addHighlightHCMFilter(t,n,s,i,a){var j;const c=`${n}-${s}-${i}-${a}`;let d=g(this,Ue,_f).get(t);if((d==null?void 0:d.key)===c||(d?((j=d.filter)==null||j.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},g(this,Ue,_f).set(t,d)),!n||!s))return d.url;const[f,h]=[n,s].map(W(this,Ue,kf).bind(this));let p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,v]=[i,a].map(W(this,Ue,kf).bind(this));m<p&&([p,m,y,v]=[m,p,v,y]),g(this,Ue,zu).style.color="";const b=(E,S,A)=>{const T=new Array(256),k=(m-p)/A,P=E/255,D=(S-E)/(255*A);let O=0;for(let R=0;R<=A;R++){const F=Math.round(p+R*k),$=P+R*D;for(let z=O;z<=F;z++)T[z]=$;O=F+1}for(let R=O;R<256;R++)T[R]=T[O-1];return T.join(",")},w=`g_${g(this,Sa)}_hcm_${t}_filter`,N=d.filter=W(this,Ue,Wu).call(this,w);return W(this,Ue,I2).call(this,N),W(this,Ue,Ef).call(this,b(y[0],v[0],5),b(y[1],v[1],5),b(y[2],v[2],5),N),d.url=W(this,Ue,Hu).call(this,w),d.url}destroy(t=!1){var n,s,i,a;t&&((n=g(this,cc))!=null&&n.size)||((s=g(this,Na))==null||s.parentNode.parentNode.remove(),U(this,Na,null),(i=g(this,Sd))==null||i.clear(),U(this,Sd,null),(a=g(this,cc))==null||a.clear(),U(this,cc,null),U(this,uc,0))}}lc=new WeakMap,Sd=new WeakMap,Na=new WeakMap,Sa=new WeakMap,sr=new WeakMap,cc=new WeakMap,uc=new WeakMap,Ue=new WeakSet,nr=function(){return g(this,Sd)||U(this,Sd,new Map)},_f=function(){return g(this,cc)||U(this,cc,new Map)},zu=function(){if(!g(this,Na)){const t=g(this,sr).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=g(this,sr).createElementNS(oa,"svg");s.setAttribute("width",0),s.setAttribute("height",0),U(this,Na,g(this,sr).createElementNS(oa,"defs")),t.append(s),s.append(g(this,Na)),g(this,sr).body.append(t)}return g(this,Na)},V0=function(t){if(t.length===1){const f=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=f[m]/255;const p=h.join(",");return[p,p,p]}const[n,s,i]=t,a=new Array(256),c=new Array(256),d=new Array(256);for(let f=0;f<256;f++)a[f]=n[f]/255,c[f]=s[f]/255,d[f]=i[f]/255;return[a.join(","),c.join(","),d.join(",")]},Hu=function(t){if(g(this,lc)===void 0){U(this,lc,"");const n=g(this,sr).URL;n!==g(this,sr).baseURI&&(_x(n)?nt('#createUrl: ignore "data:"-URL for performance reasons.'):U(this,lc,f3(n,"")))}return`url(${g(this,lc)}#${t})`},n4=function(t){const n=g(this,sr).createElementNS(oa,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},I2=function(t){const n=g(this,sr).createElementNS(oa,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Wu=function(t){const n=g(this,sr).createElementNS(oa,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,Ue,zu).append(n),n},Af=function(t,n,s){const i=g(this,sr).createElementNS(oa,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Ef=function(t,n,s,i){const a=g(this,sr).createElementNS(oa,"feComponentTransfer");i.append(a),W(this,Ue,Af).call(this,a,"feFuncR",t),W(this,Ue,Af).call(this,a,"feFuncG",n),W(this,Ue,Af).call(this,a,"feFuncB",s)},D2=function(t,n){const s=g(this,sr).createElementNS(oa,"feComponentTransfer");n.append(s),W(this,Ue,Af).call(this,s,"feFuncA",t)},kf=function(t){return g(this,Ue,zu).style.color=t,MS(getComputedStyle(g(this,Ue,zu)).getPropertyValue("color"))};class r4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}}class WT extends r4{async _fetch(e){const t=await Gm(e,"arraybuffer");return new Uint8Array(t)}}class s4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}}class GT extends s4{async _fetch(e){const t=await Gm(e,"arraybuffer");return new Uint8Array(t)}}gr&&nt("Please use the `legacy` build in Node.js environments.");async function IS(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class zV extends t4{}class HV extends J3{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class WV extends e4{async _fetch(e){return IS(e)}}class GV extends r4{async _fetch(e){return IS(e)}}class KV extends s4{async _fetch(e){return IS(e)}}const Wn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function F2(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),r.clip(s)}class DS{isModifyingCurrentTransform(){return!1}getPattern(){kt("Abstract method `getPattern` called.")}}class XV extends DS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let i;if(s===Wn.STROKE||s===Wn.FILL){const a=t.current.getClippedPathBoundingBox(s,Gt(e))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,d=Math.ceil(a[3]-a[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,d),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=Xe.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),F2(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),i=e.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(n);i.setTransform(p)}else F2(e,this._bbox),i=this._createGradient(e);return i}}function Ew(r,e,t,n,s,i,a,c){const d=e.coords,f=e.colors,h=r.data,p=r.width*4;let m;d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=i,i=a,a=m),d[n+1]>d[s+1]&&(m=n,n=s,s=m,m=a,a=c,c=m),d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=i,i=a,a=m);const y=(d[t]+e.offsetX)*e.scaleX,v=(d[t+1]+e.offsetY)*e.scaleY,b=(d[n]+e.offsetX)*e.scaleX,w=(d[n+1]+e.offsetY)*e.scaleY,N=(d[s]+e.offsetX)*e.scaleX,j=(d[s+1]+e.offsetY)*e.scaleY;if(v>=j)return;const E=f[i],S=f[i+1],A=f[i+2],T=f[a],k=f[a+1],P=f[a+2],D=f[c],O=f[c+1],R=f[c+2],F=Math.round(v),$=Math.round(j);let z,Z,se,Q,oe,ne,X,I;for(let q=F;q<=$;q++){if(q<w){const ie=q<v?0:(v-q)/(v-w);z=y-(y-b)*ie,Z=E-(E-T)*ie,se=S-(S-k)*ie,Q=A-(A-P)*ie}else{let ie;q>j?ie=1:w===j?ie=0:ie=(w-q)/(w-j),z=b-(b-N)*ie,Z=T-(T-D)*ie,se=k-(k-O)*ie,Q=P-(P-R)*ie}let Y;q<v?Y=0:q>j?Y=1:Y=(v-q)/(v-j),oe=y-(y-N)*Y,ne=E-(E-D)*Y,X=S-(S-O)*Y,I=A-(A-R)*Y;const le=Math.round(Math.min(z,oe)),te=Math.round(Math.max(z,oe));let V=p*q+le*4;for(let ie=le;ie<=te;ie++)Y=(z-ie)/(z-oe),Y<0?Y=0:Y>1&&(Y=1),h[V++]=Z-(Z-ne)*Y|0,h[V++]=se-(se-X)*Y|0,h[V++]=Q-(Q-I)*Y|0,h[V++]=255}}function YV(r,e,t){const n=e.coords,s=e.colors;let i,a;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(n.length/c)-1,f=c-1;for(i=0;i<d;i++){let h=i*c;for(let p=0;p<f;p++,h++)Ew(r,t,n[h],n[h+1],n[h+c],s[h],s[h+1],s[h+c]),Ew(r,t,n[h+c+1],n[h+1],n[h+c],s[h+c+1],s[h+1],s[h+c])}break;case"triangles":for(i=0,a=n.length;i<a;i+=3)Ew(r,t,n[i],n[i+1],n[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class QV extends DS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,h=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=f/p,v=h/m,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/y,scaleY:1/v},w=p+2*2,N=m+2*2,j=n.getCanvas("mesh",w,N),E=j.context,S=E.createImageData(p,m);if(t){const T=S.data;for(let k=0,P=T.length;k<P;k+=4)T[k]=t[0],T[k+1]=t[1],T[k+2]=t[2],T[k+3]=255}for(const T of this._figures)YV(S,T,b);return E.putImageData(S,2,2),{canvas:j.canvas,offsetX:c-2*y,offsetY:d-2*v,scaleX:y,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,s){F2(e,this._bbox);const i=new Float32Array(2);if(s===Wn.SHADING)Xe.singularValueDecompose2dScale(Gt(e),i);else if(this.matrix){Xe.singularValueDecompose2dScale(this.matrix,i);const[c,d]=i;Xe.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=c,i[1]*=d}else Xe.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,s===Wn.SHADING?null:this._background,t.cachedCanvases);return s!==Wn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class ZV extends DS{getPattern(){return"hotpink"}}function JV(r){switch(r[0]){case"RadialAxial":return new XV(r);case"Mesh":return new QV(r);case"Dummy":return new ZV}throw new Error(`Unknown IR type: ${r[0]}`)}const KT={COLORED:1,UNCOLORED:2},qy=class qy{constructor(e,t,n,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:i,color:a,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),jx("TilingType: "+i);const h=t[0],p=t[1],m=t[2],y=t[3],v=m-h,b=y-p,w=new Float32Array(2);Xe.singularValueDecompose2dScale(this.matrix,w);const[N,j]=w;Xe.singularValueDecompose2dScale(this.baseTransform,w);const E=N*w[0],S=j*w[1];let A=v,T=b,k=!1,P=!1;const D=Math.ceil(d*E),O=Math.ceil(f*S),R=Math.ceil(v*E),F=Math.ceil(b*S);D>=R?A=d:k=!0,O>=F?T=f:P=!0;const $=this.getSizeAndScale(A,this.ctx.canvas.width,E),z=this.getSizeAndScale(T,this.ctx.canvas.height,S),Z=e.cachedCanvases.getCanvas("pattern",$.size,z.size),se=Z.context,Q=c.createCanvasGraphics(se);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,s,a),se.translate(-$.scale*h,-z.scale*p),Q.transform($.scale,0,0,z.scale,0,0),se.save(),this.clipBbox(Q,h,p,m,y),Q.baseTransform=Gt(Q.ctx),Q.executeOperatorList(n),Q.endDrawing(),se.restore(),k||P){const oe=Z.canvas;k&&(A=d),P&&(T=f);const ne=this.getSizeAndScale(A,this.ctx.canvas.width,E),X=this.getSizeAndScale(T,this.ctx.canvas.height,S),I=ne.size,q=X.size,Y=e.cachedCanvases.getCanvas("pattern-workaround",I,q),le=Y.context,te=k?Math.floor(v/d):0,V=P?Math.floor(b/f):0;for(let ie=0;ie<=te;ie++)for(let ue=0;ue<=V;ue++)le.drawImage(oe,I*ie,q*ue,I,q,0,0,I,q);return{canvas:Y.canvas,scaleX:ne.scale,scaleY:X.scale,offsetX:h,offsetY:p}}return{canvas:Z.canvas,scaleX:$.scale,scaleY:z.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,n){const s=Math.max(qy.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=s?i=s:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,s,i){const a=s-t,c=i-n;e.ctx.rect(t,n,a,c),Xe.axialAlignedBoundingBox([t,n,s,i],Gt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,i=e.current;switch(t){case KT.COLORED:const{fillStyle:a,strokeStyle:c}=this.ctx;s.fillStyle=i.fillColor=a,s.strokeStyle=i.strokeColor=c;break;case KT.UNCOLORED:s.fillStyle=s.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new xV(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,s){let i=n;s!==Wn.SHADING&&(i=Xe.transform(i,t.baseTransform),this.matrix&&(i=Xe.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let c=new DOMMatrix(i);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const d=e.createPattern(a.canvas,"repeat");return d.setTransform(c),d}};Me(qy,"MAX_PATTERN_SIZE",3e3);let B2=qy;function ez({src:r,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const c=Kn.isLittleEndian?4278190080:255,[d,f]=a?[i,c]:[c,i],h=n>>3,p=n&7,m=r.length;t=new Uint32Array(t.buffer);let y=0;for(let v=0;v<s;v++){for(const w=e+h;e<w;e++){const N=e<m?r[e]:255;t[y++]=N&128?f:d,t[y++]=N&64?f:d,t[y++]=N&32?f:d,t[y++]=N&16?f:d,t[y++]=N&8?f:d,t[y++]=N&4?f:d,t[y++]=N&2?f:d,t[y++]=N&1?f:d}if(p===0)continue;const b=e<m?r[e++]:255;for(let w=0;w<p;w++)t[y++]=b&1<<7-w?f:d}return{srcPos:e,destPos:y}}const XT=16,YT=100,tz=15,QT=10,Ir=16,kw=new DOMMatrix,us=new Float32Array(2),nd=new Float32Array([1/0,1/0,-1/0,-1/0]);function nz(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,s,i,a,c){e.transform(t,n,s,i,a,c),this.__originalTransform(t,n,s,i,a,c)},r.setTransform=function(t,n,s,i,a,c){e.setTransform(t,n,s,i,a,c),this.__originalSetTransform(t,n,s,i,a,c)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,s,i,a,c){e.bezierCurveTo(t,n,s,i,a,c),this.__originalBezierCurveTo(t,n,s,i,a,c)},r.rect=function(t,n,s,i){e.rect(t,n,s,i),this.__originalRect(t,n,s,i)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rz{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function y0(r,e,t,n,s,i,a,c,d,f){const[h,p,m,y,v,b]=Gt(r);if(p===0&&m===0){const j=a*h+v,E=Math.round(j),S=c*y+b,A=Math.round(S),T=(a+d)*h+v,k=Math.abs(Math.round(T)-E)||1,P=(c+f)*y+b,D=Math.abs(Math.round(P)-A)||1;return r.setTransform(Math.sign(h),0,0,Math.sign(y),E,A),r.drawImage(e,t,n,s,i,0,0,k,D),r.setTransform(h,p,m,y,v,b),[k,D]}if(h===0&&y===0){const j=c*m+v,E=Math.round(j),S=a*p+b,A=Math.round(S),T=(c+f)*m+v,k=Math.abs(Math.round(T)-E)||1,P=(a+d)*p+b,D=Math.abs(Math.round(P)-A)||1;return r.setTransform(0,Math.sign(p),Math.sign(m),0,E,A),r.drawImage(e,t,n,s,i,0,0,D,k),r.setTransform(h,p,m,y,v,b),[D,k]}r.drawImage(e,t,n,s,i,a,c,d,f);const w=Math.hypot(h,p),N=Math.hypot(m,y);return[w*d,N*f]}class ZT{constructor(e,t){Me(this,"alphaIsShape",!1);Me(this,"fontSize",0);Me(this,"fontSizeScale",1);Me(this,"textMatrix",null);Me(this,"textMatrixScale",1);Me(this,"fontMatrix",p2);Me(this,"leading",0);Me(this,"x",0);Me(this,"y",0);Me(this,"lineX",0);Me(this,"lineY",0);Me(this,"charSpacing",0);Me(this,"wordSpacing",0);Me(this,"textHScale",1);Me(this,"textRenderingMode",tr.FILL);Me(this,"textRise",0);Me(this,"fillColor","#000000");Me(this,"strokeColor","#000000");Me(this,"patternFill",!1);Me(this,"patternStroke",!1);Me(this,"fillAlpha",1);Me(this,"strokeAlpha",1);Me(this,"lineWidth",1);Me(this,"activeSMask",null);Me(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=nd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Wn.FILL,t=null){const n=this.minMax.slice();if(e===Wn.STROKE){t||kt("Stroke bounding box must include transform."),Xe.singularValueDecompose2dScale(t,us);const s=us[0]*this.lineWidth/2,i=us[1]*this.lineWidth/2;n[0]-=s,n[1]-=i,n[2]+=s,n[3]+=i}return n}updateClipFromPath(){const e=Xe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(nd,0)}getClippedPathBoundingBox(e=Wn.FILL,t=null){return Xe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function JT(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Ir,i=(t-s)/Ir,a=s===0?i:i+1,c=r.createImageData(n,Ir);let d=0,f;const h=e.data,p=c.data;let m,y,v,b;if(e.kind===R0.GRAYSCALE_1BPP){const w=h.byteLength,N=new Uint32Array(p.buffer,0,p.byteLength>>2),j=N.length,E=n+7>>3,S=4294967295,A=Kn.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(v=m<i?Ir:s,f=0,y=0;y<v;y++){const T=w-d;let k=0;const P=T>E?n:T*8-7,D=P&-8;let O=0,R=0;for(;k<D;k+=8)R=h[d++],N[f++]=R&128?S:A,N[f++]=R&64?S:A,N[f++]=R&32?S:A,N[f++]=R&16?S:A,N[f++]=R&8?S:A,N[f++]=R&4?S:A,N[f++]=R&2?S:A,N[f++]=R&1?S:A;for(;k<P;k++)O===0&&(R=h[d++],O=128),N[f++]=R&O?S:A,O>>=1}for(;f<j;)N[f++]=0;r.putImageData(c,0,m*Ir)}}else if(e.kind===R0.RGBA_32BPP){for(y=0,b=n*Ir*4,m=0;m<i;m++)p.set(h.subarray(d,d+b)),d+=b,r.putImageData(c,0,y),y+=Ir;m<a&&(b=n*s*4,p.set(h.subarray(d,d+b)),r.putImageData(c,0,y))}else if(e.kind===R0.RGB_24BPP)for(v=Ir,b=n*v,m=0;m<a;m++){for(m>=i&&(v=s,b=n*v),f=0,y=b;y--;)p[f++]=h[d++],p[f++]=h[d++],p[f++]=h[d++],p[f++]=255;r.putImageData(c,0,m*Ir)}else throw new Error(`bad image kind: ${e.kind}`)}function eP(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Ir,i=(t-s)/Ir,a=s===0?i:i+1,c=r.createImageData(n,Ir);let d=0;const f=e.data,h=c.data;for(let p=0;p<a;p++){const m=p<i?Ir:s;({srcPos:d}=ez({src:f,srcPos:d,dest:h,width:n,height:m,nonBlackColor:0})),r.putImageData(c,0,p*Ir)}}function hf(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function x0(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function tP(r,e){if(e)return!0;Xe.singularValueDecompose2dScale(r,us);const t=Math.fround(Gi.pixelRatio*ul.PDF_TO_CSS_UNITS);return us[0]<=t&&us[1]<=t}const sz=["butt","round","square"],iz=["miter","round","bevel"],az={},nP={};var oi,U2,$2,q2;const VS=class VS{constructor(e,t,n,s,i,{optionalContentConfig:a,markedContentStack:c=null},d,f){H(this,oi);this.ctx=e,this.current=new ZT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new rz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Gt(this.compositeCtx))}this.ctx.save(),x0(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Gt(this.ctx)}executeOperatorList(e,t,n,s){const i=e.argsArray,a=e.fnArray;let c=t||0;const d=i.length;if(d===c)return c;const f=d-c>QT&&typeof n=="function",h=f?Date.now()+tz:0;let p=0;const m=this.commonObjs,y=this.objs;let v;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(v=a[c],v!==_y.dependency)this[v].apply(this,i[c]);else for(const b of i[c]){const w=b.startsWith("g_")?m:y;if(!w.has(b))return w.get(b,n),c}if(c++,c===d)return c;if(f&&++p>QT){if(Date.now()>h)return n(),c;p=0}}}endDrawing(){W(this,oi,U2).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,oi,$2).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),c=n,d=s,f="prescale1",h,p;for(;i>2&&c>1||a>2&&d>1;){let m=c,y=d;i>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),i/=c/m),a>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,a/=d/y),h=this.cachedCanvases.getCanvas(f,m,y),p=h.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,c,d,0,0,m,y),e=h.canvas,c=m,d=y,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,i=this.current.fillColor,a=this.current.patternFill,c=Gt(t);let d,f,h,p;if((e.bitmap||e.data)&&e.count>1){const D=e.bitmap||e.data.buffer;f=JSON.stringify(a?c:[c.slice(0,4),i]),d=this._cachedBitmapsMap.get(D),d||(d=new Map,this._cachedBitmapsMap.set(D,d));const O=d.get(f);if(O&&!a){const R=Math.round(Math.min(c[0],c[2])+c[4]),F=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:O,offsetX:R,offsetY:F}}h=O}h||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),eP(p.context,e));let m=Xe.transform(c,[1/n,0,0,-1/s,0,0]);m=Xe.transform(m,[1,0,0,1,0,-s]);const y=nd.slice();Xe.axialAlignedBoundingBox([0,0,n,s],m,y);const[v,b,w,N]=y,j=Math.round(w-v)||1,E=Math.round(N-b)||1,S=this.cachedCanvases.getCanvas("fillCanvas",j,E),A=S.context,T=v,k=b;A.translate(-T,-k),A.transform(...m),h||(h=this._scaleImage(p.canvas,vi(A)),h=h.img,d&&a&&d.set(f,h)),A.imageSmoothingEnabled=tP(Gt(A),e.interpolate),y0(A,h,0,0,h.width,h.height,0,0,n,s),A.globalCompositeOperation="source-in";const P=Xe.transform(vi(A),[1,0,0,1,-T,-k]);return A.fillStyle=a?i.getPattern(t,this,P,Wn.FILL):i,A.fillRect(0,0,n,s),d&&!a&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,S.canvas)),{canvas:S.canvas,offsetX:Math.round(T),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=sz[e]}setLineJoin(e){this.ctx.lineJoin=iz[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=s.context;i.setTransform(this.suspendedCtx.getTransform()),hf(this.suspendedCtx,i),nz(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),hf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const i=s[0],a=s[1],c=s[2]-i,d=s[3]-a;c===0||d===0||(this.genericComposeSMask(t.context,n,c,d,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,i,a,c,d,f,h,p){let m=e.canvas,y=d-h,v=f-p;if(a)if(y<0||v<0||y+n>m.width||v+s>m.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,s),N=w.context;N.drawImage(m,-y,-v),N.globalCompositeOperation="destination-atop",N.fillStyle=a,N.fillRect(0,0,n,s),N.globalCompositeOperation="source-over",m=w.canvas,y=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(y,v,n,s),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(y,v,n,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(d,f,n,s),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,y,v,n,s,d,f,n,s),t.restore()}save(){this.inSMaskMode&&hf(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&hf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,s,i,a){this.ctx.transform(e,t,n,s,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[s]=t;if(!n){s||(s=t[0]=new Path2D),this[e](s);return}if(!(s instanceof Path2D)){const i=t[0]=new Path2D;for(let a=0,c=s.length;a<c;)switch(s[a++]){case p0.moveTo:i.moveTo(s[a++],s[a++]);break;case p0.lineTo:i.lineTo(s[a++],s[a++]);break;case p0.curveTo:i.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case p0.closePath:i.closePath();break;default:nt(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=i}Xe.axialAlignedBoundingBox(n,Gt(this.ctx),this.current.minMax),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,s=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const i=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=s.getPattern(n,this,vi(n),Wn.STROKE),i){const a=new Path2D;a.addPath(e,n.getTransform().invertSelf().multiplySelf(i)),e=a}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Wn.STROKE,Gt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let a=!1;if(i){const d=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=s.getPattern(n,this,vi(n),Wn.FILL),d){const f=new Path2D;f.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=f}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),a&&n.restore(),t&&this.consumePath(e,c)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=az}eoClip(){this.pendingClip=nP}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,s=t.getTransform().invertSelf();for(const{transform:i,x:a,y:c,fontSize:d,path:f}of e)n.addPath(f,new DOMMatrix(i).preMultiplySelf(s).translate(a,c).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||p2,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&nt("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif",a=((h=n.systemFontInfo)==null?void 0:h.css)||`"${i}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const d=n.italic?"italic":"normal";let f=t;t<XT?f=XT:t>YT&&(f=YT),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${c} ${f}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s,i){const a=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,p=f&tr.FILL_STROKE_MASK,m=!!(f&tr.ADD_TO_PATH_FLAG),y=c.patternFill&&!d.missingFile,v=c.patternStroke&&!d.missingFile;let b;if((d.disableFontFace||m||y||v)&&(b=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||y||v){a.save(),a.translate(t,n),a.scale(h,-h);let w;if((p===tr.FILL||p===tr.FILL_STROKE)&&(s?(w=a.getTransform(),a.setTransform(...s),a.fill(W(this,oi,q2).call(this,b,w,s))):a.fill(b)),p===tr.STROKE||p===tr.FILL_STROKE)if(i){w||(w=a.getTransform()),a.setTransform(...i);const{a:N,b:j,c:E,d:S}=w,A=Xe.inverseTransform(i),T=Xe.transform([N,j,E,S,0,0],A);Xe.singularValueDecompose2dScale(T,us),a.lineWidth*=Math.max(us[0],us[1])/h,a.stroke(W(this,oi,q2).call(this,b,w,i))}else a.lineWidth/=h,a.stroke(b);a.restore()}else(p===tr.FILL||p===tr.FILL_STROKE)&&a.fillText(e,t,n),(p===tr.STROKE||p===tr.FILL_STROKE)&&a.strokeText(e,t,n);m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Gt(a),x:t,y:n,fontSize:h,path:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return ht(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const i=this.ctx,a=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,h=t.textHScale*f,p=e.length,m=n.vertical,y=m?1:-1,v=n.defaultVMetrics,b=s*t.fontMatrix[0],w=t.textRenderingMode===tr.FILL&&!n.disableFontFace&&!t.patternFill;i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),f>0?i.scale(h,-1):i.scale(h,1);let N,j;if(t.patternFill){i.save();const k=t.fillColor.getPattern(i,this,vi(i),Wn.FILL);N=Gt(i),i.restore(),i.fillStyle=k}if(t.patternStroke){i.save();const k=t.strokeColor.getPattern(i,this,vi(i),Wn.STROKE);j=Gt(i),i.restore(),i.strokeStyle=k}let E=t.lineWidth;const S=t.textMatrixScale;if(S===0||E===0){const k=t.textRenderingMode&tr.FILL_STROKE_MASK;(k===tr.STROKE||k===tr.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(a!==1&&(i.scale(a,a),E/=a),i.lineWidth=E,n.isInvalidPDFjsFont){const k=[];let P=0;for(const D of e)k.push(D.unicode),P+=D.width;i.fillText(k.join(""),0,0),t.x+=P*b*h,i.restore(),this.compose();return}let A=0,T;for(T=0;T<p;++T){const k=e[T];if(typeof k=="number"){A+=y*k*s/1e3;continue}let P=!1;const D=(k.isSpace?d:0)+c,O=k.fontChar,R=k.accent;let F,$,z=k.width;if(m){const se=k.vmetric||v,Q=-(k.vmetric?se[1]:z*.5)*b,oe=se[2]*b;z=se?-se[0]:z,F=Q/a,$=(A+oe)/a}else F=A/a,$=0;if(n.remeasure&&z>0){const se=i.measureText(O).width*1e3/s*a;if(z<se&&this.isFontSubpixelAAEnabled){const Q=z/se;P=!0,i.save(),i.scale(Q,1),F/=Q}else z!==se&&(F+=(z-se)/2e3*s/a)}if(this.contentVisible&&(k.isInFont||n.missingFile)){if(w&&!R)i.fillText(O,F,$);else if(this.paintChar(O,F,$,N,j),R){const se=F+s*R.offset.x/a,Q=$-s*R.offset.y/a;this.paintChar(R.fontChar,se,Q,N,j)}}const Z=m?z*b-D*f:z*b+D*f;A+=Z,P&&i.restore()}m?t.y-=A:t.x+=A*h,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,i=n.fontSize,a=n.fontDirection,c=s.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,h=n.textHScale*a,p=n.fontMatrix||p2,m=e.length,y=n.textRenderingMode===tr.INVISIBLE;let v,b,w,N;if(!(y||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(h,a),v=0;v<m;++v){if(b=e[v],typeof b=="number"){N=c*b*i/1e3,this.ctx.translate(N,0),n.x+=N*h;continue}const j=(b.isSpace?f:0)+d,E=s.charProcOperatorList[b.operatorListId];E?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...p),this.executeOperatorList(E),this.restore()):nt(`Type3 character "${b.operatorListId}" is not available.`);const S=[b.width,0];Xe.applyTransform(S,p),w=S[0]*i+j,t.translate(w,0),n.x+=w*h}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,i,a){const c=new Path2D;c.rect(n,s,i-n,a-s),this.ctx.clip(c),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Gt(this.ctx),s={createCanvasGraphics:i=>new VS(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new B2(e,this.ctx,s,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=JV(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,vi(t),Wn.SHADING);const s=vi(t);if(s){const{width:i,height:a}=t.canvas,c=nd.slice();Xe.axialAlignedBoundingBox([0,0,i,a],s,c);const[d,f,h,p]=c;this.ctx.fillRect(d,f,h-d,p-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){kt("Should not call beginInlineImage")}beginImageData(){kt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Gt(this.ctx),t)){Xe.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,s,i,a]=t,c=new Path2D;c.rect(n,s,i-n,a-s),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||jx("TODO: Support non-isolated groups."),e.knockout&&nt("Knockout groups not supported.");const n=Gt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=nd.slice();Xe.axialAlignedBoundingBox(e.bbox,Gt(t),s);const i=[0,0,t.canvas.width,t.canvas.height];s=Xe.intersect(s,i)||[0,0,0,0];const a=Math.floor(s[0]),c=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-a,1),f=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,f]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,d,f),m=p.context;m.translate(-a,-c),m.transform(...n);let y=new Path2D;const[v,b,w,N]=e.bbox;if(y.rect(v,b,w-v,N-b),e.matrix){const j=new Path2D;j.addPath(y,new DOMMatrix(e.matrix)),y=j}m.clip(y),e.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:a,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,c),t.save()),hf(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Gt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=nd.slice();Xe.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s,i),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,s,i){if(W(this,oi,U2).call(this),x0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],c=t[3]-t[1];if(i&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=c,Xe.singularValueDecompose2dScale(Gt(this.ctx),us);const{viewportScale:d}=this,f=Math.ceil(a*this.outputScaleX*d),h=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(us[0],0,0,-us[1],0,c*us[1]),x0(this.ctx)}else{x0(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],a,c),this.ctx.clip(d)}}this.current=new ZT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,oi,$2).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this._createMaskCanvas(e),i=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,i,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const d=Gt(c);c.transform(t,n,s,i,0,0);const f=this._createMaskCanvas(e);c.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let h=0,p=a.length;h<p;h+=2){const m=Xe.transform(d,[t,n,s,i,a[h],a[h+1]]);c.drawImage(f.canvas,m[4],m[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:a,width:c,height:d,transform:f}=i,h=this.cachedCanvases.getCanvas("maskCanvas",c,d),p=h.context;p.save();const m=this.getObject(a,i);eP(p,m),p.globalCompositeOperation="source-in",p.fillStyle=s?n.getPattern(p,this,vi(t),Wn.FILL):n,p.fillRect(0,0,c,d),p.restore(),t.save(),t.transform(...f),t.scale(1,-1),y0(t,h.canvas,0,0,c,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){nt("Dependent image isn't ready yet");return}const a=i.width,c=i.height,d=[];for(let f=0,h=s.length;f<h;f+=2)d.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(i,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;this.save();const{filter:i}=s;i!=="none"&&i!==""&&(s.filter="none"),s.scale(1/t,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,n).context;JT(f,e),a=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(a,vi(s));s.imageSmoothingEnabled=tP(Gt(s),e.interpolate),y0(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,a=e.height,d=this.cachedCanvases.getCanvas("inlineImage",i,a).context;JT(d,e),s=this.applyTransferMapsToCanvas(d)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),y0(n,s,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===nP?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:i}=this.ctx.getTransform();let a,c;if(n===0&&s===0){const d=Math.abs(t),f=Math.abs(i);if(d===f)if(e===0)a=c=1/d;else{const h=d*e;a=c=h<1?1/h:1}else if(e===0)a=1/d,c=1/f;else{const h=d*e,p=f*e;a=h<1?1/h:1,c=p<1?1/p:1}}else{const d=Math.abs(t*i-n*s),f=Math.hypot(t,n),h=Math.hypot(s,i);if(e===0)a=h/d,c=f/d;else{const p=e*d;a=h>p?h/p:1,c=f>p?f/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:s}}=this,[i,a]=this.getScaleForStroking();if(i===a){n.lineWidth=(s||1)*i,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(i,a),kw.a=1/i,kw.d=1/a;const d=new Path2D;if(d.addPath(e,kw),c.length>0){const f=Math.max(i,a);n.setLineDash(c.map(h=>h/f)),n.lineDashOffset/=f}n.lineWidth=s||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};oi=new WeakSet,U2=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$2=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},q2=function(e,t,n){const s=new Path2D;return s.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),s};let id=VS;for(const r in _y)id.prototype[r]!==void 0&&(id.prototype[_y[r]]=id.prototype[r]);var Rp,Mp;class $i{static get workerPort(){return g(this,Rp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");U(this,Rp,e)}static get workerSrc(){return g(this,Mp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");U(this,Mp,e)}}Rp=new WeakMap,Mp=new WeakMap,H($i,Rp,null),H($i,Mp,"");var jd,Lp;class oz{constructor({parsedData:e,rawData:t}){H(this,jd);H(this,Lp);U(this,jd,e),U(this,Lp,t)}getRaw(){return g(this,Lp)}get(e){return g(this,jd).get(e)??null}[Symbol.iterator](){return g(this,jd).entries()}}jd=new WeakMap,Lp=new WeakMap;const Gu=Symbol("INTERNAL");var Ip,Dp,Fp,_d;class lz{constructor(e,{name:t,intent:n,usage:s,rbGroups:i}){H(this,Ip,!1);H(this,Dp,!1);H(this,Fp,!1);H(this,_d,!0);U(this,Ip,!!(e&cs.DISPLAY)),U(this,Dp,!!(e&cs.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=i}get visible(){if(g(this,Fp))return g(this,_d);if(!g(this,_d))return!1;const{print:e,view:t}=this.usage;return g(this,Ip)?(t==null?void 0:t.viewState)!=="OFF":g(this,Dp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Gu&&kt("Internal method `_setVisible` called."),U(this,Fp,n),U(this,_d,t)}}Ip=new WeakMap,Dp=new WeakMap,Fp=new WeakMap,_d=new WeakMap;var Do,jt,Ad,Ed,Bp,V2;class cz{constructor(e,t=cs.DISPLAY){H(this,Bp);H(this,Do,null);H(this,jt,new Map);H(this,Ad,null);H(this,Ed,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,U(this,Ed,e.order);for(const n of e.groups)g(this,jt).set(n.id,new lz(t,n));if(e.baseState==="OFF")for(const n of g(this,jt).values())n._setVisible(Gu,!1);for(const n of e.on)g(this,jt).get(n)._setVisible(Gu,!0);for(const n of e.off)g(this,jt).get(n)._setVisible(Gu,!1);U(this,Ad,this.getHash())}}isVisible(e){if(g(this,jt).size===0)return!0;if(!e)return jx("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,jt).has(e.id)?g(this,jt).get(e.id).visible:(nt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,Bp,V2).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,jt).has(t))return nt(`Optional content group not found: ${t}`),!0;if(g(this,jt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,jt).has(t))return nt(`Optional content group not found: ${t}`),!0;if(!g(this,jt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,jt).has(t))return nt(`Optional content group not found: ${t}`),!0;if(!g(this,jt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,jt).has(t))return nt(`Optional content group not found: ${t}`),!0;if(g(this,jt).get(t).visible)return!1}return!0}return nt(`Unknown optional content policy ${e.policy}.`),!0}return nt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var i;const s=g(this,jt).get(e);if(!s){nt(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const a of s.rbGroups)for(const c of a)c!==e&&((i=g(this,jt).get(c))==null||i._setVisible(Gu,!1,!0));s._setVisible(Gu,!!t,!0),U(this,Do,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const i=g(this,jt).get(s);if(i)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}U(this,Do,null)}get hasInitialVisibility(){return g(this,Ad)===null||this.getHash()===g(this,Ad)}getOrder(){return g(this,jt).size?g(this,Ed)?g(this,Ed).slice():[...g(this,jt).keys()]:null}getGroup(e){return g(this,jt).get(e)||null}getHash(){if(g(this,Do)!==null)return g(this,Do);const e=new G3;for(const[t,n]of g(this,jt))e.update(`${t}:${n.visible}`);return U(this,Do,e.hexdigest())}[Symbol.iterator](){return g(this,jt).entries()}}Do=new WeakMap,jt=new WeakMap,Ad=new WeakMap,Ed=new WeakMap,Bp=new WeakSet,V2=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const i=e[s];let a;if(Array.isArray(i))a=W(this,Bp,V2).call(this,i);else if(g(this,jt).has(i))a=g(this,jt).get(i).visible;else return nt(`Optional content group not found: ${i}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class uz{constructor(e,{disableRange:t=!1,disableStream:n=!1}){gn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:a,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=c,(i==null?void 0:i.length)>0){const d=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(n),!0)});gn(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,i;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){gn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dz(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new hz(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class dz{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=OS(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hz{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fz(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let h=c(t);return h=unescape(h),h=d(h),h=f(h),i(h)}if(t=a(r),t){const h=f(t);return i(h)}if(t=n("filename","i").exec(r),t){t=t[1];let h=c(t);return h=f(h),i(h)}function n(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(h,{fatal:!0}),y=Wm(p);p=m.decode(y),e=!1}catch{}}return p}function i(h){return e&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),e&&(h=s("iso-8859-1",h))),h}function a(h){const p=[];let m;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(h))!==null;){let[,b,w,N]=m;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[w,N]}const v=[];for(let b=0;b<p.length&&b in p;++b){let[w,N]=p[b];N=c(N),w&&(N=unescape(N),b===0&&(N=d(N))),v.push(N)}return v.join("")}function c(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function d(h){const p=h.indexOf("'");if(p===-1)return h;const m=h.slice(0,p),v=h.slice(p+1).replace(/^[^']*'/,"");return s(m,v)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,v){if(y==="q"||y==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,w){return String.fromCharCode(parseInt(w,16))}),s(m,v);try{v=atob(v)}catch{}return s(m,v)})}return""}function i4(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Ax(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function a4({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(r.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function o4(r){const e=r.get("Content-Disposition");if(e){let t=fz(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(OS(t))return t}return null}function Ym(r,e){return new Ay(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function l4(r){return r===200||r===206}function c4(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function u4(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(nt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class pz{constructor(e){Me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=i4(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return gn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mz(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gz(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class mz{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,c4(n,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=Ax(i.url),!l4(i.status))throw Ym(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:c,suggestedLength:d}=a4({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=o4(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new cl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:u4(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class gz{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${n-1}`);const a=s.url;fetch(a,c4(i,this._withCredentials,this._abortController)).then(c=>{const d=Ax(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!l4(c.status))throw Ym(c.status,a);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:u4(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Cw=200,Tw=206;function yz(r){const e=r.response;return typeof e!="string"?e:Wm(e).buffer}class xz{constructor({url:e,httpHeaders:t,withCredentials:n}){Me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=i4(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Tw):s.expectedStatus=Cw,t.responseType="arraybuffer",gn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){n.onError(s.status);return}const i=s.status||Cw;if(!(i===Cw&&n.expectedStatus===Tw)&&i!==n.expectedStatus){n.onError(s.status);return}const c=yz(s);if(i===Tw){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(nt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class vz{constructor(e){this._source=e,this._manager=new xz(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return gn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bz(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new wz(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class bz{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Ax(t.responseURL);const n=t.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=a4({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=o4(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ym(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wz{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Ax((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Ym(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Nz=/^[a-z][a-z0-9\-+.]+:/i;function Sz(r){if(Nz.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class jz{constructor(e){this.source=e,this.url=Sz(e.url),gn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return gn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new _z(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Az(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class _z{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Ym(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new cl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Az{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ff=Symbol("INITIAL_DATA");var Zr,Up,z2;class d4{constructor(){H(this,Up);H(this,Zr,Object.create(null))}get(e,t=null){if(t){const s=W(this,Up,z2).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=g(this,Zr)[e];if(!n||n.data===ff)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,Zr)[e];return!!t&&t.data!==ff}delete(e){const t=g(this,Zr)[e];return!t||t.data===ff?!1:(delete g(this,Zr)[e],!0)}resolve(e,t=null){const n=W(this,Up,z2).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,Zr)){const{data:n}=g(this,Zr)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}U(this,Zr,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,Zr)){const{data:t}=g(this,Zr)[e];t!==ff&&(yield[e,t])}}}Zr=new WeakMap,Up=new WeakSet,z2=function(e){var t;return(t=g(this,Zr))[e]||(t[e]={...Promise.withResolvers(),data:ff})};const Ez=1e5,rP=30;var fP,Fo,Rr,$p,qp,dc,ja,Vp,zp,hc,kd,Cd,Bo,Td,Hp,Pd,fc,Wp,Gp,Od,pc,Kp,Uo,Rd,Ka,h4,f4,H2,fs,z0,W2,p4,m4;const Nn=class Nn{constructor({textContentSource:e,container:t,viewport:n}){H(this,Ka);H(this,Fo,Promise.withResolvers());H(this,Rr,null);H(this,$p,!1);H(this,qp,!!((fP=globalThis.FontInspector)!=null&&fP.enabled));H(this,dc,null);H(this,ja,null);H(this,Vp,0);H(this,zp,0);H(this,hc,null);H(this,kd,null);H(this,Cd,0);H(this,Bo,0);H(this,Td,Object.create(null));H(this,Hp,[]);H(this,Pd,null);H(this,fc,[]);H(this,Wp,new WeakMap);H(this,Gp,null);var d;if(e instanceof ReadableStream)U(this,Pd,e);else if(typeof e=="object")U(this,Pd,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');U(this,Rr,U(this,kd,t)),U(this,Bo,n.scale*Gi.pixelRatio),U(this,Cd,n.rotation),U(this,ja,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:a,pageY:c}=n.rawDims;U(this,Gp,[1,0,0,-1,-a,c+i]),U(this,zp,s),U(this,Vp,i),W(d=Nn,fs,p4).call(d),ru(t,n),g(this,Fo).promise.finally(()=>{g(Nn,Rd).delete(this),U(this,ja,null),U(this,Td,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Kn.platform;return ht(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,hc).read().then(({value:t,done:n})=>{if(n){g(this,Fo).resolve();return}g(this,dc)??U(this,dc,t.lang),Object.assign(g(this,Td),t.styles),W(this,Ka,h4).call(this,t.items),e()},g(this,Fo).reject)};return U(this,hc,g(this,Pd).getReader()),g(Nn,Rd).add(this),e(),g(this,Fo).promise}update({viewport:e,onBefore:t=null}){var i;const n=e.scale*Gi.pixelRatio,s=e.rotation;if(s!==g(this,Cd)&&(t==null||t(),U(this,Cd,s),ru(g(this,kd),{rotation:s})),n!==g(this,Bo)){t==null||t(),U(this,Bo,n);const a={div:null,properties:null,ctx:W(i=Nn,fs,z0).call(i,g(this,dc))};for(const c of g(this,fc))a.properties=g(this,Wp).get(c),a.div=c,W(this,Ka,H2).call(this,a)}}cancel(){var t;const e=new cl("TextLayer task cancelled.");(t=g(this,hc))==null||t.cancel(e).catch(()=>{}),U(this,hc,null),g(this,Fo).reject(e)}get textDivs(){return g(this,fc)}get textContentItemsStr(){return g(this,Hp)}static cleanup(){if(!(g(this,Rd).size>0)){g(this,Od).clear();for(const{canvas:e}of g(this,pc).values())e.remove();g(this,pc).clear()}}};Fo=new WeakMap,Rr=new WeakMap,$p=new WeakMap,qp=new WeakMap,dc=new WeakMap,ja=new WeakMap,Vp=new WeakMap,zp=new WeakMap,hc=new WeakMap,kd=new WeakMap,Cd=new WeakMap,Bo=new WeakMap,Td=new WeakMap,Hp=new WeakMap,Pd=new WeakMap,fc=new WeakMap,Wp=new WeakMap,Gp=new WeakMap,Od=new WeakMap,pc=new WeakMap,Kp=new WeakMap,Uo=new WeakMap,Rd=new WeakMap,Ka=new WeakSet,h4=function(e){var s,i;if(g(this,$p))return;(i=g(this,ja)).ctx??(i.ctx=W(s=Nn,fs,z0).call(s,g(this,dc)));const t=g(this,fc),n=g(this,Hp);for(const a of e){if(t.length>Ez){nt("Ignoring additional textDivs for performance reasons."),U(this,$p,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const c=g(this,Rr);U(this,Rr,document.createElement("span")),g(this,Rr).classList.add("markedContent"),a.id!==null&&g(this,Rr).setAttribute("id",`${a.id}`),c.append(g(this,Rr))}else a.type==="endMarkedContent"&&U(this,Rr,g(this,Rr).parentNode);continue}n.push(a.str),W(this,Ka,f4).call(this,a)}},f4=function(e){var b;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,fc).push(t);const s=Xe.transform(g(this,Gp),e.transform);let i=Math.atan2(s[1],s[0]);const a=g(this,Td)[e.fontName];a.vertical&&(i+=Math.PI/2);let c=g(this,qp)&&a.fontSubstitution||a.fontFamily;c=Nn.fontFamilyMap.get(c)||c;const d=Math.hypot(s[2],s[3]),f=d*W(b=Nn,fs,m4).call(b,c,a,g(this,dc));let h,p;i===0?(h=s[4],p=s[5]-f):(h=s[4]+f*Math.sin(i),p=s[5]-f*Math.cos(i));const m="calc(var(--total-scale-factor) *",y=t.style;g(this,Rr)===g(this,kd)?(y.left=`${(100*h/g(this,zp)).toFixed(2)}%`,y.top=`${(100*p/g(this,Vp)).toFixed(2)}%`):(y.left=`${m}${h.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(g(Nn,Uo)*d).toFixed(2)}px)`,y.fontFamily=c,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,qp)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(n.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),N=Math.abs(e.transform[3]);w!==N&&Math.max(w,N)/Math.min(w,N)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?e.height:e.width),g(this,Wp).set(t,n),g(this,ja).div=t,g(this,ja).properties=n,W(this,Ka,H2).call(this,g(this,ja)),n.hasText&&g(this,Rr).append(t),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),g(this,Rr).append(w)}},H2=function(e){var c;const{div:t,properties:n,ctx:s}=e,{style:i}=t;let a="";if(g(Nn,Uo)>1&&(a=`scale(${1/g(Nn,Uo)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=i,{canvasWidth:f,fontSize:h}=n;W(c=Nn,fs,W2).call(c,s,h*g(this,Bo),d);const{width:p}=s.measureText(t.textContent);p>0&&(a=`scaleX(${f*g(this,Bo)/p}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(i.transform=a)},fs=new WeakSet,z0=function(e=null){let t=g(this,pc).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,pc).set(e,t),g(this,Kp).set(t,{size:0,family:""})}return t},W2=function(e,t,n){const s=g(this,Kp).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},p4=function(){if(g(this,Uo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),U(this,Uo,e.getBoundingClientRect().height),e.remove()},m4=function(e,t,n){const s=g(this,Od).get(e);if(s)return s;const i=W(this,fs,z0).call(this,n);i.canvas.width=i.canvas.height=rP,W(this,fs,W2).call(this,i,rP,e);const a=i.measureText(""),c=a.fontBoundingBoxAscent,d=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let f=.8;return c?f=c/(c+d):(Kn.platform.isFirefox&&nt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),g(this,Od).set(e,f),f},H(Nn,fs),H(Nn,Od,new Map),H(Nn,pc,new Map),H(Nn,Kp,new WeakMap),H(Nn,Uo,null),H(Nn,Rd,new Set);let rp=Nn;class sp{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(i){var d;if(!i)return;let a=null;const c=i.name;if(c==="#text")a=i.value;else if(sp.shouldBuildText(c))(d=i==null?void 0:i.attributes)!=null&&d.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const f of i.children)s(f)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const kz=100;function g4(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new G2,{docId:t}=e,n=r.url?DV(r.url):null,s=r.data?FV(r.data):null,i=r.httpHeaders||null,a=r.withCredentials===!0,c=r.password??null,d=r.range instanceof y4?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let h=r.worker instanceof ip?r.worker:null;const p=r.verbosity,m=typeof r.docBaseUrl=="string"&&!_x(r.docBaseUrl)?r.docBaseUrl:null,y=m0(r.cMapUrl),v=r.cMapPacked!==!1,b=r.CMapReaderFactory||(gr?WV:HT),w=m0(r.iccUrl),N=m0(r.standardFontDataUrl),j=r.StandardFontDataFactory||(gr?GV:WT),E=m0(r.wasmUrl),S=r.WasmFactory||(gr?KV:GT),A=r.stopAtErrors!==!0,T=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,k=r.isEvalSupported!==!1,P=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!gr,D=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!gr&&(Kn.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,R=typeof r.disableFontFace=="boolean"?r.disableFontFace:gr,F=r.fontExtraProperties===!0,$=r.enableXfa===!0,z=r.ownerDocument||globalThis.document,Z=r.disableRange===!0,se=r.disableStream===!0,Q=r.disableAutoFetch===!0,oe=r.pdfBug===!0,ne=r.CanvasFactory||(gr?HV:qV),X=r.FilterFactory||(gr?zV:VV),I=r.enableHWA===!0,q=r.useWasm!==!1,Y=d?d.length:r.length??NaN,le=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!gr&&!R,te=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(b===HT&&j===WT&&S===GT&&y&&N&&E&&vf(y,document.baseURI)&&vf(N,document.baseURI)&&vf(E,document.baseURI)),V=null;mV(p);const ie={canvasFactory:new ne({ownerDocument:z,enableHWA:I}),filterFactory:new X({docId:t,ownerDocument:z}),cMapReaderFactory:te?null:new b({baseUrl:y,isCompressed:v}),standardFontDataFactory:te?null:new j({baseUrl:N}),wasmFactory:te?null:new S({baseUrl:E})};h||(h=ip.create({verbosity:p,port:$i.workerPort}),e._worker=h);const ue={docId:t,apiVersion:"5.3.93",data:s,password:c,disableAutoFetch:Q,rangeChunkSize:f,length:Y,docBaseUrl:m,enableXfa:$,evaluatorOptions:{maxImageSize:T,disableFontFace:R,ignoreErrors:A,isEvalSupported:k,isOffscreenCanvasSupported:P,isImageDecoderSupported:D,canvasMaxAreaInBytes:O,fontExtraProperties:F,useSystemFonts:le,useWasm:q,useWorkerFetch:te,cMapUrl:y,iccUrl:w,standardFontDataUrl:N,wasmUrl:E}},me={ownerDocument:z,pdfBug:oe,styleElement:V,loadingParams:{disableAutoFetch:Q,enableXfa:$}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ge=h.messageHandler.sendWithPromise("GetDocRequest",ue,s?[s.buffer]:null);let Ae;if(d)Ae=new uz(d,{disableRange:Z,disableStream:se});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Pe=vf(n)?pz:gr?jz:vz;Ae=new Pe({url:n,length:Y,httpHeaders:i,withCredentials:a,rangeChunkSize:f,disableRange:Z,disableStream:se})}return ge.then(Pe=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ve=new jf(t,Pe,h.port),de=new Pz(ve,e,Ae,me,ie);e._transport=de,ve.send("Ready",null)})}).catch(e._capability.reject),e}var Vy;const zy=class zy{constructor(){Me(this,"_capability",Promise.withResolvers());Me(this,"_transport",null);Me(this,"_worker",null);Me(this,"docId",`d${ur(zy,Vy)._++}`);Me(this,"destroyed",!1);Me(this,"onPassword",null);Me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Vy=new WeakMap,H(zy,Vy,0);let G2=zy;var mc,Xp,Yp,Qp,Zp;class y4{constructor(e,t,n=!1,s=null){H(this,mc,Promise.withResolvers());H(this,Xp,[]);H(this,Yp,[]);H(this,Qp,[]);H(this,Zp,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(e){g(this,Zp).push(e)}addProgressListener(e){g(this,Qp).push(e)}addProgressiveReadListener(e){g(this,Yp).push(e)}addProgressiveDoneListener(e){g(this,Xp).push(e)}onDataRange(e,t){for(const n of g(this,Zp))n(e,t)}onDataProgress(e,t){g(this,mc).promise.then(()=>{for(const n of g(this,Qp))n(e,t)})}onDataProgressiveRead(e){g(this,mc).promise.then(()=>{for(const t of g(this,Yp))t(e)})}onDataProgressiveDone(){g(this,mc).promise.then(()=>{for(const e of g(this,Xp))e()})}transportReady(){g(this,mc).resolve()}requestDataRange(e,t){kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}mc=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,Zp=new WeakMap;class Cz{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ht(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _a,gc,Cf;class Tz{constructor(e,t,n,s=!1){H(this,gc);H(this,_a,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new qT:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new d4,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:i=!1}={}){return new Km({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ht(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=wo.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:p=!1}){var S,A;(S=this._stats)==null||S.time("Overall");const m=this._transport.getRenderingIntent(n,s,h,p),{renderingIntent:y,cacheKey:v}=m;U(this,_a,!1),c||(c=this._transport.getOptionalContentConfig(y));let b=this._intentStates.get(v);b||(b=Object.create(null),this._intentStates.set(v,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const w=!!(y&cs.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(m));const N=T=>{var k;b.renderTasks.delete(j),w&&U(this,_a,!0),W(this,gc,Cf).call(this),T?(j.capability.reject(T),this._abortOperatorList({intentState:b,reason:T instanceof Error?T:new Error(T)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new K2({callback:N,params:{canvasContext:e,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:f});(b.renderTasks||(b.renderTasks=new Set)).add(j);const E=j.task;return Promise.all([b.displayReadyCapability.promise,c]).then(([T,k])=>{var P;if(this.destroyed){N();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:T,optionalContentConfig:k}),j.operatorListChanged()}).catch(N),E}getOperatorList({intent:e="display",annotationMode:t=wo.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var f;function i(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const a=this._transport.getRenderingIntent(e,t,n,s,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=i,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>sp.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function i(){a.read().then(function({value:d,done:f}){if(f){n(c);return}c.lang??(c.lang=d.lang),Object.assign(c.styles,d.styles),c.items.push(...d.items),i()},s)}const a=t.getReader(),c={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),U(this,_a,!1),Promise.all(e)}cleanup(e=!1){U(this,_a,!0);const t=W(this,gc,Cf).call(this);return e&&t&&this._stats&&(this._stats=new qT),t}_startRenderPage(e,t){var s,i;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=n.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&W(this,gc,Cf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:i,transfer:a}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},a).getReader(),f=this._intentStates.get(t);f.streamReader=d;const h=()=>{d.read().then(({value:p,done:m})=>{if(m){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),h())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const m of f.renderTasks)m.operatorListChanged();W(this,gc,Cf).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof PS){let s=kz;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new cl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}_a=new WeakMap,gc=new WeakSet,Cf=function(){if(!g(this,_a)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),U(this,_a,!1),!0};var $o,Ks,Aa,yc,Hy,xc,vc,wr,H0,x4,v4,Tf,Md,W0;const Bt=class Bt{constructor({name:e=null,port:t=null,verbosity:n=gV()}={}){H(this,wr);H(this,$o,Promise.withResolvers());H(this,Ks,null);H(this,Aa,null);H(this,yc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(g(Bt,vc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");g(Bt,vc).set(t,this),W(this,wr,x4).call(this,t)}else W(this,wr,v4).call(this)}get promise(){return g(this,$o).promise}get port(){return g(this,Aa)}get messageHandler(){return g(this,Ks)}destroy(){var e,t;this.destroyed=!0,(e=g(this,yc))==null||e.terminate(),U(this,yc,null),g(Bt,vc).delete(g(this,Aa)),U(this,Aa,null),(t=g(this,Ks))==null||t.destroy(),U(this,Ks,null)}static create(e){const t=g(this,vc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Bt(e)}static get workerSrc(){if($i.workerSrc)return $i.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ht(this,"_setupFakeWorkerGlobal",(async()=>g(this,Md,W0)?g(this,Md,W0):(await import(this.workerSrc)).WorkerMessageHandler)())}};$o=new WeakMap,Ks=new WeakMap,Aa=new WeakMap,yc=new WeakMap,Hy=new WeakMap,xc=new WeakMap,vc=new WeakMap,wr=new WeakSet,H0=function(){g(this,$o).resolve(),g(this,Ks).send("configure",{verbosity:this.verbosity})},x4=function(e){U(this,Aa,e),U(this,Ks,new jf("main","worker",e)),g(this,Ks).on("ready",()=>{}),W(this,wr,H0).call(this)},v4=function(){if(g(Bt,xc)||g(Bt,Md,W0)){W(this,wr,Tf).call(this);return}let{workerSrc:e}=Bt;try{Bt._isSameOrigin(window.location,e)||(e=Bt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new jf("main","worker",t),s=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?g(this,$o).reject(new Error("Worker was destroyed")):W(this,wr,Tf).call(this)},i=new AbortController;t.addEventListener("error",()=>{g(this,yc)||s()},{signal:i.signal}),n.on("test",c=>{if(i.abort(),this.destroyed||!c){s();return}U(this,Ks,n),U(this,Aa,t),U(this,yc,t),W(this,wr,H0).call(this)}),n.on("ready",c=>{if(i.abort(),this.destroyed){s();return}try{a()}catch{W(this,wr,Tf).call(this)}});const a=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};a();return}catch{jx("The worker has been disabled.")}W(this,wr,Tf).call(this)},Tf=function(){g(Bt,xc)||(nt("Setting up fake worker."),U(Bt,xc,!0)),Bt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){g(this,$o).reject(new Error("Worker was destroyed"));return}const t=new $V;U(this,Aa,t);const n=`fake${ur(Bt,Hy)._++}`,s=new jf(n+"_worker",n,t);e.setup(s,t),U(this,Ks,new jf(n,n+"_worker",t)),W(this,wr,H0).call(this)}).catch(e=>{g(this,$o).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Md=new WeakSet,W0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},H(Bt,Md),H(Bt,Hy,0),H(Bt,xc,!1),H(Bt,vc,new WeakMap),gr&&(U(Bt,xc,!0),$i.workerSrc||($i.workerSrc="./pdf.worker.mjs")),Bt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const s=new URL(t,n);return n.origin===s.origin},Bt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Bt.fromPort=e=>{if(kV("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Bt.create(e)};let ip=Bt;var Ea,Ri,Ld,Id,ka,bc,Pf;class Pz{constructor(e,t,n,s,i){H(this,bc);H(this,Ea,new Map);H(this,Ri,new Map);H(this,Ld,new Map);H(this,Id,new Map);H(this,ka,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new d4,this.fontLoader=new LV({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ht(this,"annotationStorage",new LS)}getRenderingIntent(e,t=wo.ENABLE,n=null,s=!1,i=!1){let a=cs.DISPLAY,c=M2;switch(e){case"any":a=cs.ANY;break;case"display":break;case"print":a=cs.PRINT;break;default:nt(`getRenderingIntent - invalid intent: ${e}`)}const d=a&cs.PRINT&&n instanceof X3?n:this.annotationStorage;switch(t){case wo.DISABLE:a+=cs.ANNOTATIONS_DISABLE;break;case wo.ENABLE:break;case wo.ENABLE_FORMS:a+=cs.ANNOTATIONS_FORMS;break;case wo.ENABLE_STORAGE:a+=cs.ANNOTATIONS_STORAGE,c=d.serializable;break;default:nt(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(a+=cs.IS_EDITING),i&&(a+=cs.OPLIST);const{ids:f,hash:h}=d.modifiedIds,p=[a,c.hash,h];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,ka))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of g(this,Ri).values())e.push(s._destroy());g(this,Ri).clear(),g(this,Ld).clear(),g(this,Id).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Ea).clear(),this.filterFactory.destroy(),rp.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new cl("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{gn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){s.close();return}gn(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:a}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(n,s)=>{gn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(n.begin,n.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:a,done:c}){if(c){s.close();return}gn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{i.cancel(a),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Cz(n,this))}),e.on("DocException",n=>{t._capability.reject(Tr(n))}),e.on("PasswordRequest",n=>{U(this,ka,Promise.withResolvers());try{if(!t.onPassword)throw Tr(n);const s=i=>{i instanceof Error?g(this,ka).reject(i):g(this,ka).resolve({password:i})};t.onPassword(s,n.code)}catch(s){g(this,ka).reject(s)}return g(this,ka).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Ri).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,i])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in i){const h=i.error;nt(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const c=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,d=new IV(i,c);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=i;gn(f,"The imageRef must be defined.");for(const h of g(this,Ri).values())for(const[,p]of h.objs)if((p==null?void 0:p.ref)===f)return p.dataLen?(this.commonObjs.resolve(n,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,i,a])=>{var d;if(this.destroyed)return;const c=g(this,Ri).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(d=a==null?void 0:a.bitmap)==null||d.close();return}switch(i){case"Image":case"Pattern":c.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,Ld).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&g(this,Id).set(i.refStr,e);const a=new Tz(t,i,this,this._params.pdfBug);return g(this,Ri).set(t,a),a});return g(this,Ld).set(t,s),s}getPageIndex(e){return L2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,bc,Pf).call(this,"GetFieldObjects")}hasJSActions(){return W(this,bc,Pf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,bc,Pf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,bc,Pf).call(this,"GetOptionalContentConfig").then(t=>new cz(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,Ea).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,a;return{info:s[0],metadata:s[1]?new oz(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,Ea).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,Ri).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Ea).clear(),this.filterFactory.destroy(!0),rp.cleanup()}}cachedPageNumber(e){if(!L2(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,Id).get(t)??null}}Ea=new WeakMap,Ri=new WeakMap,Ld=new WeakMap,Id=new WeakMap,ka=new WeakMap,bc=new WeakSet,Pf=function(e,t=null){const n=g(this,Ea).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return g(this,Ea).set(e,s),s};var qo;class Oz{constructor(e){H(this,qo,null);Me(this,"onContinue",null);Me(this,"onError",null);U(this,qo,e)}get promise(){return g(this,qo).capability.promise}cancel(e=0){g(this,qo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,qo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,qo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}qo=new WeakMap;var Vo,wc;const Ll=class Ll{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:m=null}){H(this,Vo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Oz(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,d;if(this.cancelled)return;if(this._canvas){if(g(Ll,wc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ll,wc).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:i,background:a}=this.params;this.gfx=new id(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n,s,i;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Vo)&&(window.cancelAnimationFrame(g(this,Vo)),U(this,Vo,null)),g(Ll,wc).delete(this._canvas),e||(e=new PS(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(s=this.task).onError)==null||i.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?U(this,Vo,window.requestAnimationFrame(()=>{U(this,Vo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ll,wc).delete(this._canvas),this.callback())))}};Vo=new WeakMap,wc=new WeakMap,H(Ll,wc,new WeakSet);let K2=Ll;const Rz="5.3.93",Mz="cbeef3233";function sP(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function pf(r){return Math.max(0,Math.min(255,255*r))}class iP{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=pf(e),[e,e,e]}static G_HTML([e]){const t=sP(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(pf)}static RGB_HTML(e){return`#${e.map(sP).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[pf(1-Math.min(1,e+s)),pf(1-Math.min(1,n+s)),pf(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,i=1-t,a=1-n,c=Math.min(s,i,a);return["CMYK",s,i,a,c]}}class Lz{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){kt("Abstract method `_createSVG` called.")}}class Cy extends Lz{_createSVG(e){return document.createElementNS(oa,e)}}class b4{static setupStorage(e,t,n,s,i){const a=s.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const c of n.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:i}){const{attributes:a}=t,c=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[d,f]of Object.entries(a))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}c&&i.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var p,m;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:n});const c=i!=="richText",d=e.div;if(d.append(a),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=y}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const y=document.createTextNode(s.value);a.append(y),c&&sp.shouldBuildText(s.name)&&f.push(y)}return{textDivs:f}}const h=[[s,-1,a]];for(;h.length>0;){const[y,v,b]=h.at(-1);if(v+1===y.children.length){h.pop();continue}const w=y.children[++h.at(-1)[1]];if(w===null)continue;const{name:N}=w;if(N==="#text"){const E=document.createTextNode(w.value);f.push(E),b.append(E);continue}const j=(p=w==null?void 0:w.attributes)!=null&&p.xmlns?document.createElementNS(w.attributes.xmlns,N):document.createElement(N);if(b.append(j),w.attributes&&this.setAttributes({html:j,element:w,storage:t,intent:i,linkService:n}),((m=w.children)==null?void 0:m.length)>0)h.push([w,-1,j]);else if(w.value){const E=document.createTextNode(w.value);c&&sp.shouldBuildText(N)&&f.push(E),j.append(E)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Iz=9,iu=new WeakSet;class aP{static create(e){switch(e.data.annotationType){case hn.LINK:return new w4(e);case hn.TEXT:return new Dz(e);case hn.WIDGET:switch(e.data.fieldType){case"Tx":return new Fz(e);case"Btn":return e.data.radioButton?new j4(e):e.data.checkBox?new Uz(e):new $z(e);case"Ch":return new qz(e);case"Sig":return new Bz(e)}return new du(e);case hn.POPUP:return new Y2(e);case hn.FREETEXT:return new C4(e);case hn.LINE:return new zz(e);case hn.SQUARE:return new Hz(e);case hn.CIRCLE:return new Wz(e);case hn.POLYLINE:return new T4(e);case hn.CARET:return new Kz(e);case hn.INK:return new FS(e);case hn.POLYGON:return new Gz(e);case hn.HIGHLIGHT:return new P4(e);case hn.UNDERLINE:return new Xz(e);case hn.SQUIGGLY:return new Yz(e);case hn.STRIKEOUT:return new Qz(e);case hn.STAMP:return new O4(e);case hn.FILEATTACHMENT:return new Zz(e);default:return new cn(e)}}}var Nc,Dd,Fd,Jp,X2;const zS=class zS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){H(this,Jp);H(this,Nc,null);H(this,Dd,!1);H(this,Fd,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return zS._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,Nc)||U(this,Nc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&W(this,Jp,X2).call(this,t),(n=g(this,Fd))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,Nc)&&(W(this,Jp,X2).call(this,g(this,Nc).rect),(e=g(this,Fd))==null||e.popup.resetEdited(),U(this,Nc,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof du||(i.tabIndex=0);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Y2){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,i),i}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(b>0||w>0){const j=`calc(${b}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;a.borderRadius=j}else if(this instanceof j4){const j=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;a.borderRadius=j}switch(t.borderStyle.style){case Vu.SOLID:a.borderStyle="solid";break;case Vu.DASHED:a.borderStyle="dashed";break;case Vu.BEVELED:nt("Unimplemented border style: beveled");break;case Vu.INSET:nt("Unimplemented border style: inset");break;case Vu.UNDERLINE:a.borderBottomStyle="solid";break}const N=t.borderColor||null;N?(U(this,Dd,!0),a.borderColor=Xe.makeHexColor(N[0]|0,N[1]|0,N[2]|0)):a.borderWidth=0}const f=Xe.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:p,pageX:m,pageY:y}=s.rawDims;a.left=`${100*(f[0]-m)/h}%`,a.top=`${100*(f[1]-y)/p}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*c/h}%`,a.height=`${100*d/p}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!==0&&([i,a]=[a,i]),t.style.width=`${100*i/n}%`,t.style.height=`${100*a/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const i=s.detail[t],a=i[0],c=i.slice(1);s.target.style[n]=iP[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:iP[`${a}_rgb`](c)})};return ht(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||n[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,i]of Object.entries(t)){const a=n[s];if(a){const c={detail:{[s]:i},target:e};a(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,i]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,w,N,j]=e.subarray(2,6);if(s===b&&i===w&&t===N&&n===j)return}const{style:a}=this.container;let c;if(g(this,Dd)){const{borderColor:b,borderWidth:w}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const d=s-t,f=i-n,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=h.createElement("defs");p.append(m);const y=h.createElement("clipPath"),v=`clippath_${this.data.id}`;y.setAttribute("id",v),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let b=2,w=e.length;b<w;b+=8){const N=e[b],j=e[b+1],E=e[b+2],S=e[b+3],A=h.createElement("rect"),T=(E-t)/d,k=(i-j)/f,P=(N-E)/d,D=(j-S)/f;A.setAttribute("x",T),A.setAttribute("y",k),A.setAttribute("width",P),A.setAttribute("height",D),y.append(A),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${P}" height="${D}"/>`)}g(this,Dd)&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=U(this,Fd,new Y2({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:a,exportValues:c}of s){if(i===-1||a===t)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${a}"]`);if(f&&!iu.has(f)){nt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:d,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,a=s.getAttribute("data-element-id");a!==t&&iu.has(s)&&n.push({id:a,exportValue:i,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Nc=new WeakMap,Dd=new WeakMap,Fd=new WeakMap,Jp=new WeakSet,X2=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:c,pageY:d}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-c)/i}%`,t.top=`${100*(a-e[3]+d)/a}%`,s===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(s)};let cn=zS;var ds,Pl,N4,S4;class w4 extends cn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});H(this,ds);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(W(this,ds,N4).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(W(this,ds,S4).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&W(this,ds,Pl).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),W(this,ds,Pl).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=s.get(i);a&&(t[a]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),W(this,ds,Pl).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),W(this,ds,Pl).call(this),!this._fieldObjects){nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var p;s==null||s();const{fields:i,refs:a,include:c}=n,d=[];if(i.length!==0||a.length!==0){const m=new Set(a);for(const y of i){const v=this._fieldObjects[y]||[];for(const{id:b}of v)m.add(b)}for(const y of Object.values(this._fieldObjects))for(const v of y)m.has(v.id)===c&&d.push(v)}else for(const m of Object.values(this._fieldObjects))d.push(...m);const f=this.annotationStorage,h=[];for(const m of d){const{id:y}=m;switch(h.push(y),m.type){case"text":{const b=m.defaultValue||"";f.setValue(y,{value:b});break}case"checkbox":case"radiobutton":{const b=m.defaultValue===m.exportValues;f.setValue(y,{value:b});break}case"combobox":case"listbox":{const b=m.defaultValue||"";f.setValue(y,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${y}"]`);if(v){if(!iu.has(v)){nt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ds=new WeakSet,Pl=function(){this.container.setAttribute("data-internal-link","")},N4=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(n.content,n.filename,s),!1},W(this,ds,Pl).call(this)},S4=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),W(this,ds,Pl).call(this)};class Dz extends cn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class du extends cn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Kn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,i){n.includes("mouse")?e.addEventListener(n,a=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var c;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}i&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a)}}))})}_setEventListeners(e,t,n,s){var i,a,c;for(const[d,f]of n)(f==="Action"||(i=this.data.actions)!=null&&i[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,f,s),f==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Xe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Iz,i=e.style;let a;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),h=Math.round(f/(Sw*s))||1,p=f/h;a=Math.min(s,d(p/Sw))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(s,d(f/Sw))}i.fontSize=`calc(${a}px * var(--total-scale-factor))`,i.color=Xe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Fz extends du{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[s]:n})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let c=a.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&c.length>d&&(c=c.slice(0,d));let f=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const h={userValue:c,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",f??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),iu.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const p=this.data.dateFormat||this.data.timeFormat;p&&(n.title=p),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",y=>{const v=this.data.defaultFieldValue??"";n.value=h.userValue=v,h.formattedValue=null});let m=y=>{const{formattedValue:v}=h;v!=null&&(y.target.value=v),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",v=>{var w;if(h.focused)return;const{target:b}=v;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const b={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:N}=w.detail;h.formattedValue=N,N!=null&&w.target!==document.activeElement&&(w.target.value=N),e.setValue(t,{formattedValue:N})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var S;const{charLimit:N}=w.detail,{target:j}=w;if(N===0){j.removeAttribute("maxLength");return}j.setAttribute("maxLength",N);let E=h.userValue;!E||E.length<=N||(E=E.slice(0,N),j.value=h.userValue=E,e.setValue(t,{value:E}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:j.selectionStart,selEnd:j.selectionEnd}}))}};this._dispatchEventFromSandbox(b,v)}),n.addEventListener("keydown",v=>{var N;h.commitKey=1;let b=-1;if(v.key==="Escape"?b=0:v.key==="Enter"&&!this.data.multiLine?b=2:v.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:w}=v.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",v=>{var w,N;if(!h.focused||!v.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(h.focused=!1);const{value:b}=v.target;h.userValue=b,h.lastCommittedValue!==b&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),y(v)}),(i=this.data.actions)!=null&&i.Keystroke&&n.addEventListener("beforeinput",v=>{var T;h.lastCommittedValue=null;const{data:b,target:w}=v,{value:N,selectionStart:j,selectionEnd:E}=w;let S=j,A=E;switch(v.inputType){case"deleteWordBackward":{const k=N.substring(0,j).match(/\w*[^\w]*$/);k&&(S-=k[0].length);break}case"deleteWordForward":{const k=N.substring(j).match(/^[^\w]*\w*/);k&&(A+=k[0].length);break}case"deleteContentBackward":j===E&&(S-=1);break;case"deleteContentForward":j===E&&(A+=1);break}v.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,change:b||"",willCommit:!1,selStart:S,selEnd:A}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Bz extends du{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Uz extends du{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return iu.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",a=>{const{name:c,checked:d}=a.target;for(const f of this._getElementsByName(c,n)){const h=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(n,{value:d})}),i.addEventListener("resetform",a=>{const c=t.defaultFieldValue||"Off";a.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class j4 extends du{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(iu.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",a=>{const{name:c,checked:d}=a.target;for(const f of this._getElementsByName(c,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:d})}),i.addEventListener("resetform",a=>{const c=t.defaultFieldValue;a.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const h=a===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const m=h&&p.id===n;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class $z extends w4{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class qz extends du{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");iu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,n.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),i=!1),s.append(p)}let a=null;if(i){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const c=h=>{const p=h?"value":"textContent",{options:m,multiple:y}=s;return y?Array.prototype.filter.call(m,v=>v.selected).map(v=>v[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let d=c(!1);const f=h=>{const p=h.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const p={value(m){a==null||a();const y=m.detail.value,v=new Set(Array.isArray(y)?y:[y]);for(const b of s.options)b.selected=v.has(b.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(m){s.multiple=!0},remove(m){const y=s.options,v=m.detail.remove;y[v].selected=!1,s.remove(v),y.length>0&&Array.prototype.findIndex.call(y,w=>w.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:f(m)}),d=c(!1)},clear(m){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(m){const{index:y,displayValue:v,exportValue:b}=m.detail.insert,w=s.children[y],N=document.createElement("option");N.textContent=v,N.value=b,w?w.before(N):s.append(N),e.setValue(t,{value:c(!0),items:f(m)}),d=c(!1)},items(m){const{items:y}=m.detail;for(;s.length!==0;)s.remove(0);for(const v of y){const{displayValue:b,exportValue:w}=v,N=document.createElement("option");N.textContent=b,N.value=w,s.append(N)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(m)}),d=c(!1)},indices(m){const y=new Set(m.detail.indices);for(const v of m.target.options)v.selected=y.has(v.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,h)}),s.addEventListener("input",h=>{var y;const p=c(!0),m=c(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Y2 extends cn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:cn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new Vz({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${TS}${s}`).join(",")),this.container}}var Bd,Wy,Gy,Ud,$d,Jt,Ca,Sc,em,tm,qd,Ta,Xs,Pa,nm,Oa,rm,jc,_c,Ct,G0,Q2,_4,A4,E4,k4,K0,X0,Z2;class Vz{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:i,contentsObj:a,richText:c,parent:d,rect:f,parentRect:h,open:p}){H(this,Ct);H(this,Bd,W(this,Ct,E4).bind(this));H(this,Wy,W(this,Ct,Z2).bind(this));H(this,Gy,W(this,Ct,X0).bind(this));H(this,Ud,W(this,Ct,K0).bind(this));H(this,$d,null);H(this,Jt,null);H(this,Ca,null);H(this,Sc,null);H(this,em,null);H(this,tm,null);H(this,qd,null);H(this,Ta,!1);H(this,Xs,null);H(this,Pa,null);H(this,nm,null);H(this,Oa,null);H(this,rm,null);H(this,jc,null);H(this,_c,!1);var m;U(this,Jt,e),U(this,rm,s),U(this,Ca,a),U(this,Oa,c),U(this,tm,d),U(this,$d,t),U(this,nm,f),U(this,qd,h),U(this,em,n),U(this,Sc,RS.toDateObject(i)),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",g(this,Ud)),y.addEventListener("mouseenter",g(this,Gy)),y.addEventListener("mouseleave",g(this,Wy)),y.classList.add("popupTriggerArea");for(const y of n)(m=y.container)==null||m.addEventListener("keydown",g(this,Bd));g(this,Jt).hidden=!0,p&&W(this,Ct,K0).call(this)}render(){if(g(this,Xs))return;const e=U(this,Xs,document.createElement("div"));if(e.className="popup",g(this,$d)){const i=e.style.outlineColor=Xe.makeHexColor(...g(this,$d));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,rm),e.append(t),g(this,Sc)){const i=document.createElement("time");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Sc).valueOf()})),i.dateTime=g(this,Sc).toISOString(),t.append(i)}const s=g(this,Ct,G0);if(s)b4.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(g(this,Ca));e.append(i)}g(this,Jt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,a=s.length;i<a;++i){const c=s[i];n.append(document.createTextNode(c)),i<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,jc)||U(this,jc,{contentsObj:g(this,Ca),richText:g(this,Oa)}),e&&U(this,Pa,null),t&&(U(this,Oa,W(this,Ct,A4).call(this,t)),U(this,Ca,null)),(n=g(this,Xs))==null||n.remove(),U(this,Xs,null)}resetEdited(){var e;g(this,jc)&&({contentsObj:ur(this,Ca)._,richText:ur(this,Oa)._}=g(this,jc),U(this,jc,null),(e=g(this,Xs))==null||e.remove(),U(this,Xs,null),U(this,Pa,null))}forceHide(){U(this,_c,this.isVisible),g(this,_c)&&(g(this,Jt).hidden=!0)}maybeShow(){g(this,_c)&&(g(this,Xs)||W(this,Ct,X0).call(this),U(this,_c,!1),g(this,Jt).hidden=!1)}get isVisible(){return g(this,Jt).hidden===!1}}Bd=new WeakMap,Wy=new WeakMap,Gy=new WeakMap,Ud=new WeakMap,$d=new WeakMap,Jt=new WeakMap,Ca=new WeakMap,Sc=new WeakMap,em=new WeakMap,tm=new WeakMap,qd=new WeakMap,Ta=new WeakMap,Xs=new WeakMap,Pa=new WeakMap,nm=new WeakMap,Oa=new WeakMap,rm=new WeakMap,jc=new WeakMap,_c=new WeakMap,Ct=new WeakSet,G0=function(){const e=g(this,Oa),t=g(this,Ca);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,Oa).html||null},Q2=function(){var e,t,n;return((n=(t=(e=g(this,Ct,G0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},_4=function(){var e,t,n;return((n=(t=(e=g(this,Ct,G0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},A4=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:g(this,Ct,_4),fontSize:g(this,Ct,Q2)?`calc(${g(this,Ct,Q2)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return n},E4=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Ta))&&W(this,Ct,K0).call(this)},k4=function(){if(g(this,Pa)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:i}}}=g(this,tm);let a=!!g(this,qd),c=a?g(this,qd):g(this,nm);for(const v of g(this,em))if(!c||Xe.intersect(v.data.rect,c)!==null){c=v.data.rect,a=!0;break}const d=Xe.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),h=a?c[2]-c[0]+5:0,p=d[0]+h,m=d[1];U(this,Pa,[100*(p-s)/t,100*(m-i)/n]);const{style:y}=g(this,Jt);y.left=`${g(this,Pa)[0]}%`,y.top=`${g(this,Pa)[1]}%`},K0=function(){U(this,Ta,!g(this,Ta)),g(this,Ta)?(W(this,Ct,X0).call(this),g(this,Jt).addEventListener("click",g(this,Ud)),g(this,Jt).addEventListener("keydown",g(this,Bd))):(W(this,Ct,Z2).call(this),g(this,Jt).removeEventListener("click",g(this,Ud)),g(this,Jt).removeEventListener("keydown",g(this,Bd)))},X0=function(){g(this,Xs)||this.render(),this.isVisible?g(this,Ta)&&g(this,Jt).classList.add("focused"):(W(this,Ct,k4).call(this),g(this,Jt).hidden=!1,g(this,Jt).style.zIndex=parseInt(g(this,Jt).style.zIndex)+1e3)},Z2=function(){g(this,Jt).classList.remove("focused"),!(g(this,Ta)||!this.isVisible)&&(g(this,Jt).hidden=!0,g(this,Jt).style.zIndex=parseInt(g(this,Jt).style.zIndex)-1e3)};class C4 extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sm;class zz extends cn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,sm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:s}=this,i=this.svgFactory.create(n,s,!0),a=U(this,sm,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,sm)}addHighlightArea(){this.container.classList.add("highlightArea")}}sm=new WeakMap;var im;class Hz extends cn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,im,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:s}=this,i=this.svgFactory.create(n,s,!0),a=t.borderStyle.width,c=U(this,im,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",a/2),c.setAttribute("y",a/2),c.setAttribute("width",n-a),c.setAttribute("height",s-a),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),i.append(c),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,im)}addHighlightArea(){this.container.classList.add("highlightArea")}}im=new WeakMap;var am;class Wz extends cn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,am,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:s}=this,i=this.svgFactory.create(n,s,!0),a=t.borderStyle.width,c=U(this,am,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-a/2),c.setAttribute("ry",s/2-a/2),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),i.append(c),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,am)}addHighlightArea(){this.container.classList.add("highlightArea")}}am=new WeakMap;var om;class T4 extends cn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,om,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:i},width:a,height:c}=this;if(!n)return this.container;const d=this.svgFactory.create(a,c,!0);let f=[];for(let p=0,m=n.length;p<m;p+=2){const y=n[p]-t[0],v=t[3]-n[p+1];f.push(`${y},${v}`)}f=f.join(" ");const h=U(this,om,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",f),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),d.append(h),this.container.append(d),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,om)}addHighlightArea(){this.container.classList.add("highlightArea")}}om=new WeakMap;class Gz extends T4{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Kz extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var lm,Ac,cm,J2;class FS extends cn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});H(this,cm);H(this,lm,null);H(this,Ac,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?tt.HIGHLIGHT:tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:s,borderStyle:i,popupRef:a}}=this,{transform:c,width:d,height:f}=W(this,cm,J2).call(this,n,t),h=this.svgFactory.create(d,f,!0),p=U(this,lm,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,y=s.length;m<y;m++){const v=this.svgFactory.createElement(this.svgElementName);g(this,Ac).push(v),v.setAttribute("points",s[m].join(",")),p.append(v)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:s,rect:i}=t,a=g(this,lm);if(n>=0&&a.setAttribute("stroke-width",n||1),s)for(let c=0,d=g(this,Ac).length;c<d;c++)g(this,Ac)[c].setAttribute("points",s[c].join(","));if(i){const{transform:c,width:d,height:f}=W(this,cm,J2).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${d} ${f}`),a.setAttribute("transform",c)}}getElementsToTriggerPopup(){return g(this,Ac)}addHighlightArea(){this.container.classList.add("highlightArea")}}lm=new WeakMap,Ac=new WeakMap,cm=new WeakSet,J2=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class P4 extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=tt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Xz extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Yz extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Qz extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class O4 extends cn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var um,dm,eN;class Zz extends cn{constructor(t){var s;super(t,{isRenderable:!0});H(this,dm);H(this,um,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",W(this,dm,eN).bind(this)),U(this,um,s);const{isMac:i}=Kn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&W(this,dm,eN).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return g(this,um)}addHighlightArea(){this.container.classList.add("highlightArea")}}um=new WeakMap,dm=new WeakSet,eN=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var hm,Ec,zo,fm,fl,nN,rN;const HS=class HS{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:i,viewport:a,structTreeLayer:c}){H(this,fl);H(this,hm,null);H(this,Ec,null);H(this,zo,new Map);H(this,fm,null);this.div=e,U(this,hm,t),U(this,Ec,n),U(this,fm,c||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return g(this,zo).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;ru(n,this.viewport);const s=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Cy,annotationStorage:e.annotationStorage||new LS,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===hn.POPUP;if(d){const p=s.get(c.id);if(!p)continue;i.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;i.data=c;const f=aP.create(i);if(!f.isRenderable)continue;if(!d&&c.popupRef){const p=s.get(c.popupRef);p?p.push(f):s.set(c.popupRef,[f])}const h=f.render();c.hidden&&(h.style.visibility="hidden"),await W(this,fl,nN).call(this,h,c.id,i.elements),f._isEditable&&(g(this,zo).set(f.data.id,f),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(f))}W(this,fl,rN).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Cy,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=HS._defaultBorderStyle),n.data=s;const i=aP.create(n);if(!i.isRenderable)continue;const a=i.render();await W(this,fl,nN).call(this,a,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ru(t,{rotation:e.rotation}),W(this,fl,rN).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,zo).values())}getEditableAnnotation(e){return g(this,zo).get(e)}static get _defaultBorderStyle(){return ht(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Vu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};hm=new WeakMap,Ec=new WeakMap,zo=new WeakMap,fm=new WeakMap,fl=new WeakSet,nN=async function(e,t,n){var c,d;const s=e.firstChild||e,i=s.id=`${TS}${t}`,a=await((c=g(this,fm))==null?void 0:c.getAriaAttributes(i));if(a)for(const[f,h]of a)s.setAttribute(f,h);n?n.at(-1).container.after(e):(this.div.append(e),(d=g(this,hm))==null||d.moveElementInDOM(this.div,e,s,!1))},rN=function(){var t;if(!g(this,Ec))return;const e=this.div;for(const[n,s]of g(this,Ec)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):i.append(s);const c=g(this,zo).get(n);c&&(c._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,i.id,s),c._hasNoCanvas=!1):c.canvas=s)}g(this,Ec).clear()};let tN=HS;const v0=/\r\n?|\n/g;var Ys,Jr,pm,kc,es,xn,R4,M4,L4,Y0,za,Q0,Z0,I4,iN,D4;const Ot=class Ot extends Rt{constructor(t){super({...t,name:"freeTextEditor"});H(this,xn);H(this,Ys);H(this,Jr,"");H(this,pm,`${this.id}-editor`);H(this,kc,null);H(this,es);U(this,Ys,t.color||Ot._defaultColor||Rt._defaultLineColor),U(this,es,t.fontSize||Ot._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ot.prototype,n=a=>a.isEmpty(),s=su.TRANSLATE_SMALL,i=su.TRANSLATE_BIG;return ht(this,"_keyboardManager",new Xm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}]]))}static initialize(t,n){Rt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case pt.FREETEXT_SIZE:Ot._defaultFontSize=n;break;case pt.FREETEXT_COLOR:Ot._defaultColor=n;break}}updateParams(t,n){switch(t){case pt.FREETEXT_SIZE:W(this,xn,R4).call(this,n);break;case pt.FREETEXT_COLOR:W(this,xn,M4).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pt.FREETEXT_SIZE,Ot._defaultFontSize],[pt.FREETEXT_COLOR,Ot._defaultColor||Rt._defaultLineColor]]}get propertiesToUpdate(){return[[pt.FREETEXT_SIZE,g(this,es)],[pt.FREETEXT_COLOR,g(this,Ys)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ot._internalPadding*t,-(Ot._internalPadding+g(this,es))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),U(this,kc,new AbortController);const t=this._uiManager.combinedSignal(g(this,kc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,pm)),this._isDraggable=!0,(t=g(this,kc))==null||t.abort(),U(this,kc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Jr),n=U(this,Jr,W(this,xn,L4).call(this).trimEnd());if(t===n)return;const s=i=>{if(U(this,Jr,i),!i){this.remove();return}W(this,xn,Z0).call(this),this._uiManager.rebuild(this),W(this,xn,Y0).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),W(this,xn,Y0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ot._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,pm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${g(this,es)}px * var(--total-scale-factor))`,s.color=g(this,Ys),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,f]=this.getInitialTranslation();[d,f]=this.pageTranslationToScreen(d,f);const[h,p]=this.pageDimensions,[m,y]=this.pageTranslation;let v,b;switch(this.rotation){case 0:v=t+(c[0]-m)/h,b=n+this.height-(c[1]-y)/p;break;case 90:v=t+(c[0]-m)/h,b=n-(c[1]-y)/p,[d,f]=[f,-d];break;case 180:v=t-this.width+(c[0]-m)/h,b=n-(c[1]-y)/p,[d,f]=[-d,-f];break;case 270:v=t+(c[0]-m-this.height*p)/h,b=n+(c[1]-y-this.width*h)/p,[d,f]=[-f,d];break}this.setAt(v*i,b*a,d,f)}else this._moveAfterPaste(t,n);W(this,xn,Z0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,b,w;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=W(v=Ot,za,iN).call(v,n.getData("text")||"").replaceAll(v0,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const c=a.getRangeAt(0);if(!i.includes(`
`)){c.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:d,startOffset:f}=c,h=[],p=[];if(d.nodeType===Node.TEXT_NODE){const N=d.parentElement;if(p.push(d.nodeValue.slice(f).replaceAll(v0,"")),N!==this.editorDiv){let j=h;for(const E of this.editorDiv.childNodes){if(E===N){j=p;continue}j.push(W(b=Ot,za,Q0).call(b,E))}}h.push(d.nodeValue.slice(0,f).replaceAll(v0,""))}else if(d===this.editorDiv){let N=h,j=0;for(const E of this.editorDiv.childNodes)j++===f&&(N=p),N.push(W(w=Ot,za,Q0).call(w,E))}U(this,Jr,`${h.join(`
`)}${i}${p.join(`
`)}`),W(this,xn,Z0).call(this);const m=new Range;let y=Math.sumPrecise(h.map(N=>N.length));for(const{firstChild:N}of this.editorDiv.childNodes)if(N.nodeType===Node.TEXT_NODE){const j=N.nodeValue.length;if(y<=j){m.setStart(N,y),m.setEnd(N,y);break}y-=j}a.removeAllRanges(),a.addRange(m)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var c;let i=null;if(t instanceof C4){const{data:{defaultAppearanceData:{fontSize:d,fontColor:f},rect:h,rotation:p,id:m,popupRef:y},textContent:v,textPosition:b,parent:{page:{pageNumber:w}}}=t;if(!v||v.length===0)return null;i=t={annotationType:tt.FREETEXT,color:Array.from(f),fontSize:d,value:v.join(`
`),position:b,pageIndex:w-1,rect:h.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:y}}const a=await super.deserialize(t,n,s);return U(a,es,t.fontSize),U(a,Ys,Xe.makeHexColor(...t.color)),U(a,Jr,W(c=Ot,za,iN).call(c,t.value)),a._initialData=i,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ot._internalPadding*this.parentScale,s=this.getRect(n,n),i=Rt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Ys)),a={annotationType:tt.FREETEXT,color:i,fontSize:g(this,es),value:W(this,xn,I4).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!W(this,xn,D4).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${g(this,es)}px * var(--total-scale-factor))`,s.color=g(this,Ys),n.replaceChildren();for(const a of g(this,Jr).split(`
`)){const c=document.createElement("div");c.append(a?document.createTextNode(a):document.createElement("br")),n.append(c)}const i=Ot._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:g(this,Jr)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ys=new WeakMap,Jr=new WeakMap,pm=new WeakMap,kc=new WeakMap,es=new WeakMap,xn=new WeakSet,R4=function(t){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-g(this,es))*this.parentScale),U(this,es,i),W(this,xn,Y0).call(this)},s=g(this,es);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},M4=function(t){const n=i=>{U(this,Ys,this.editorDiv.style.color=i)},s=g(this,Ys);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},L4=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(W(s=Ot,za,Q0).call(s,i)),n=i);return t.join(`
`)},Y0=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,c=a.style.display,d=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=c,a.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},za=new WeakSet,Q0=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(v0,"")},Z0=function(){if(this.editorDiv.replaceChildren(),!!g(this,Jr))for(const t of g(this,Jr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},I4=function(){return g(this,Jr).replaceAll(" "," ")},iN=function(t){return t.replaceAll(" "," ")},D4=function(t){const{value:n,fontSize:s,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((c,d)=>c!==i[d])||t.pageIndex!==a},H(Ot,za),Me(Ot,"_freeTextDefaultContent",""),Me(Ot,"_internalPadding",0),Me(Ot,"_defaultColor",null),Me(Ot,"_defaultFontSize",10),Me(Ot,"_type","freetext"),Me(Ot,"_editorType",tt.FREETEXT);let sN=Ot;class $e{toSVGPath(){kt("Abstract method `toSVGPath` must be implemented.")}get box(){kt("Abstract getter `box` must be implemented.")}serialize(e,t){kt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,s,i,a){a||(a=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)a[c]=t+e[c]*s,a[c+1]=n+e[c+1]*i;return a}static _rescaleAndSwap(e,t,n,s,i,a){a||(a=new Float32Array(e.length));for(let c=0,d=e.length;c<d;c+=2)a[c]=t+e[c+1]*s,a[c+1]=n+e[c]*i;return a}static _translate(e,t,n,s){s||(s=new Float32Array(e.length));for(let i=0,a=e.length;i<a;i+=2)s[i]=t+e[i],s[i+1]=n+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,s,i){switch(i){case 90:return[1-t/n,e/s];case 180:return[1-e/n,1-t/s];case 270:return[t/n,1-e/s];default:return[e/n,t/s]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,s,i,a){return[(e+5*n)/6,(t+5*s)/6,(5*n+i)/6,(5*s+a)/6,(n+i)/2,(s+a)/2]}}Me($e,"PRECISION",1e-4);var ts,Qs,Vd,zd,Mi,ut,Cc,Tc,mm,gm,Hd,Wd,Ho,ym,Ky,Xy,An,Of,F4,B4,U4,$4,q4,V4;const da=class da{constructor({x:e,y:t},n,s,i,a,c=0){H(this,An);H(this,ts);H(this,Qs,[]);H(this,Vd);H(this,zd);H(this,Mi,[]);H(this,ut,new Float32Array(18));H(this,Cc);H(this,Tc);H(this,mm);H(this,gm);H(this,Hd);H(this,Wd);H(this,Ho,[]);U(this,ts,n),U(this,Wd,i*s),U(this,zd,a),g(this,ut).set([NaN,NaN,NaN,NaN,e,t],6),U(this,Vd,c),U(this,gm,g(da,ym)*s),U(this,mm,g(da,Xy)*s),U(this,Hd,s),g(this,Ho).push(e,t)}isEmpty(){return isNaN(g(this,ut)[8])}add({x:e,y:t}){var D;U(this,Cc,e),U(this,Tc,t);const[n,s,i,a]=g(this,ts);let[c,d,f,h]=g(this,ut).subarray(8,12);const p=e-f,m=t-h,y=Math.hypot(p,m);if(y<g(this,mm))return!1;const v=y-g(this,gm),b=v/y,w=b*p,N=b*m;let j=c,E=d;c=f,d=h,f+=w,h+=N,(D=g(this,Ho))==null||D.push(e,t);const S=-N/v,A=w/v,T=S*g(this,Wd),k=A*g(this,Wd);return g(this,ut).set(g(this,ut).subarray(2,8),0),g(this,ut).set([f+T,h+k],4),g(this,ut).set(g(this,ut).subarray(14,18),12),g(this,ut).set([f-T,h-k],16),isNaN(g(this,ut)[6])?(g(this,Mi).length===0&&(g(this,ut).set([c+T,d+k],2),g(this,Mi).push(NaN,NaN,NaN,NaN,(c+T-n)/i,(d+k-s)/a),g(this,ut).set([c-T,d-k],14),g(this,Qs).push(NaN,NaN,NaN,NaN,(c-T-n)/i,(d-k-s)/a)),g(this,ut).set([j,E,c,d,f,h],6),!this.isEmpty()):(g(this,ut).set([j,E,c,d,f,h],6),Math.abs(Math.atan2(E-d,j-c)-Math.atan2(N,w))<Math.PI/2?([c,d,f,h]=g(this,ut).subarray(2,6),g(this,Mi).push(NaN,NaN,NaN,NaN,((c+f)/2-n)/i,((d+h)/2-s)/a),[c,d,j,E]=g(this,ut).subarray(14,18),g(this,Qs).push(NaN,NaN,NaN,NaN,((j+c)/2-n)/i,((E+d)/2-s)/a),!0):([j,E,c,d,f,h]=g(this,ut).subarray(0,6),g(this,Mi).push(((j+5*c)/6-n)/i,((E+5*d)/6-s)/a,((5*c+f)/6-n)/i,((5*d+h)/6-s)/a,((c+f)/2-n)/i,((d+h)/2-s)/a),[f,h,c,d,j,E]=g(this,ut).subarray(12,18),g(this,Qs).push(((j+5*c)/6-n)/i,((E+5*d)/6-s)/a,((5*c+f)/6-n)/i,((5*d+h)/6-s)/a,((c+f)/2-n)/i,((d+h)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Mi),t=g(this,Qs);if(isNaN(g(this,ut)[6])&&!this.isEmpty())return W(this,An,F4).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);W(this,An,U4).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return W(this,An,B4).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,i,a){return new z4(e,t,n,s,i,a)}getOutlines(){var p;const e=g(this,Mi),t=g(this,Qs),n=g(this,ut),[s,i,a,c]=g(this,ts),d=new Float32Array((((p=g(this,Ho))==null?void 0:p.length)??0)+2);for(let m=0,y=d.length-2;m<y;m+=2)d[m]=(g(this,Ho)[m]-s)/a,d[m+1]=(g(this,Ho)[m+1]-i)/c;if(d[d.length-2]=(g(this,Cc)-s)/a,d[d.length-1]=(g(this,Tc)-i)/c,isNaN(n[6])&&!this.isEmpty())return W(this,An,$4).call(this,d);const f=new Float32Array(g(this,Mi).length+24+g(this,Qs).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){f[m]=f[m+1]=NaN;continue}f[m]=e[m],f[m+1]=e[m+1]}h=W(this,An,V4).call(this,f,h);for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(t[m+y])){f[h]=f[h+1]=NaN,h+=2;continue}f[h]=t[m+y],f[h+1]=t[m+y+1],h+=2}return W(this,An,q4).call(this,f,h),this.newFreeDrawOutline(f,d,g(this,ts),g(this,Hd),g(this,Vd),g(this,zd))}};ts=new WeakMap,Qs=new WeakMap,Vd=new WeakMap,zd=new WeakMap,Mi=new WeakMap,ut=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,mm=new WeakMap,gm=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,Ho=new WeakMap,ym=new WeakMap,Ky=new WeakMap,Xy=new WeakMap,An=new WeakSet,Of=function(){const e=g(this,ut).subarray(4,6),t=g(this,ut).subarray(16,18),[n,s,i,a]=g(this,ts);return[(g(this,Cc)+(e[0]-t[0])/2-n)/i,(g(this,Tc)+(e[1]-t[1])/2-s)/a,(g(this,Cc)+(t[0]-e[0])/2-n)/i,(g(this,Tc)+(t[1]-e[1])/2-s)/a]},F4=function(){const[e,t,n,s]=g(this,ts),[i,a,c,d]=W(this,An,Of).call(this);return`M${(g(this,ut)[2]-e)/n} ${(g(this,ut)[3]-t)/s} L${(g(this,ut)[4]-e)/n} ${(g(this,ut)[5]-t)/s} L${i} ${a} L${c} ${d} L${(g(this,ut)[16]-e)/n} ${(g(this,ut)[17]-t)/s} L${(g(this,ut)[14]-e)/n} ${(g(this,ut)[15]-t)/s} Z`},B4=function(e){const t=g(this,Qs);e.push(`L${t[4]} ${t[5]} Z`)},U4=function(e){const[t,n,s,i]=g(this,ts),a=g(this,ut).subarray(4,6),c=g(this,ut).subarray(16,18),[d,f,h,p]=W(this,An,Of).call(this);e.push(`L${(a[0]-t)/s} ${(a[1]-n)/i} L${d} ${f} L${h} ${p} L${(c[0]-t)/s} ${(c[1]-n)/i}`)},$4=function(e){const t=g(this,ut),[n,s,i,a]=g(this,ts),[c,d,f,h]=W(this,An,Of).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-s)/a,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-s)/a],0),this.newFreeDrawOutline(p,e,g(this,ts),g(this,Hd),g(this,Vd),g(this,zd))},q4=function(e,t){const n=g(this,Qs);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},V4=function(e,t){const n=g(this,ut).subarray(4,6),s=g(this,ut).subarray(16,18),[i,a,c,d]=g(this,ts),[f,h,p,m]=W(this,An,Of).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/c,(n[1]-a)/d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-i)/c,(s[1]-a)/d],t),t+=24},H(da,ym,8),H(da,Ky,2),H(da,Xy,g(da,ym)+g(da,Ky));let Ty=da;var Gd,Pc,Ra,xm,ns,vm,an,Yy,H4;class z4 extends $e{constructor(t,n,s,i,a,c){super();H(this,Yy);H(this,Gd);H(this,Pc,new Float32Array(4));H(this,Ra);H(this,xm);H(this,ns);H(this,vm);H(this,an);U(this,an,t),U(this,ns,n),U(this,Gd,s),U(this,vm,i),U(this,Ra,a),U(this,xm,c),this.lastPoint=[NaN,NaN],W(this,Yy,H4).call(this,c);const[d,f,h,p]=g(this,Pc);for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-d)/h,t[m+1]=(t[m+1]-f)/p;for(let m=0,y=n.length;m<y;m+=2)n[m]=(n[m]-d)/h,n[m+1]=(n[m+1]-f)/p}toSVGPath(){const t=[`M${g(this,an)[4]} ${g(this,an)[5]}`];for(let n=6,s=g(this,an).length;n<s;n+=6){if(isNaN(g(this,an)[n])){t.push(`L${g(this,an)[n+4]} ${g(this,an)[n+5]}`);continue}t.push(`C${g(this,an)[n]} ${g(this,an)[n+1]} ${g(this,an)[n+2]} ${g(this,an)[n+3]} ${g(this,an)[n+4]} ${g(this,an)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,i],a){const c=s-t,d=i-n;let f,h;switch(a){case 0:f=$e._rescale(g(this,an),t,i,c,-d),h=$e._rescale(g(this,ns),t,i,c,-d);break;case 90:f=$e._rescaleAndSwap(g(this,an),t,n,c,d),h=$e._rescaleAndSwap(g(this,ns),t,n,c,d);break;case 180:f=$e._rescale(g(this,an),s,n,-c,d),h=$e._rescale(g(this,ns),s,n,-c,d);break;case 270:f=$e._rescaleAndSwap(g(this,an),s,i,-c,-d),h=$e._rescaleAndSwap(g(this,ns),s,i,-c,-d);break}return{outline:Array.from(f),points:[Array.from(h)]}}get box(){return g(this,Pc)}newOutliner(t,n,s,i,a,c=0){return new Ty(t,n,s,i,a,c)}getNewOutline(t,n){const[s,i,a,c]=g(this,Pc),[d,f,h,p]=g(this,Gd),m=a*h,y=c*p,v=s*h+d,b=i*p+f,w=this.newOutliner({x:g(this,ns)[0]*m+v,y:g(this,ns)[1]*y+b},g(this,Gd),g(this,vm),t,g(this,xm),n??g(this,Ra));for(let N=2;N<g(this,ns).length;N+=2)w.add({x:g(this,ns)[N]*m+v,y:g(this,ns)[N+1]*y+b});return w.getOutlines()}}Gd=new WeakMap,Pc=new WeakMap,Ra=new WeakMap,xm=new WeakMap,ns=new WeakMap,vm=new WeakMap,an=new WeakMap,Yy=new WeakSet,H4=function(t){const n=g(this,an);let s=n[4],i=n[5];const a=[s,i,s,i];let c=s,d=i;const f=t?Math.max:Math.min;for(let p=6,m=n.length;p<m;p+=6){const y=n[p+4],v=n[p+5];if(isNaN(n[p]))Xe.pointBoundingBox(y,v,a),d<v?(c=y,d=v):d===v&&(c=f(c,y));else{const b=[1/0,1/0,-1/0,-1/0];Xe.bezierBoundingBox(s,i,...n.slice(p,p+6),b),Xe.rectBoundingBox(...b,a),d<b[3]?(c=b[2],d=b[3]):d===b[3]&&(c=f(c,b[2]))}s=y,i=v}const h=g(this,Pc);h[0]=a[0]-g(this,Ra),h[1]=a[1]-g(this,Ra),h[2]=a[2]-a[0]+2*g(this,Ra),h[3]=a[3]-a[1]+2*g(this,Ra),this.lastPoint=[c,d]};var bm,wm,Wo,Zs,Nr,W4,J0,G4,K4,oN;class aN{constructor(e,t=0,n=0,s=!0){H(this,Nr);H(this,bm);H(this,wm);H(this,Wo,[]);H(this,Zs,[]);const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:v,width:b,height:w}of e){const N=Math.floor((y-t)/a)*a,j=Math.ceil((y+b+t)/a)*a,E=Math.floor((v-t)/a)*a,S=Math.ceil((v+w+t)/a)*a,A=[N,E,S,!0],T=[j,E,S,!1];g(this,Wo).push(A,T),Xe.rectBoundingBox(N,E,j,S,i)}const c=i[2]-i[0]+2*n,d=i[3]-i[1]+2*n,f=i[0]-n,h=i[1]-n,p=g(this,Wo).at(s?-1:-2),m=[p[0],p[2]];for(const y of g(this,Wo)){const[v,b,w]=y;y[0]=(v-f)/c,y[1]=(b-h)/d,y[2]=(w-h)/d}U(this,bm,new Float32Array([f,h,c,d])),U(this,wm,m)}getOutlines(){g(this,Wo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,Wo))t[3]?(e.push(...W(this,Nr,oN).call(this,t)),W(this,Nr,G4).call(this,t)):(W(this,Nr,K4).call(this,t),e.push(...W(this,Nr,oN).call(this,t)));return W(this,Nr,W4).call(this,e)}}bm=new WeakMap,wm=new WeakMap,Wo=new WeakMap,Zs=new WeakMap,Nr=new WeakSet,W4=function(e){const t=[],n=new Set;for(const a of e){const[c,d,f]=a;t.push([c,d,a],[c,f,a])}t.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=t.length;a<c;a+=2){const d=t[a][2],f=t[a+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const s=[];let i;for(;n.size>0;){const a=n.values().next().value;let[c,d,f,h,p]=a;n.delete(a);let m=c,y=d;for(i=[c,f],s.push(i);;){let v;if(n.has(h))v=h;else if(n.has(p))v=p;else break;n.delete(v),[c,d,f,h,p]=v,m!==c&&(i.push(m,y,c,y===d?d:f),m=c),y=y===d?f:d}i.push(m,y)}return new Jz(s,g(this,bm),g(this,wm))},J0=function(e){const t=g(this,Zs);let n=0,s=t.length-1;for(;n<=s;){const i=n+s>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:s=i-1}return s+1},G4=function([,e,t]){const n=W(this,Nr,J0).call(this,e);g(this,Zs).splice(n,0,[e,t])},K4=function([,e,t]){const n=W(this,Nr,J0).call(this,e);for(let s=n;s<g(this,Zs).length;s++){const[i,a]=g(this,Zs)[s];if(i!==e)break;if(i===e&&a===t){g(this,Zs).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[i,a]=g(this,Zs)[s];if(i!==e)break;if(i===e&&a===t){g(this,Zs).splice(s,1);return}}},oN=function(e){const[t,n,s]=e,i=[[t,n,s]],a=W(this,Nr,J0).call(this,s);for(let c=0;c<a;c++){const[d,f]=g(this,Zs)[c];for(let h=0,p=i.length;h<p;h++){const[,m,y]=i[h];if(!(f<=m||y<=d)){if(m>=d){if(y>f)i[h][1]=f;else{if(p===1)return[];i.splice(h,1),h--,p--}continue}i[h][2]=d,y>f&&i.push([t,f,y])}}}return i};var Nm,Kd;class Jz extends $e{constructor(t,n,s){super();H(this,Nm);H(this,Kd);U(this,Kd,t),U(this,Nm,n),this.lastPoint=s}toSVGPath(){const t=[];for(const n of g(this,Kd)){let[s,i]=n;t.push(`M${s} ${i}`);for(let a=2;a<n.length;a+=2){const c=n[a],d=n[a+1];c===s?(t.push(`V${d}`),i=d):d===i&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,n,s,i],a){const c=[],d=s-t,f=i-n;for(const h of g(this,Kd)){const p=new Array(h.length);for(let m=0;m<h.length;m+=2)p[m]=t+h[m]*d,p[m+1]=i-h[m+1]*f;c.push(p)}return c}get box(){return g(this,Nm)}get classNamesForOutlining(){return["highlightOutline"]}}Nm=new WeakMap,Kd=new WeakMap;class lN extends Ty{newFreeDrawOutline(e,t,n,s,i,a){return new eH(e,t,n,s,i,a)}}class eH extends z4{newOutliner(e,t,n,s,i,a=0){return new lN(e,t,n,s,i,a)}}var rs,Oc,Xd,_n,Sm,Yd,Ma,jm,Go,Js,Qd,_m,At,cN,uN,dN,Ol,X4,xo;const Pr=class Pr{constructor({editor:e=null,uiManager:t=null}){H(this,At);H(this,rs,null);H(this,Oc,null);H(this,Xd);H(this,_n,null);H(this,Sm,!1);H(this,Yd,!1);H(this,Ma,null);H(this,jm);H(this,Go,null);H(this,Js,null);H(this,Qd);var n,s;e?(U(this,Yd,!1),U(this,Qd,pt.HIGHLIGHT_COLOR),U(this,Ma,e)):(U(this,Yd,!0),U(this,Qd,pt.HIGHLIGHT_DEFAULT_COLOR)),U(this,Js,(e==null?void 0:e._uiManager)||t),U(this,jm,g(this,Js)._eventBus),U(this,Xd,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((s=g(this,Js))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),g(Pr,_m)||U(Pr,_m,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ht(this,"_keyboardManager",new Xm([[["Escape","mac+Escape"],Pr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pr.prototype._moveToPrevious],[["Home","mac+Home"],Pr.prototype._moveToBeginning],[["End","mac+End"],Pr.prototype._moveToEnd]]))}renderButton(){const e=U(this,rs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",g(this,Ma)&&(e.ariaControls=`${g(this,Ma).id}_colorpicker_dropdown`);const t=g(this,Js)._signal;e.addEventListener("click",W(this,At,Ol).bind(this),{signal:t}),e.addEventListener("keydown",W(this,At,dN).bind(this),{signal:t});const n=U(this,Oc,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=g(this,Xd),e.append(n),e}renderMainDropdown(){const e=U(this,_n,W(this,At,cN).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===g(this,rs)){W(this,At,Ol).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,At,uN).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,At,xo)){W(this,At,Ol).call(this,e);return}if(e.target===g(this,rs)){(t=g(this,_n).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,_n))==null?void 0:t.firstChild)||e.target===g(this,rs)){g(this,At,xo)&&this._hideDropdownFromKeyboard();return}g(this,At,xo)||W(this,At,Ol).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,At,xo)){W(this,At,Ol).call(this,e);return}(t=g(this,_n).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,At,xo)){W(this,At,Ol).call(this,e);return}(t=g(this,_n).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,_n))==null||e.classList.add("hidden"),g(this,rs).ariaExpanded="false",(t=g(this,Go))==null||t.abort(),U(this,Go,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,Yd)){if(!g(this,At,xo)){(e=g(this,Ma))==null||e.unselect();return}this.hideDropdown(),g(this,rs).focus({preventScroll:!0,focusVisible:g(this,Sm)})}}updateColor(e){if(g(this,Oc)&&(g(this,Oc).style.backgroundColor=e),!g(this,_n))return;const t=g(this,Js).highlightColors.values();for(const n of g(this,_n).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=g(this,rs))==null||e.remove(),U(this,rs,null),U(this,Oc,null),(t=g(this,_n))==null||t.remove(),U(this,_n,null)}};rs=new WeakMap,Oc=new WeakMap,Xd=new WeakMap,_n=new WeakMap,Sm=new WeakMap,Yd=new WeakMap,Ma=new WeakMap,jm=new WeakMap,Go=new WeakMap,Js=new WeakMap,Qd=new WeakMap,_m=new WeakMap,At=new WeakSet,cN=function(){const e=document.createElement("div"),t=g(this,Js)._signal;e.addEventListener("contextmenu",ai,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),g(this,Ma)&&(e.id=`${g(this,Ma).id}_colorpicker_dropdown`);for(const[n,s]of g(this,Js).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=n,i.setAttribute("data-l10n-id",g(Pr,_m)[n]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.ariaSelected=s===g(this,Xd),i.addEventListener("click",W(this,At,uN).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",W(this,At,dN).bind(this),{signal:t}),e},uN=function(e,t){t.stopPropagation(),g(this,jm).dispatch("switchannotationeditorparams",{source:this,type:g(this,Qd),value:e})},dN=function(e){Pr._keyboardManager.exec(this,e)},Ol=function(e){if(g(this,At,xo)){this.hideDropdown();return}if(U(this,Sm,e.detail===0),g(this,Go)||(U(this,Go,new AbortController),window.addEventListener("pointerdown",W(this,At,X4).bind(this),{signal:g(this,Js).combinedSignal(g(this,Go))})),g(this,rs).ariaExpanded="true",g(this,_n)){g(this,_n).classList.remove("hidden");return}const t=U(this,_n,W(this,At,cN).call(this));g(this,rs).append(t)},X4=function(e){var t;(t=g(this,_n))!=null&&t.contains(e.target)||this.hideDropdown()},xo=function(){return g(this,_n)&&!g(this,_n).classList.contains("hidden")},H(Pr,_m,null);let Py=Pr;var Zd,Am,La,Rc,Em,Mr,km,Cm,Mc,Cs,ss,Vn,Jd,Ia,ir,eh,Ts,Tm,st,hN,ey,Y4,Q4,Z4,fN,Rl,Os,Ku,J4,ty,Rf,eR,tR,nR,rR,sR;const vt=class vt extends Rt{constructor(t){super({...t,name:"highlightEditor"});H(this,st);H(this,Zd,null);H(this,Am,0);H(this,La);H(this,Rc,null);H(this,Em,null);H(this,Mr,null);H(this,km,null);H(this,Cm,0);H(this,Mc,null);H(this,Cs,null);H(this,ss,null);H(this,Vn,!1);H(this,Jd,null);H(this,Ia);H(this,ir,null);H(this,eh,"");H(this,Ts);H(this,Tm,"");this.color=t.color||vt._defaultColor,U(this,Ts,t.thickness||vt._defaultThickness),U(this,Ia,t.opacity||vt._defaultOpacity),U(this,La,t.boxes||null),U(this,Tm,t.methodOfCreation||""),U(this,eh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(U(this,Vn,!0),W(this,st,ey).call(this,t),W(this,st,Rl).call(this)):g(this,La)&&(U(this,Zd,t.anchorNode),U(this,Am,t.anchorOffset),U(this,km,t.focusNode),U(this,Cm,t.focusOffset),W(this,st,hN).call(this),W(this,st,Rl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=vt.prototype;return ht(this,"_keyboardManager",new Xm([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Vn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Ts),methodOfCreation:g(this,Tm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;Rt.initialize(t,n),vt._defaultColor||(vt._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case pt.HIGHLIGHT_DEFAULT_COLOR:vt._defaultColor=n;break;case pt.HIGHLIGHT_THICKNESS:vt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,Jd)}updateParams(t,n){switch(t){case pt.HIGHLIGHT_COLOR:W(this,st,Y4).call(this,n);break;case pt.HIGHLIGHT_THICKNESS:W(this,st,Q4).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pt.HIGHLIGHT_DEFAULT_COLOR,vt._defaultColor],[pt.HIGHLIGHT_THICKNESS,vt._defaultThickness]]}get propertiesToUpdate(){return[[pt.HIGHLIGHT_COLOR,this.color||vt._defaultColor],[pt.HIGHLIGHT_THICKNESS,g(this,Ts)||vt._defaultThickness],[pt.HIGHLIGHT_FREE,g(this,Vn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",U(this,Em,new Py({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,st,Rf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,W(this,st,Rf).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){W(this,st,fN).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,st,Rl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?W(this,st,fN).call(this):t&&(W(this,st,Rl).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var i,a,c;const{drawLayer:n}=this.parent;let s;g(this,Vn)?(t=(t-this.rotation+360)%360,s=W(i=vt,Os,Ku).call(i,g(this,Cs).box,t)):s=W(a=vt,Os,Ku).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(g(this,ss),{bbox:s,root:{"data-main-rotation":t}}),n.updateProperties(g(this,ir),{bbox:W(c=vt,Os,Ku).call(c,g(this,Mr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();g(this,eh)&&(t.setAttribute("aria-label",g(this,eh)),t.setAttribute("role","mark")),g(this,Vn)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,st,J4).bind(this),{signal:this._uiManager._signal});const n=U(this,Mc,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Rc);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),S3(this,g(this,Mc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,ir),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,ir),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,st,ty).call(this,!0);break;case 1:case 3:W(this,st,ty).call(this,!1);break}}select(){var t;super.select(),g(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,ir),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),g(this,ir)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,ir),{rootClass:{selected:!1}}),g(this,Vn)||W(this,st,ty).call(this,!1))}get _mustFixPosition(){return!g(this,Vn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(g(this,ss),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(g(this,ir),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:s,x:i,y:a}){const{x:c,y:d,width:f,height:h}=s.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=v=>{p.abort(),W(this,Os,rR).call(this,t,v)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",mn,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ai,{signal:m}),s.addEventListener("pointermove",W(this,Os,nR).bind(this,t),{signal:m}),this._freeHighlight=new lN({x:i,y:a},[c,d,f,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,s){var b,w,N,j;let i=null;if(t instanceof P4){const{data:{quadPoints:E,rect:S,rotation:A,id:T,color:k,opacity:P,popupRef:D},parent:{page:{pageNumber:O}}}=t;i=t={annotationType:tt.HIGHLIGHT,color:Array.from(k),opacity:P,quadPoints:E,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:A,annotationElementId:T,id:T,deleted:!1,popupRef:D}}else if(t instanceof FS){const{data:{inkLists:E,rect:S,rotation:A,id:T,color:k,borderStyle:{rawWidth:P},popupRef:D},parent:{page:{pageNumber:O}}}=t;i=t={annotationType:tt.HIGHLIGHT,color:Array.from(k),thickness:P,inkLists:E,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:A,annotationElementId:T,id:T,deleted:!1,popupRef:D}}const{color:a,quadPoints:c,inkLists:d,opacity:f}=t,h=await super.deserialize(t,n,s);h.color=Xe.makeHexColor(...a),U(h,Ia,f||1),d&&U(h,Ts,t.thickness),h._initialData=i;const[p,m]=h.pageDimensions,[y,v]=h.pageTranslation;if(c){const E=U(h,La,[]);for(let S=0;S<c.length;S+=8)E.push({x:(c[S]-y)/p,y:1-(c[S+1]-v)/m,width:(c[S+2]-c[S])/p,height:(c[S+1]-c[S+5])/m});W(b=h,st,hN).call(b),W(w=h,st,Rl).call(w),h.rotate(h.rotation)}else if(d){U(h,Vn,!0);const E=d[0],S={x:E[0]-y,y:m-(E[1]-v)},A=new lN(S,[0,0,p,m],1,g(h,Ts)/2,!0,.001);for(let P=0,D=E.length;P<D;P+=2)S.x=E[P]-y,S.y=m-(E[P+1]-v),A.add(S);const{id:T,clipPathId:k}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);W(N=h,st,ey).call(N,{highlightOutlines:A.getOutlines(),highlightId:T,clipPathId:k}),W(j=h,st,Rl).call(j),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Rt._colorManager.convert(this.color),i={annotationType:tt.HIGHLIGHT,color:s,opacity:g(this,Ia),thickness:g(this,Ts),quadPoints:W(this,st,eR).call(this),outlines:W(this,st,tR).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:W(this,st,Rf).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!W(this,st,sR).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zd=new WeakMap,Am=new WeakMap,La=new WeakMap,Rc=new WeakMap,Em=new WeakMap,Mr=new WeakMap,km=new WeakMap,Cm=new WeakMap,Mc=new WeakMap,Cs=new WeakMap,ss=new WeakMap,Vn=new WeakMap,Jd=new WeakMap,Ia=new WeakMap,ir=new WeakMap,eh=new WeakMap,Ts=new WeakMap,Tm=new WeakMap,st=new WeakSet,hN=function(){const t=new aN(g(this,La),.001);U(this,Cs,t.getOutlines()),[this.x,this.y,this.width,this.height]=g(this,Cs).box;const n=new aN(g(this,La),.0025,.001,this._uiManager.direction==="ltr");U(this,Mr,n.getOutlines());const{lastPoint:s}=g(this,Mr);U(this,Jd,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},ey=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var p,m;if(U(this,Cs,t),U(this,Mr,t.getNewOutline(g(this,Ts)/2+1.5,.0025)),n>=0)U(this,ss,n),U(this,Rc,s),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),U(this,ir,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:g(this,Mr).box,path:{d:g(this,Mr).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(g(this,ss),{bbox:W(p=vt,Os,Ku).call(p,g(this,Cs).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(g(this,ir),{bbox:W(m=vt,Os,Ku).call(m,g(this,Mr).box,y),path:{d:g(this,Mr).toSVGPath()}})}const[a,c,d,f]=t.box;switch(this.rotation){case 0:this.x=a,this.y=c,this.width=d,this.height=f;break;case 90:{const[y,v]=this.parentDimensions;this.x=c,this.y=1-a,this.width=d*v/y,this.height=f*y/v;break}case 180:this.x=1-a,this.y=1-c,this.width=d,this.height=f;break;case 270:{const[y,v]=this.parentDimensions;this.x=1-c,this.y=a,this.width=d*v/y,this.height=f*y/v;break}}const{lastPoint:h}=g(this,Mr);U(this,Jd,[(h[0]-a)/d,(h[1]-c)/f])},Y4=function(t){const n=(a,c)=>{var d,f;this.color=a,U(this,Ia,c),(d=this.parent)==null||d.drawLayer.updateProperties(g(this,ss),{root:{fill:a,"fill-opacity":c}}),(f=g(this,Em))==null||f.updateColor(a)},s=this.color,i=g(this,Ia);this.addCommands({cmd:n.bind(this,t,vt._defaultOpacity),undo:n.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Q4=function(t){const n=g(this,Ts),s=i=>{U(this,Ts,i),W(this,st,Z4).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Z4=function(t){if(!g(this,Vn))return;W(this,st,ey).call(this,{highlightOutlines:g(this,Cs).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},fN=function(){g(this,ss)===null||!this.parent||(this.parent.drawLayer.remove(g(this,ss)),U(this,ss,null),this.parent.drawLayer.remove(g(this,ir)),U(this,ir,null))},Rl=function(t=this.parent){g(this,ss)===null&&({id:ur(this,ss)._,clipPathId:ur(this,Rc)._}=t.drawLayer.draw({bbox:g(this,Cs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":g(this,Ia)},rootClass:{highlight:!0,free:g(this,Vn)},path:{d:g(this,Cs).toSVGPath()}},!1,!0),U(this,ir,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:g(this,Vn)},bbox:g(this,Mr).box,path:{d:g(this,Mr).toSVGPath()}},g(this,Vn))),g(this,Mc)&&(g(this,Mc).style.clipPath=g(this,Rc)))},Os=new WeakSet,Ku=function([t,n,s,i],a){switch(a){case 90:return[1-n-i,t,i,s];case 180:return[1-t-s,1-n-i,s,i];case 270:return[n,1-t-s,i,s]}return[t,n,s,i]},J4=function(t){vt._keyboardManager.exec(this,t)},ty=function(t){if(!g(this,Zd))return;const n=window.getSelection();t?n.setPosition(g(this,Zd),g(this,Am)):n.setPosition(g(this,km),g(this,Cm))},Rf=function(){return g(this,Vn)?this.rotation:0},eR=function(){if(g(this,Vn))return null;const[t,n]=this.pageDimensions,[s,i]=this.pageTranslation,a=g(this,La),c=new Float32Array(a.length*8);let d=0;for(const{x:f,y:h,width:p,height:m}of a){const y=f*t+s,v=(1-h)*n+i;c[d]=c[d+4]=y,c[d+1]=c[d+3]=v,c[d+2]=c[d+6]=y+p*t,c[d+5]=c[d+7]=v-m*n,d+=8}return c},tR=function(t){return g(this,Cs).serialize(t,W(this,st,Rf).call(this))},nR=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},rR=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},sR=function(t){const{color:n}=this._initialData;return t.color.some((s,i)=>s!==n[i])},H(vt,Os),Me(vt,"_defaultColor",null),Me(vt,"_defaultOpacity",1),Me(vt,"_defaultThickness",12),Me(vt,"_type","highlight"),Me(vt,"_editorType",tt.HIGHLIGHT),Me(vt,"_freeHighlightId",-1),Me(vt,"_freeHighlight",null),Me(vt,"_freeHighlightClipId","");let Oy=vt;var Lc;class iR{constructor(){H(this,Lc,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){g(this,Lc)[e]=t}toSVGProperties(){const e=g(this,Lc);return U(this,Lc,Object.create(null)),{root:e}}reset(){U(this,Lc,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){kt("Not implemented")}}Lc=new WeakMap;var is,th,On,Ic,Dc,Ko,Xo,Yo,Fc,gt,pN,mN,gN,Mf,aR,ny,Lf,Xu;const Ve=class Ve extends Rt{constructor(t){super(t);H(this,gt);H(this,is,null);H(this,th);Me(this,"_drawId",null);U(this,th,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(W(this,gt,pN).call(this,t),W(this,gt,Mf).call(this))}static _mergeSVGProperties(t,n){const s=new Set(Object.keys(t));for(const[i,a]of Object.entries(n))s.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){kt("Not implemented")}static get typesMap(){kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,n),this._currentParent&&(g(Ve,On).updateProperty(s,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)t.push([s,n[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[s,i]of this.constructor.typesMap)t.push([s,n[i]]);return t}_updateProperty(t,n,s){const i=this._drawingOptions,a=i[n],c=d=>{var h;i.updateProperty(n,d);const f=g(this,is).updateProperty(n,d);f&&W(this,gt,Lf).call(this,f),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(g(this,is).getPathResizingSVGProperties(W(this,gt,ny).call(this)),{bbox:W(this,gt,Xu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(g(this,is).getPathResizedSVGProperties(W(this,gt,ny).call(this)),{bbox:W(this,gt,Xu).call(this)}))}_onTranslating(t,n){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:W(this,gt,Xu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(g(this,is).getPathTranslatedSVGProperties(W(this,gt,ny).call(this),this.parentDimensions),{bbox:W(this,gt,Xu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,g(this,th)&&(U(this,th,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){W(this,gt,gN).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,gt,Mf).call(this),W(this,gt,Lf).call(this,g(this,is).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),W(this,gt,gN).call(this)):t&&(this._uiManager.addShouldRescale(this),W(this,gt,Mf).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties({bbox:W(this,gt,Xu).call(this)},g(this,is).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&W(this,gt,Lf).call(this,g(this,is).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,c]=this.parentDimensions;return this.setDims(this.width*a,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),s}static createDrawerInstance(t,n,s,i,a){kt("Not implemented")}static startDrawing(t,n,s,i){var w;const{target:a,offsetX:c,offsetY:d,pointerId:f,pointerType:h}=i;if(g(Ve,Xo)&&g(Ve,Xo)!==h)return;const{viewport:{rotation:p}}=t,{width:m,height:y}=a.getBoundingClientRect(),v=U(Ve,Ic,new AbortController),b=t.combinedSignal(v);if(g(Ve,Ko)||U(Ve,Ko,f),g(Ve,Xo)??U(Ve,Xo,h),window.addEventListener("pointerup",N=>{var j;g(Ve,Ko)===N.pointerId?this._endDraw(N):(j=g(Ve,Yo))==null||j.delete(N.pointerId)},{signal:b}),window.addEventListener("pointercancel",N=>{var j;g(Ve,Ko)===N.pointerId?this._currentParent.endDrawingSession():(j=g(Ve,Yo))==null||j.delete(N.pointerId)},{signal:b}),window.addEventListener("pointerdown",N=>{g(Ve,Xo)===N.pointerType&&((g(Ve,Yo)||U(Ve,Yo,new Set)).add(N.pointerId),g(Ve,On).isCancellable()&&(g(Ve,On).removeLastElement(),g(Ve,On).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ai,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",N=>{N.timeStamp===g(Ve,Fc)&&mn(N)},{signal:b}),t.toggleDrawing(),(w=n._editorUndoBar)==null||w.hide(),g(Ve,On)){t.drawLayer.updateProperties(this._currentDrawId,g(Ve,On).startNew(c,d,m,y,p));return}n.updateUIForDefaultProperties(this),U(Ve,On,this.createDrawerInstance(c,d,m,y,p)),U(Ve,Dc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(g(Ve,Dc).toSVGProperties(),g(Ve,On).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(U(Ve,Fc,-1),!g(Ve,On))return;const{offsetX:n,offsetY:s,pointerId:i}=t;if(g(Ve,Ko)===i){if(((a=g(Ve,Yo))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,g(Ve,On).add(n,s)),U(Ve,Fc,t.timeStamp),mn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,U(Ve,On,null),U(Ve,Dc,null),U(Ve,Xo,null),U(Ve,Fc,NaN)),g(Ve,Ic)&&(g(Ve,Ic).abort(),U(Ve,Ic,null),U(Ve,Ko,NaN),U(Ve,Yo,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,g(Ve,On).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=g(Ve,On),i=this._currentDrawId,a=s.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,s.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:pt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(pt.DRAW_STEP),!g(Ve,On).isEmpty()){const{pageDimensions:[s,i],scale:a}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:g(Ve,On).getOutlines(s*a,i*a,a,this._INNER_MARGIN),drawingOptions:g(Ve,Dc),mustBeCommitted:!t});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,s,i,a,c){kt("Not implemented")}static async deserialize(t,n,s){var p,m;const{rawDims:{pageWidth:i,pageHeight:a,pageX:c,pageY:d}}=n.viewport,f=this.deserializeDraw(c,d,i,a,this._INNER_MARGIN,t),h=await super.deserialize(t,n,s);return h.createDrawingOptions(t),W(p=h,gt,pN).call(p,{drawOutlines:f}),W(m=h,gt,Mf).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[n,s]=this.pageTranslation,[i,a]=this.pageDimensions;return g(this,is).serialize([n,s,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};is=new WeakMap,th=new WeakMap,On=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Fc=new WeakMap,gt=new WeakSet,pN=function({drawOutlines:t,drawId:n,drawingOptions:s}){U(this,is,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=W(this,gt,mN).call(this,t,this.parent),W(this,gt,Lf).call(this,t.box)},mN=function(t,n){const{id:s}=n.drawLayer.draw(Ve._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},gN=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Mf=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=W(this,gt,mN).call(this,g(this,is),t)}},aR=function([t,n,s,i]){const{parentDimensions:[a,c],rotation:d}=this;switch(d){case 90:return[n,1-t,s*(c/a),i*(a/c)];case 180:return[1-t,1-n,s,i];case 270:return[1-n,t,s*(c/a),i*(a/c)];default:return[t,n,s,i]}},ny=function(){const{x:t,y:n,width:s,height:i,parentDimensions:[a,c],rotation:d}=this;switch(d){case 90:return[1-n,t,s*(a/c),i*(c/a)];case 180:return[1-t,1-n,s,i];case 270:return[n,1-t,s*(a/c),i*(c/a)];default:return[t,n,s,i]}},Lf=function(t){if([this.x,this.y,this.width,this.height]=W(this,gt,aR).call(this,t),this.div){this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)}this._onResized()},Xu=function(){const{x:t,y:n,width:s,height:i,rotation:a,parentRotation:c,parentDimensions:[d,f]}=this;switch((a*4+c)/90){case 1:return[1-n-i,t,i,s];case 2:return[1-t-s,1-n-i,s,i];case 3:return[n,1-t-s,i,s];case 4:return[t,n-s*(d/f),i*(f/d),s*(d/f)];case 5:return[1-n,t,s*(d/f),i*(f/d)];case 6:return[1-t-i*(f/d),1-n,i*(f/d),s*(d/f)];case 7:return[n-s*(d/f),1-t-i*(f/d),s*(d/f),i*(f/d)];case 8:return[t-s,n-i,s,i];case 9:return[1-n,t-s,i,s];case 10:return[1-t,1-n,s,i];case 11:return[n-i,1-t,i,s];case 12:return[t-i*(f/d),n,i*(f/d),s*(d/f)];case 13:return[1-n-s*(d/f),t-i*(f/d),s*(d/f),i*(f/d)];case 14:return[1-t,1-n-s*(d/f),i*(f/d),s*(d/f)];case 15:return[n,1-t,s*(d/f),i*(f/d)];default:return[t,n,s,i]}},Me(Ve,"_currentDrawId",-1),Me(Ve,"_currentParent",null),H(Ve,On,null),H(Ve,Ic,null),H(Ve,Dc,null),H(Ve,Ko,NaN),H(Ve,Xo,null),H(Ve,Yo,null),H(Ve,Fc,NaN),Me(Ve,"_INNER_MARGIN",3);let Ry=Ve;var Li,Rn,Mn,Bc,nh,fr,zn,Ps,Uc,$c,qc,rh,ry;class tH{constructor(e,t,n,s,i,a){H(this,rh);H(this,Li,new Float64Array(6));H(this,Rn);H(this,Mn);H(this,Bc);H(this,nh);H(this,fr);H(this,zn,"");H(this,Ps,0);H(this,Uc,new Qm);H(this,$c);H(this,qc);U(this,$c,n),U(this,qc,s),U(this,Bc,i),U(this,nh,a),[e,t]=W(this,rh,ry).call(this,e,t);const c=U(this,Rn,[NaN,NaN,NaN,NaN,e,t]);U(this,fr,[e,t]),U(this,Mn,[{line:c,points:g(this,fr)}]),g(this,Li).set(c,0)}updateProperty(e,t){e==="stroke-width"&&U(this,nh,t)}isEmpty(){return!g(this,Mn)||g(this,Mn).length===0}isCancellable(){return g(this,fr).length<=10}add(e,t){[e,t]=W(this,rh,ry).call(this,e,t);const[n,s,i,a]=g(this,Li).subarray(2,6),c=e-i,d=t-a;return Math.hypot(g(this,$c)*c,g(this,qc)*d)<=2?null:(g(this,fr).push(e,t),isNaN(n)?(g(this,Li).set([i,a,e,t],2),g(this,Rn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(g(this,Li)[0])&&g(this,Rn).splice(6,6),g(this,Li).set([n,s,i,a,e,t],0),g(this,Rn).push(...$e.createBezierPoints(n,s,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(g(this,fr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,s,i){U(this,$c,n),U(this,qc,s),U(this,Bc,i),[e,t]=W(this,rh,ry).call(this,e,t);const a=U(this,Rn,[NaN,NaN,NaN,NaN,e,t]);U(this,fr,[e,t]);const c=g(this,Mn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),g(this,Mn).push({line:a,points:g(this,fr)}),g(this,Li).set(a,0),U(this,Ps,0),this.toSVGPath(),null}getLastElement(){return g(this,Mn).at(-1)}setLastElement(e){return g(this,Mn)?(g(this,Mn).push(e),U(this,Rn,e.line),U(this,fr,e.points),U(this,Ps,0),{path:{d:this.toSVGPath()}}):g(this,Uc).setLastElement(e)}removeLastElement(){if(!g(this,Mn))return g(this,Uc).removeLastElement();g(this,Mn).pop(),U(this,zn,"");for(let e=0,t=g(this,Mn).length;e<t;e++){const{line:n,points:s}=g(this,Mn)[e];U(this,Rn,n),U(this,fr,s),U(this,Ps,0),this.toSVGPath()}return{path:{d:g(this,zn)}}}toSVGPath(){const e=$e.svgRound(g(this,Rn)[4]),t=$e.svgRound(g(this,Rn)[5]);if(g(this,fr).length===2)return U(this,zn,`${g(this,zn)} M ${e} ${t} Z`),g(this,zn);if(g(this,fr).length<=6){const s=g(this,zn).lastIndexOf("M");U(this,zn,`${g(this,zn).slice(0,s)} M ${e} ${t}`),U(this,Ps,6)}if(g(this,fr).length===4){const s=$e.svgRound(g(this,Rn)[10]),i=$e.svgRound(g(this,Rn)[11]);return U(this,zn,`${g(this,zn)} L ${s} ${i}`),U(this,Ps,12),g(this,zn)}const n=[];g(this,Ps)===0&&(n.push(`M ${e} ${t}`),U(this,Ps,6));for(let s=g(this,Ps),i=g(this,Rn).length;s<i;s+=6){const[a,c,d,f,h,p]=g(this,Rn).slice(s,s+6).map($e.svgRound);n.push(`C${a} ${c} ${d} ${f} ${h} ${p}`)}return U(this,zn,g(this,zn)+n.join(" ")),U(this,Ps,g(this,Rn).length),g(this,zn)}getOutlines(e,t,n,s){const i=g(this,Mn).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),g(this,Uc).build(g(this,Mn),e,t,n,g(this,Bc),g(this,nh),s),U(this,Li,null),U(this,Rn,null),U(this,Mn,null),U(this,zn,null),g(this,Uc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Li=new WeakMap,Rn=new WeakMap,Mn=new WeakMap,Bc=new WeakMap,nh=new WeakMap,fr=new WeakMap,zn=new WeakMap,Ps=new WeakMap,Uc=new WeakMap,$c=new WeakMap,qc=new WeakMap,rh=new WeakSet,ry=function(e,t){return $e._normalizePoint(e,t,g(this,$c),g(this,qc),g(this,Bc))};var pr,Pm,Om,as,Ii,Di,sh,ih,Vc,Gn,ca,oR,lR,cR;class Qm extends $e{constructor(){super(...arguments);H(this,Gn);H(this,pr);H(this,Pm,0);H(this,Om);H(this,as);H(this,Ii);H(this,Di);H(this,sh);H(this,ih);H(this,Vc)}build(t,n,s,i,a,c,d){U(this,Ii,n),U(this,Di,s),U(this,sh,i),U(this,ih,a),U(this,Vc,c),U(this,Om,d??0),U(this,as,t),W(this,Gn,lR).call(this)}get thickness(){return g(this,Vc)}setLastElement(t){return g(this,as).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return g(this,as).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of g(this,as)){if(t.push(`M${$e.svgRound(n[4])} ${$e.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${$e.svgRound(n[10])} ${$e.svgRound(n[11])}`);continue}for(let s=6,i=n.length;s<i;s+=6){const[a,c,d,f,h,p]=n.subarray(s,s+6).map($e.svgRound);t.push(`C${a} ${c} ${d} ${f} ${h} ${p}`)}}return t.join("")}serialize([t,n,s,i],a){const c=[],d=[],[f,h,p,m]=W(this,Gn,oR).call(this);let y,v,b,w,N,j,E,S,A;switch(g(this,ih)){case 0:A=$e._rescale,y=t,v=n+i,b=s,w=-i,N=t+f*s,j=n+(1-h-m)*i,E=t+(f+p)*s,S=n+(1-h)*i;break;case 90:A=$e._rescaleAndSwap,y=t,v=n,b=s,w=i,N=t+h*s,j=n+f*i,E=t+(h+m)*s,S=n+(f+p)*i;break;case 180:A=$e._rescale,y=t+s,v=n,b=-s,w=i,N=t+(1-f-p)*s,j=n+h*i,E=t+(1-f)*s,S=n+(h+m)*i;break;case 270:A=$e._rescaleAndSwap,y=t+s,v=n+i,b=-s,w=-i,N=t+(1-h-m)*s,j=n+(1-f-p)*i,E=t+(1-h)*s,S=n+(1-f)*i;break}for(const{line:T,points:k}of g(this,as))c.push(A(T,y,v,b,w,a?new Array(T.length):null)),d.push(A(k,y,v,b,w,a?new Array(k.length):null));return{lines:c,points:d,rect:[N,j,E,S]}}static deserialize(t,n,s,i,a,{paths:{lines:c,points:d},rotation:f,thickness:h}){const p=[];let m,y,v,b,w;switch(f){case 0:w=$e._rescale,m=-t/s,y=n/i+1,v=1/s,b=-1/i;break;case 90:w=$e._rescaleAndSwap,m=-n/i,y=-t/s,v=1/i,b=1/s;break;case 180:w=$e._rescale,m=t/s+1,y=-n/i,v=-1/s,b=1/i;break;case 270:w=$e._rescaleAndSwap,m=n/i+1,y=t/s+1,v=-1/i,b=-1/s;break}if(!c){c=[];for(const j of d){const E=j.length;if(E===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,j[0],j[1]]));continue}if(E===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,j[0],j[1],NaN,NaN,NaN,NaN,j[2],j[3]]));continue}const S=new Float32Array(3*(E-2));c.push(S);let[A,T,k,P]=j.subarray(0,4);S.set([NaN,NaN,NaN,NaN,A,T],0);for(let D=4;D<E;D+=2){const O=j[D],R=j[D+1];S.set($e.createBezierPoints(A,T,k,P,O,R),(D-2)*3),[A,T,k,P]=[k,P,O,R]}}}for(let j=0,E=c.length;j<E;j++)p.push({line:w(c[j].map(S=>S??NaN),m,y,v,b),points:w(d[j].map(S=>S??NaN),m,y,v,b)});const N=new this.prototype.constructor;return N.build(p,s,i,1,f,h,a),N}get box(){return g(this,pr)}updateProperty(t,n){return t==="stroke-width"?W(this,Gn,cR).call(this,n):null}updateParentDimensions([t,n],s){const[i,a]=W(this,Gn,ca).call(this);U(this,Ii,t),U(this,Di,n),U(this,sh,s);const[c,d]=W(this,Gn,ca).call(this),f=c-i,h=d-a,p=g(this,pr);return p[0]-=f,p[1]-=h,p[2]+=2*f,p[3]+=2*h,p}updateRotation(t){return U(this,Pm,t),{path:{transform:this.rotationTransform}}}get viewBox(){return g(this,pr).map($e.svgRound).join(" ")}get defaultProperties(){const[t,n]=g(this,pr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=g(this,pr);let s=0,i=0,a=0,c=0,d=0,f=0;switch(g(this,Pm)){case 90:i=n/t,a=-t/n,d=t;break;case 180:s=-1,c=-1,d=t,f=n;break;case 270:i=-n/t,a=t/n,f=n;break;default:return""}return`matrix(${s} ${i} ${a} ${c} ${$e.svgRound(d)} ${$e.svgRound(f)})`}getPathResizingSVGProperties([t,n,s,i]){const[a,c]=W(this,Gn,ca).call(this),[d,f,h,p]=g(this,pr);if(Math.abs(h-a)<=$e.PRECISION||Math.abs(p-c)<=$e.PRECISION){const w=t+s/2-(d+h/2),N=n+i/2-(f+p/2);return{path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${N})`}}}const m=(s-2*a)/(h-2*a),y=(i-2*c)/(p-2*c),v=h/s,b=p/i;return{path:{"transform-origin":`${$e.svgRound(d)} ${$e.svgRound(f)}`,transform:`${this.rotationTransform} scale(${v} ${b}) translate(${$e.svgRound(a)} ${$e.svgRound(c)}) scale(${m} ${y}) translate(${$e.svgRound(-a)} ${$e.svgRound(-c)})`}}}getPathResizedSVGProperties([t,n,s,i]){const[a,c]=W(this,Gn,ca).call(this),d=g(this,pr),[f,h,p,m]=d;if(d[0]=t,d[1]=n,d[2]=s,d[3]=i,Math.abs(p-a)<=$e.PRECISION||Math.abs(m-c)<=$e.PRECISION){const N=t+s/2-(f+p/2),j=n+i/2-(h+m/2);for(const{line:E,points:S}of g(this,as))$e._translate(E,N,j,E),$e._translate(S,N,j,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(s-2*a)/(p-2*a),v=(i-2*c)/(m-2*c),b=-y*(f+a)+t+a,w=-v*(h+c)+n+c;if(y!==1||v!==1||b!==0||w!==0)for(const{line:N,points:j}of g(this,as))$e._rescale(N,b,w,y,v,N),$e._rescale(j,b,w,y,v,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],s){const[i,a]=s,c=g(this,pr),d=t-c[0],f=n-c[1];if(g(this,Ii)===i&&g(this,Di)===a)for(const{line:h,points:p}of g(this,as))$e._translate(h,d,f,h),$e._translate(p,d,f,p);else{const h=g(this,Ii)/i,p=g(this,Di)/a;U(this,Ii,i),U(this,Di,a);for(const{line:m,points:y}of g(this,as))$e._rescale(m,d,f,h,p,m),$e._rescale(y,d,f,h,p,y);c[2]*=h,c[3]*=p}return c[0]=t,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`}}}get defaultSVGProperties(){const t=g(this,pr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(t[0])} ${$e.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}pr=new WeakMap,Pm=new WeakMap,Om=new WeakMap,as=new WeakMap,Ii=new WeakMap,Di=new WeakMap,sh=new WeakMap,ih=new WeakMap,Vc=new WeakMap,Gn=new WeakSet,ca=function(t=g(this,Vc)){const n=g(this,Om)+t/2*g(this,sh);return g(this,ih)%180===0?[n/g(this,Ii),n/g(this,Di)]:[n/g(this,Di),n/g(this,Ii)]},oR=function(){const[t,n,s,i]=g(this,pr),[a,c]=W(this,Gn,ca).call(this,0);return[t+a,n+c,s-2*a,i-2*c]},lR=function(){const t=U(this,pr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of g(this,as)){if(i.length<=12){for(let d=4,f=i.length;d<f;d+=6)Xe.pointBoundingBox(i[d],i[d+1],t);continue}let a=i[4],c=i[5];for(let d=6,f=i.length;d<f;d+=6){const[h,p,m,y,v,b]=i.subarray(d,d+6);Xe.bezierBoundingBox(a,c,h,p,m,y,v,b,t),a=v,c=b}}const[n,s]=W(this,Gn,ca).call(this);t[0]=yr(t[0]-n,0,1),t[1]=yr(t[1]-s,0,1),t[2]=yr(t[2]+n,0,1),t[3]=yr(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},cR=function(t){const[n,s]=W(this,Gn,ca).call(this);U(this,Vc,t);const[i,a]=W(this,Gn,ca).call(this),[c,d]=[i-n,a-s],f=g(this,pr);return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f};class Ex extends iR{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Rt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Ex(this._viewParameters);return e.updateAll(this),e}}var Qy,uR;const sd=class sd extends Ry{constructor(t){super({...t,name:"inkEditor"});H(this,Qy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Rt.initialize(t,n),this._defaultDrawingOptions=new Ex(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ht(this,"typesMap",new Map([[pt.INK_THICKNESS,"stroke-width"],[pt.INK_COLOR,"stroke"],[pt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,s,i,a){return new tH(t,n,s,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,s,i,a,c){return Qm.deserialize(t,n,s,i,a,c)}static async deserialize(t,n,s){let i=null;if(t instanceof FS){const{data:{inkLists:c,rect:d,rotation:f,id:h,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:v},parent:{page:{pageNumber:b}}}=t;i=t={annotationType:tt.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:c},boxes:null,pageIndex:b-1,rect:d.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:v}}const a=await super.deserialize(t,n,s);return a._initialData=i,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:s}=this;n.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:s}){this._drawingOptions=sd.getDefaultDrawingOptions({stroke:Xe.makeHexColor(...t),"stroke-width":n,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:s,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":c,"stroke-width":d}}=this,f={annotationType:tt.INK,color:Rt._colorManager.convert(a),opacity:c,thickness:d,paths:{lines:n,points:s},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(f.isCopy=!0,f):this.annotationElementId&&!W(this,Qy,uR).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){const{points:n,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:n}),null}};Qy=new WeakSet,uR=function(t){const{color:n,thickness:s,opacity:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,d)=>c!==n[d])||t.thickness!==s||t.opacity!==i||t.pageIndex!==a},Me(sd,"_type","ink"),Me(sd,"_editorType",tt.INK),Me(sd,"_defaultDrawingOptions",null);let yN=sd;class xN extends Qm{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const b0=8,mf=3;var zc,wt,vN,ei,dR,hR,bN,sy,fR,pR,mR,wN,NN,gR;class qa{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:s},i,a,c,d){let f=new OffscreenCanvas(1,1),h=f.getContext("2d",{alpha:!1});const p=200,m=h.font=`${n} ${s} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:v,actualBoundingBoxAscent:b,actualBoundingBoxDescent:w,fontBoundingBoxAscent:N,fontBoundingBoxDescent:j,width:E}=h.measureText(e),S=1.5,A=Math.ceil(Math.max(Math.abs(y)+Math.abs(v)||0,E)*S),T=Math.ceil(Math.max(Math.abs(b)+Math.abs(w)||p,Math.abs(N)+Math.abs(j)||p)*S);f=new OffscreenCanvas(A,T),h=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,A,T),h.fillStyle="black",h.fillText(e,A*(S-1)/2,T*(3-S)/2);const k=W(this,wt,wN).call(this,h.getImageData(0,0,A,T).data),P=W(this,wt,mR).call(this,k),D=W(this,wt,NN).call(this,P),O=W(this,wt,bN).call(this,k,A,T,D);return this.processDrawnLines({lines:{curves:O,width:A,height:T},pageWidth:i,pageHeight:a,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,s,i){const[a,c,d]=W(this,wt,gR).call(this,e),[f,h]=W(this,wt,pR).call(this,a,c,d,Math.hypot(c,d)*g(this,zc).sigmaSFactor,g(this,zc).sigmaR,g(this,zc).kernelSize),p=W(this,wt,NN).call(this,h),m=W(this,wt,bN).call(this,f,c,d,p);return this.processDrawnLines({lines:{curves:m,width:c,height:d},pageWidth:t,pageHeight:n,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:s,innerMargin:i,mustSmooth:a,areContours:c}){s%180!==0&&([t,n]=[n,t]);const{curves:d,width:f,height:h}=e,p=e.thickness??0,m=[],y=Math.min(t/f,n/h),v=y/t,b=y/n,w=[];for(const{points:j}of d){const E=a?W(this,wt,fR).call(this,j):j;if(!E)continue;w.push(E);const S=E.length,A=new Float32Array(S),T=new Float32Array(3*(S===2?2:S-2));if(m.push({line:T,points:A}),S===2){A[0]=E[0]*v,A[1]=E[1]*b,T.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[k,P,D,O]=E;k*=v,P*=b,D*=v,O*=b,A.set([k,P,D,O],0),T.set([NaN,NaN,NaN,NaN,k,P],0);for(let R=4;R<S;R+=2){const F=A[R]=E[R]*v,$=A[R+1]=E[R+1]*b;T.set($e.createBezierPoints(k,P,D,O,F,$),(R-2)*3),[k,P,D,O]=[D,O,F,$]}}if(m.length===0)return null;const N=c?new xN:new Qm;return N.build(m,t,n,1,s,c?0:p,i),{outline:N,newCurves:w,areContours:c,thickness:p,width:f,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:s,height:i}){let a=1/0,c=-1/0,d=0;for(const E of e){d+=E.length;for(let S=2,A=E.length;S<A;S++){const T=E[S]-E[S-2];a=Math.min(a,T),c=Math.max(c,T)}}let f;a>=-128&&c<=127?f=Int8Array:a>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const h=e.length,p=b0+mf*h,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*h)*f.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=s,m[y++]=i,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(n??0)),m[y++]=h,m[y++]=f.BYTES_PER_ELEMENT;for(const E of e)m[y++]=E.length-2,m[y++]=E[0],m[y++]=E[1];const v=new CompressionStream("deflate-raw"),b=v.writable.getWriter();await b.ready,b.write(m);const w=f.prototype.constructor;for(const E of e){const S=new w(E.length-2);for(let A=2,T=E.length;A<T;A++)S[A-2]=E[A]-E[A-2];b.write(S)}b.close();const N=await new Response(v.readable).arrayBuffer(),j=new Uint8Array(N);return g3(j)}static async decompressSignature(e){try{const t=_V(e),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),i=s.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let a=null,c=0;for await(const E of n)a||(a=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),a.set(E,c),c+=E.length;const d=new Uint32Array(a.buffer,0,a.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const h=d[2],p=d[3],m=d[4]===0,y=d[5],v=d[6],b=d[7],w=[],N=(b0+mf*v)*Uint32Array.BYTES_PER_ELEMENT;let j;switch(b){case Int8Array.BYTES_PER_ELEMENT:j=new Int8Array(a.buffer,N);break;case Int16Array.BYTES_PER_ELEMENT:j=new Int16Array(a.buffer,N);break;case Int32Array.BYTES_PER_ELEMENT:j=new Int32Array(a.buffer,N);break}c=0;for(let E=0;E<v;E++){const S=d[mf*E+b0],A=new Float32Array(S+2);w.push(A);for(let T=0;T<mf-1;T++)A[T]=d[mf*E+b0+T+1];for(let T=0;T<S;T++)A[T+2]=A[T]+j[c++]}return{areContours:m,thickness:y,outlines:w,width:h,height:p}}catch(t){return nt(`decompressSignature: ${t}`),null}}}zc=new WeakMap,wt=new WeakSet,vN=function(e,t,n,s){return n-=e,s-=t,n===0?s>0?0:4:n===1?s+6:2-s},ei=new WeakMap,dR=function(e,t,n,s,i,a,c){const d=W(this,wt,vN).call(this,n,s,i,a);for(let f=0;f<8;f++){const h=(-f+d-c+16)%8,p=g(this,ei)[2*h],m=g(this,ei)[2*h+1];if(e[(n+p)*t+(s+m)]!==0)return h}return-1},hR=function(e,t,n,s,i,a,c){const d=W(this,wt,vN).call(this,n,s,i,a);for(let f=0;f<8;f++){const h=(f+d+c+16)%8,p=g(this,ei)[2*h],m=g(this,ei)[2*h+1];if(e[(n+p)*t+(s+m)]!==0)return h}return-1},bN=function(e,t,n,s){const i=e.length,a=new Int32Array(i);for(let h=0;h<i;h++)a[h]=e[h]<=s?1:0;for(let h=1;h<n-1;h++)a[h*t]=a[h*t+t-1]=0;for(let h=0;h<t;h++)a[h]=a[t*n-1-h]=0;let c=1,d;const f=[];for(let h=1;h<n-1;h++){d=1;for(let p=1;p<t-1;p++){const m=h*t+p,y=a[m];if(y===0)continue;let v=h,b=p;if(y===1&&a[m-1]===0)c+=1,b-=1;else if(y>=1&&a[m+1]===0)c+=1,b+=1,y>1&&(d=y);else{y!==1&&(d=Math.abs(y));continue}const w=[p,h],N=b===p+1,j={isHole:N,points:w,id:c,parent:0};f.push(j);let E;for(const R of f)if(R.id===d){E=R;break}E?E.isHole?j.parent=N?E.parent:d:j.parent=N?d:E.parent:j.parent=N?d:0;const S=W(this,wt,dR).call(this,a,t,h,p,v,b,0);if(S===-1){a[m]=-c,a[m]!==1&&(d=Math.abs(a[m]));continue}let A=g(this,ei)[2*S],T=g(this,ei)[2*S+1];const k=h+A,P=p+T;v=k,b=P;let D=h,O=p;for(;;){const R=W(this,wt,hR).call(this,a,t,D,O,v,b,1);A=g(this,ei)[2*R],T=g(this,ei)[2*R+1];const F=D+A,$=O+T;w.push($,F);const z=D*t+O;if(a[z+1]===0?a[z]=-c:a[z]===1&&(a[z]=c),F===h&&$===p&&D===k&&O===P){a[m]!==1&&(d=Math.abs(a[m]));break}else v=D,b=O,D=F,O=$}}}return f},sy=function(e,t,n,s){if(n-t<=4){for(let k=t;k<n-2;k+=2)s.push(e[k],e[k+1]);return}const i=e[t],a=e[t+1],c=e[n-4]-i,d=e[n-3]-a,f=Math.hypot(c,d),h=c/f,p=d/f,m=h*a-p*i,y=d/c,v=1/f,b=Math.atan(y),w=Math.cos(b),N=Math.sin(b),j=v*(Math.abs(w)+Math.abs(N)),E=v*(1-j+j**2),S=Math.max(Math.atan(Math.abs(N+w)*E),Math.atan(Math.abs(N-w)*E));let A=0,T=t;for(let k=t+2;k<n-2;k+=2){const P=Math.abs(m-h*e[k+1]+p*e[k]);P>A&&(T=k,A=P)}A>(f*S)**2?(W(this,wt,sy).call(this,e,t,T+2,s),W(this,wt,sy).call(this,e,T,n,s)):s.push(i,a)},fR=function(e){const t=[],n=e.length;return W(this,wt,sy).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},pR=function(e,t,n,s,i,a){const c=new Float32Array(a**2),d=-2*s**2,f=a>>1;for(let b=0;b<a;b++){const w=(b-f)**2;for(let N=0;N<a;N++)c[b*a+N]=Math.exp((w+(N-f)**2)/d)}const h=new Float32Array(256),p=-2*i**2;for(let b=0;b<256;b++)h[b]=Math.exp(b**2/p);const m=e.length,y=new Uint8Array(m),v=new Uint32Array(256);for(let b=0;b<n;b++)for(let w=0;w<t;w++){const N=b*t+w,j=e[N];let E=0,S=0;for(let T=0;T<a;T++){const k=b+T-f;if(!(k<0||k>=n))for(let P=0;P<a;P++){const D=w+P-f;if(D<0||D>=t)continue;const O=e[k*t+D],R=c[T*a+P]*h[Math.abs(O-j)];E+=O*R,S+=R}}const A=y[N]=Math.round(E/S);v[A]++}return[y,v]},mR=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},wN=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let c=0,d=n.length;c<d;c++){if(e[(c<<2)+3]===0){s=n[c]=255;continue}const h=n[c]=e[c<<2];h>s&&(s=h),h<i&&(i=h)}const a=255/(s-i);for(let c=0;c<t;c++)n[c]=(n[c]-i)*a;return n},NN=function(e){let t,n=-1/0,s=-1/0;const i=e.findIndex(d=>d!==0);let a=i,c=i;for(t=i;t<256;t++){const d=e[t];d>n&&(t-a>s&&(s=t-a,c=t-1),n=d,a=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t},gR=function(e){const t=e,{width:n,height:s}=e,{maxDim:i}=g(this,zc);let a=n,c=s;if(n>i||s>i){let m=n,y=s,v=Math.log2(Math.max(n,s)/i);const b=Math.floor(v);v=v===b?b-1:b;for(let N=0;N<v;N++){a=Math.ceil(m/2),c=Math.ceil(y/2);const j=new OffscreenCanvas(a,c);j.getContext("2d").drawImage(e,0,0,m,y,0,0,a,c),m=a,y=c,e!==t&&e.close(),e=j.transferToImageBitmap()}const w=Math.min(i/a,i/c);a=Math.round(a*w),c=Math.round(c*w)}const f=new OffscreenCanvas(a,c).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,a,c);const h=f.getImageData(0,0,a,c).data;return[W(this,wt,wN).call(this,h),a,c]},H(qa,wt),H(qa,zc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),H(qa,ei,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class BS extends iR{constructor(){super(),super.updateProperties({fill:Rt._defaultLineColor,"stroke-width":0})}clone(){const e=new BS;return e.updateAll(this),e}}class US extends Ex{constructor(e){super(e),super.updateProperties({stroke:Rt._defaultLineColor,"stroke-width":1})}clone(){const e=new US(this._viewParameters);return e.updateAll(this),e}}var Qo,Fi,Zo,Hc;const Kr=class Kr extends Ry{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});H(this,Qo,!1);H(this,Fi,null);H(this,Zo,null);H(this,Hc,null);this._willKeepAspectRatio=!0,U(this,Zo,t.signatureData||null),U(this,Fi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Rt.initialize(t,n),this._defaultDrawingOptions=new BS,this._defaultDrawnSignatureOptions=new US(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return ht(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!g(this,Fi)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(g(this,Zo)){const{lines:i,mustSmooth:a,areContours:c,description:d,uuid:f,heightInPage:h}=g(this,Zo),{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,v=qa.processDrawnLines({lines:i,pageWidth:p,pageHeight:m,rotation:y,innerMargin:Kr._INNER_MARGIN,mustSmooth:a,areContours:c});this.addSignature(v,h,d,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){U(this,Hc,t),this.addEditToolbar()}getUuid(){return g(this,Hc)}get description(){return g(this,Fi)}set description(t){U(this,Fi,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:s,width:i,height:a}=g(this,Zo),c=Math.max(i,a),d=qa.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:s,width:i,height:a},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,s,i){const{x:a,y:c}=this,{outline:d}=U(this,Zo,t);U(this,Qo,d instanceof xN),this.description=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let f;g(this,Qo)?f=Kr.getDefaultDrawingOptions():(f=Kr._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:f});const[h,p]=this.parentDimensions,[,m]=this.pageDimensions;let y=n/m;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(h*this.width,p*this.height),this.x=a,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:i}=this.parent.viewport;return qa.process(t,n,s,i,Kr._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:s,pageHeight:i},rotation:a}=this.parent.viewport;return qa.extractContoursFromText(t,n,s,i,a,Kr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:i}=this.parent.viewport;return qa.processDrawnLines({lines:t,pageWidth:n,pageHeight:s,rotation:i,innerMargin:Kr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Kr.getDefaultDrawingOptions():(this._drawingOptions=Kr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:s,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,c={annotationType:tt.SIGNATURE,isSignature:!0,areContours:g(this,Qo),color:[0,0,0],thickness:g(this,Qo)?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:n,points:s},c.uuid=g(this,Hc),c.isCopy=!0):c.lines=n,g(this,Fi)&&(c.accessibilityData={type:"Figure",alt:g(this,Fi)}),c}static deserializeDraw(t,n,s,i,a,c){return c.areContours?xN.deserialize(t,n,s,i,a,c):Qm.deserialize(t,n,s,i,a,c)}static async deserialize(t,n,s){var a;const i=await super.deserialize(t,n,s);return U(i,Qo,t.areContours),U(i,Fi,((a=t.accessibilityData)==null?void 0:a.alt)||""),U(i,Hc,t.uuid),i}};Qo=new WeakMap,Fi=new WeakMap,Zo=new WeakMap,Hc=new WeakMap,Me(Kr,"_type","signature"),Me(Kr,"_editorType",tt.SIGNATURE),Me(Kr,"_defaultDrawingOptions",null);let SN=Kr;var $t,Ln,Jo,Da,el,ah,Fa,Wc,Bi,os,oh,yt,If,Df,iy,ay,oy,_N,ly,yR;class jN extends Rt{constructor(t){super({...t,name:"stampEditor"});H(this,yt);H(this,$t,null);H(this,Ln,null);H(this,Jo,null);H(this,Da,null);H(this,el,null);H(this,ah,"");H(this,Fa,null);H(this,Wc,!1);H(this,Bi,null);H(this,os,!1);H(this,oh,!1);U(this,Da,t.bitmapUrl),U(this,el,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Rt.initialize(t,n)}static isHandlingMimeForPasting(t){return y2.includes(t)}static paste(t,n){n.pasteEditor({mode:tt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:c}=t||this.copyCanvas(null,null,!0).imageData,d=await s.guess({name:"altText",request:{data:i,width:a,height:c,channels:i.length/(a*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const f=d.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;g(this,Ln)&&(U(this,$t,null),this._uiManager.imageManager.deleteId(g(this,Ln)),(t=g(this,Fa))==null||t.remove(),U(this,Fa,null),g(this,Bi)&&(clearTimeout(g(this,Bi)),U(this,Bi,null))),super.remove()}rebuild(){if(!this.parent){g(this,Ln)&&W(this,yt,iy).call(this);return}super.rebuild(),this.div!==null&&(g(this,Ln)&&g(this,Fa)===null&&W(this,yt,iy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(g(this,Jo)||g(this,$t)||g(this,Da)||g(this,el)||g(this,Ln)||g(this,Wc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),g(this,Wc)||(g(this,$t)?W(this,yt,ay).call(this):W(this,yt,iy).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(U(this,Ln,s),i&&U(this,$t,i),U(this,Wc,!1),W(this,yt,ay).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;g(this,Bi)!==null&&clearTimeout(g(this,Bi)),U(this,Bi,setTimeout(()=>{U(this,Bi,null),W(this,yt,_N).call(this)},200))}copyCanvas(t,n,s=!1){var y;t||(t=224);const{width:i,height:a}=g(this,$t),c=new Gi;let d=g(this,$t),f=i,h=a,p=null;if(n){if(i>n||a>n){const P=Math.min(n/i,n/a);f=Math.floor(i*P),h=Math.floor(a*P)}p=document.createElement("canvas");const v=p.width=Math.ceil(f*c.sx),b=p.height=Math.ceil(h*c.sy);g(this,os)||(d=W(this,yt,oy).call(this,v,b));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let N="white",j="#cfcfd8";this._uiManager.hcmFilter!=="none"?j="black":(y=window.matchMedia)!=null&&y.call(window,"(prefers-color-scheme: dark)").matches&&(N="#8f8f9d",j="#42414d");const E=15,S=E*c.sx,A=E*c.sy,T=new OffscreenCanvas(S*2,A*2),k=T.getContext("2d");k.fillStyle=N,k.fillRect(0,0,S*2,A*2),k.fillStyle=j,k.fillRect(0,0,S,A),k.fillRect(S,A,S,A),w.fillStyle=w.createPattern(T,"repeat"),w.fillRect(0,0,v,b),w.drawImage(d,0,0,d.width,d.height,0,0,v,b)}let m=null;if(s){let v,b;if(c.symmetric&&d.width<t&&d.height<t)v=d.width,b=d.height;else if(d=g(this,$t),i>t||a>t){const j=Math.min(t/i,t/a);v=Math.floor(i*j),b=Math.floor(a*j),g(this,os)||(d=W(this,yt,oy).call(this,v,b))}const N=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});N.drawImage(d,0,0,d.width,d.height,0,0,v,b),m={width:v,height:b,data:N.getImageData(0,0,v,b).data}}return{canvas:p,width:f,height:h,imageData:m}}static async deserialize(t,n,s){var w;let i=null,a=!1;if(t instanceof O4){const{data:{rect:N,rotation:j,id:E,structParent:S,popupRef:A},container:T,parent:{page:{pageNumber:k}},canvas:P}=t;let D,O;P?(delete t.canvas,{id:D,bitmap:O}=s.imageManager.getFromCanvas(T.id,P),P.remove()):(a=!0,t._hasNoCanvas=!0);const R=((w=await n._structTree.getAriaAttributes(`${TS}${E}`))==null?void 0:w.get("aria-label"))||"";i=t={annotationType:tt.STAMP,bitmapId:D,bitmap:O,pageIndex:k-1,rect:N.slice(0),rotation:j,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:R},isSvg:!1,structParent:S,popupRef:A}}const c=await super.deserialize(t,n,s),{rect:d,bitmap:f,bitmapUrl:h,bitmapId:p,isSvg:m,accessibilityData:y}=t;a?(s.addMissingCanvas(t.id,c),U(c,Wc,!0)):p&&s.imageManager.isValidId(p)?(U(c,Ln,p),f&&U(c,$t,f)):U(c,Da,h),U(c,os,m);const[v,b]=c.pageDimensions;return c.width=(d[2]-d[0])/v,c.height=(d[3]-d[1])/b,y&&(c.altTextData=y),c._initialData=i,U(c,oh,!!i),c}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:tt.STAMP,bitmapId:g(this,Ln),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,os),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=W(this,yt,ly).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const d=W(this,yt,yR).call(this,s);if(d.isSame)return null;d.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=g(this,os)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(g(this,Ln)))n.stamps.set(g(this,Ln),{area:c,serialized:s}),s.bitmap=W(this,yt,ly).call(this,!1);else if(g(this,os)){const d=n.stamps.get(g(this,Ln));c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=W(this,yt,ly).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}$t=new WeakMap,Ln=new WeakMap,Jo=new WeakMap,Da=new WeakMap,el=new WeakMap,ah=new WeakMap,Fa=new WeakMap,Wc=new WeakMap,Bi=new WeakMap,os=new WeakMap,oh=new WeakMap,yt=new WeakSet,If=function(t,n=!1){if(!t){this.remove();return}U(this,$t,t.bitmap),n||(U(this,Ln,t.id),U(this,os,t.isSvg)),t.file&&U(this,ah,t.file.name),W(this,yt,ay).call(this)},Df=function(){if(U(this,Jo,null),this._uiManager.enableWaiting(!1),!!g(this,Fa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,$t)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,$t)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},iy=function(){if(g(this,Ln)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Ln)).then(s=>W(this,yt,If).call(this,s,!0)).finally(()=>W(this,yt,Df).call(this));return}if(g(this,Da)){const s=g(this,Da);U(this,Da,null),this._uiManager.enableWaiting(!0),U(this,Jo,this._uiManager.imageManager.getFromUrl(s).then(i=>W(this,yt,If).call(this,i)).finally(()=>W(this,yt,Df).call(this)));return}if(g(this,el)){const s=g(this,el);U(this,el,null),this._uiManager.enableWaiting(!0),U(this,Jo,this._uiManager.imageManager.getFromFile(s).then(i=>W(this,yt,If).call(this,i)).finally(()=>W(this,yt,Df).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=y2.join(",");const n=this._uiManager._signal;U(this,Jo,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,yt,If).call(this,i)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>W(this,yt,Df).call(this))),t.click()},ay=function(){var p;const{div:t}=this;let{width:n,height:s}=g(this,$t);const[i,a]=this.pageDimensions,c=.75;if(this.width)n=this.width*i,s=this.height*a;else if(n>c*i||s>c*a){const m=Math.min(c*i/n,c*a/s);n*=m,s*=m}const[d,f]=this.parentDimensions;this.setDims(n*d/i,s*f/a),this._uiManager.enableWaiting(!1);const h=U(this,Fa,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=n/i,this.height=s/a,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,yt,_N).call(this),g(this,oh)||(this.parent.addUndoableEditor(this),U(this,oh,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,ah)&&this.div.setAttribute("aria-description",g(this,ah)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},oy=function(t,n){const{width:s,height:i}=g(this,$t);let a=s,c=i,d=g(this,$t);for(;a>2*t||c>2*n;){const f=a,h=c;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(a,c);p.getContext("2d").drawImage(d,0,0,f,h,0,0,a,c),d=p.transferToImageBitmap()}return d},_N=function(){const[t,n]=this.parentDimensions,{width:s,height:i}=this,a=new Gi,c=Math.ceil(s*t*a.sx),d=Math.ceil(i*n*a.sy),f=g(this,Fa);if(!f||f.width===c&&f.height===d)return;f.width=c,f.height=d;const h=g(this,os)?g(this,$t):W(this,yt,oy).call(this,c,d),p=f.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,c,d)},ly=function(t){if(t){if(g(this,os)){const i=this._uiManager.imageManager.getSvgUrl(g(this,Ln));if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,$t),n.getContext("2d").drawImage(g(this,$t),0,0),n.toDataURL()}if(g(this,os)){const[n,s]=this.pageDimensions,i=Math.round(this.width*n*ul.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*ul.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(i,a);return c.getContext("2d").drawImage(g(this,$t),0,0,g(this,$t).width,g(this,$t).height,0,0,i,a),c.transferToImageBitmap()}return structuredClone(g(this,$t))},yR=function(t){var c;const{pageIndex:n,accessibilityData:{altText:s}}=this._initialData,i=t.pageIndex===n,a=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}},Me(jN,"_type","stamp"),Me(jN,"_editorType",tt.STAMP);var Gc,lh,Ui,tl,Ba,ls,nl,ch,Kc,ti,Ua,In,$a,rl,uh,Ke,sl,qt,xR,wi,EN,kN,cy;const zs=class zs{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:i,annotationLayer:a,drawLayer:c,textLayer:d,viewport:f,l10n:h}){H(this,qt);H(this,Gc);H(this,lh,!1);H(this,Ui,null);H(this,tl,null);H(this,Ba,null);H(this,ls,new Map);H(this,nl,!1);H(this,ch,!1);H(this,Kc,!1);H(this,ti,null);H(this,Ua,null);H(this,In,null);H(this,$a,null);H(this,rl,null);H(this,uh,-1);H(this,Ke);const p=[...g(zs,sl).values()];if(!zs._initialized){zs._initialized=!0;for(const m of p)m.initialize(h,e)}e.registerEditorTypes(p),U(this,Ke,e),this.pageIndex=t,this.div=n,U(this,Gc,i),U(this,Ui,a),this.viewport=f,U(this,In,d),this.drawLayer=c,this._structTree=s,g(this,Ke).addLayer(this)}get isEmpty(){return g(this,ls).size===0}get isInvisible(){return this.isEmpty&&g(this,Ke).getMode()===tt.NONE}updateToolbar(e){g(this,Ke).updateToolbar(e)}updateMode(e=g(this,Ke).getMode()){switch(W(this,qt,cy).call(this),e){case tt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(zs,sl).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,In))==null?void 0:t.div)}setEditingState(e){g(this,Ke).setEditingState(e)}addCommands(e){g(this,Ke).addCommands(e)}cleanUndoStack(e){g(this,Ke).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,Ui))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;U(this,Kc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=g(this,rl))==null||n.abort(),U(this,rl,null);const e=new Set;for(const s of g(this,ls).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(g(this,Ke).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!g(this,Ui)){U(this,Kc,!1);return}const t=g(this,Ui).getEditableAnnotations();for(const s of t){if(s.hide(),g(this,Ke).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}U(this,Kc,!1)}disable(){var s;if(U(this,ch,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),g(this,In)&&!g(this,rl)){U(this,rl,new AbortController);const i=g(this,Ke).combinedSignal(g(this,rl));g(this,In).div.addEventListener("pointerdown",a=>{const{clientX:d,clientY:f,timeStamp:h}=a,p=g(this,uh);if(h-p>500){U(this,uh,h);return}U(this,uh,-1);const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(d,f);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let v;const b=new RegExp(`^${d3}[0-9]+$`);for(const N of y)if(b.test(N.id)){v=N.id;break}if(!v)return;const w=g(this,ls).get(v);(w==null?void 0:w.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),w.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of g(this,ls).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(g(this,Ui)){const i=g(this,Ui).getEditableAnnotations();for(const a of i){const{id:c}=a.data;if(g(this,Ke).isDeletedAnnotationElement(c))continue;let d=t.get(c);if(d){d.resetAnnotationElement(a),d.show(!1),a.show();continue}d=e.get(c),d&&(g(this,Ke).addChangedExistingAnnotation(d),d.renderAnnotationElement(a)&&d.show(!1)),a.show()}}W(this,qt,cy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of g(zs,sl).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),U(this,ch,!1)}getEditableAnnotation(e){var t;return((t=g(this,Ui))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Ke).getActive()!==e&&g(this,Ke).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,In))!=null&&e.div&&!g(this,$a)){U(this,$a,new AbortController);const t=g(this,Ke).combinedSignal(g(this,$a));g(this,In).div.addEventListener("pointerdown",W(this,qt,xR).bind(this),{signal:t}),g(this,In).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,In))!=null&&e.div&&g(this,$a)&&(g(this,$a).abort(),U(this,$a,null),g(this,In).div.classList.remove("highlighting"))}enableClick(){if(g(this,tl))return;U(this,tl,new AbortController);const e=g(this,Ke).combinedSignal(g(this,tl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=g(this,tl))==null||e.abort(),U(this,tl,null)}attach(e){g(this,ls).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,Ke).isDeletedAnnotationElement(t)&&g(this,Ke).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,ls).delete(e.id),(t=g(this,Gc))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,ch)&&e.annotationElementId&&g(this,Ke).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Ke).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Ke).addDeletedAnnotationElement(e.annotationElementId),Rt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Ke).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!g(this,Kc)),g(this,Ke).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Ba)&&(e._focusEventsAllowed=!1,U(this,Ba,setTimeout(()=>{U(this,Ba,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Ke)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Gc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,Ke).getId()}combinedSignal(e){return g(this,Ke).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,qt,wi))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await g(this,Ke).updateMode(e.mode);const{offsetX:n,offsetY:s}=W(this,qt,kN).call(this),i=this.getNextId(),a=W(this,qt,EN).call(this,{parent:this,id:i,x:n,y:s,uiManager:g(this,Ke),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=g(zs,sl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,Ke)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),i=W(this,qt,EN).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:g(this,Ke),isCentered:t,...n});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(W(this,qt,kN).call(this),!0,e)}setSelected(e){g(this,Ke).setSelected(e)}toggleSelected(e){g(this,Ke).toggleSelected(e)}unselect(e){g(this,Ke).unselect(e)}pointerup(e){var s;const{isMac:t}=Kn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!g(this,nl)||(U(this,nl,!1),(s=g(this,qt,wi))!=null&&s.isDrawer&&g(this,qt,wi).supportMultipleDrawings))return;if(!g(this,lh)){U(this,lh,!0);return}const n=g(this,Ke).getMode();if(n===tt.STAMP||n===tt.SIGNATURE){g(this,Ke).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(g(this,Ke).getMode()===tt.HIGHLIGHT&&this.enableTextSelection(),g(this,nl)){U(this,nl,!1);return}const{isMac:t}=Kn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(U(this,nl,!0),(s=g(this,qt,wi))!=null&&s.isDrawer){this.startDrawingSession(e);return}const n=g(this,Ke).getActive();U(this,lh,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),g(this,ti)){g(this,qt,wi).startDrawing(this,g(this,Ke),!1,e);return}g(this,Ke).setCurrentDrawingSession(this),U(this,ti,new AbortController);const t=g(this,Ke).combinedSignal(g(this,ti));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(U(this,Ua,null),this.commitOrRemove())},{signal:t}),g(this,qt,wi).startDrawing(this,g(this,Ke),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&U(this,Ua,t);return}g(this,Ua)&&setTimeout(()=>{var t;(t=g(this,Ua))==null||t.focus(),U(this,Ua,null)},0)}endDrawingSession(e=!1){return g(this,ti)?(g(this,Ke).setCurrentDrawingSession(null),g(this,ti).abort(),U(this,ti,null),U(this,Ua,null),g(this,qt,wi).endDrawing(e)):null}findNewParent(e,t,n){const s=g(this,Ke).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return g(this,ti)?(this.endDrawingSession(),!0):!1}onScaleChanging(){g(this,ti)&&g(this,qt,wi).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=g(this,Ke).getActive())==null?void 0:e.parent)===this&&(g(this,Ke).commitOrRemove(),g(this,Ke).setActiveEditor(null)),g(this,Ba)&&(clearTimeout(g(this,Ba)),U(this,Ba,null));for(const n of g(this,ls).values())(t=g(this,Gc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,ls).clear(),g(this,Ke).removeLayer(this)}render({viewport:e}){this.viewport=e,ru(this.div,e);for(const t of g(this,Ke).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,Ke).commitOrRemove(),W(this,qt,cy).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ru(this.div,{rotation:n}),t!==n)for(const s of g(this,ls).values())s.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,Ke).viewParameters.realScale}};Gc=new WeakMap,lh=new WeakMap,Ui=new WeakMap,tl=new WeakMap,Ba=new WeakMap,ls=new WeakMap,nl=new WeakMap,ch=new WeakMap,Kc=new WeakMap,ti=new WeakMap,Ua=new WeakMap,In=new WeakMap,$a=new WeakMap,rl=new WeakMap,uh=new WeakMap,Ke=new WeakMap,sl=new WeakMap,qt=new WeakSet,xR=function(e){g(this,Ke).unselectAll();const{target:t}=e;if(t===g(this,In).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,In).div.contains(t)){const{isMac:n}=Kn.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,Ke).showAllEditors("highlight",!0,!0),g(this,In).div.classList.add("free"),this.toggleDrawing(),Oy.startHighlighting(this,g(this,Ke).direction==="ltr",{target:g(this,In).div,x:e.x,y:e.y}),g(this,In).div.addEventListener("pointerup",()=>{g(this,In).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Ke)._signal}),e.preventDefault()}},wi=function(){return g(zs,sl).get(g(this,Ke).getMode())},EN=function(e){const t=g(this,qt,wi);return t?new t.prototype.constructor(e):null},kN=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),c=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+s),f=(i+c)/2-e,h=(a+d)/2-t,[p,m]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:p,offsetY:m}},cy=function(){for(const e of g(this,ls).values())e.isEmpty()&&e.remove()},Me(zs,"_initialized",!1),H(zs,sl,new Map([sN,yN,jN,Oy,SN].map(e=>[e._editorType,e])));let AN=zs;var ni,mr,Xc,Rm,Zy,vR,Ki,TN,bR,PN;const Sn=class Sn{constructor({pageIndex:e}){H(this,Ki);H(this,ni,null);H(this,mr,new Map);H(this,Xc,new Map);this.pageIndex=e}setParent(e){if(!g(this,ni)){U(this,ni,e);return}if(g(this,ni)!==e){if(g(this,mr).size>0)for(const t of g(this,mr).values())t.remove(),e.append(t);U(this,ni,e)}}static get _svgFactory(){return ht(this,"_svgFactory",new Cy)}draw(e,t=!1,n=!1){const s=ur(Sn,Rm)._++,i=W(this,Ki,TN).call(this),a=Sn._svgFactory.createElement("defs");i.append(a);const c=Sn._svgFactory.createElement("path");a.append(c);const d=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&g(this,Xc).set(s,c);const f=n?W(this,Ki,bR).call(this,a,d):null,h=Sn._svgFactory.createElement("use");return i.append(h),h.setAttribute("href",`#${d}`),this.updateProperties(i,e),g(this,mr).set(s,i),{id:s,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=ur(Sn,Rm)._++,s=W(this,Ki,TN).call(this),i=Sn._svgFactory.createElement("defs");s.append(i);const a=Sn._svgFactory.createElement("path");i.append(a);const c=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const p=Sn._svgFactory.createElement("mask");i.append(p),d=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const m=Sn._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Sn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Sn._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const h=f.cloneNode();return s.append(h),f.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,e),g(this,mr).set(n,s),n}finalizeDraw(e,t){g(this,Xc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var d;if(!t)return;const{root:n,bbox:s,rootClass:i,path:a}=t,c=typeof e=="number"?g(this,mr).get(e):e;if(c){if(n&&W(this,Ki,PN).call(this,c,n),s&&W(d=Sn,Zy,vR).call(d,c,s),i){const{classList:f}=c;for(const[h,p]of Object.entries(i))f.toggle(h,p)}if(a){const h=c.firstChild.firstChild;W(this,Ki,PN).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const n=g(this,mr).get(e);n&&(g(t,ni).append(n),g(this,mr).delete(e),g(t,mr).set(e,n))}remove(e){g(this,Xc).delete(e),g(this,ni)!==null&&(g(this,mr).get(e).remove(),g(this,mr).delete(e))}destroy(){U(this,ni,null);for(const e of g(this,mr).values())e.remove();g(this,mr).clear(),g(this,Xc).clear()}};ni=new WeakMap,mr=new WeakMap,Xc=new WeakMap,Rm=new WeakMap,Zy=new WeakSet,vR=function(e,[t,n,s,i]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*i}%`},Ki=new WeakSet,TN=function(){const e=Sn._svgFactory.create(1,1,!0);return g(this,ni).append(e),e.setAttribute("aria-hidden",!0),e},bR=function(e,t){const n=Sn._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Sn._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},PN=function(e,t){for(const[n,s]of Object.entries(t))s===null?e.removeAttribute(n):e.setAttribute(n,s)},H(Sn,Zy),H(Sn,Rm,0);let CN=Sn;globalThis._pdfjsTestingUtils={HighlightOutliner:aN};globalThis.pdfjsLib={AbortException:cl,AnnotationEditorLayer:AN,AnnotationEditorParamsType:pt,AnnotationEditorType:tt,AnnotationEditorUIManager:su,AnnotationLayer:tN,AnnotationMode:wo,AnnotationType:hn,build:Mz,ColorPicker:Py,createValidAbsoluteUrl:h3,DOMSVGFactory:Cy,DrawLayer:CN,FeatureTest:Kn,fetchData:Gm,getDocument:g4,getFilenameFromUrl:AV,getPdfFilenameFromUrl:EV,getUuid:m3,getXfaPageViewport:CV,GlobalWorkerOptions:$i,ImageKind:R0,InvalidPDFException:m2,isDataScheme:_x,isPdfFile:OS,isValidExplicitDest:UV,MathClamp:yr,noContextMenu:ai,normalizeUnicode:SV,OPS:_y,OutputScale:Gi,PasswordResponses:pV,PDFDataRangeTransport:y4,PDFDateString:RS,PDFWorker:ip,PermissionFlag:fV,PixelsPerInch:ul,RenderingCancelledException:PS,ResponseException:Ay,setLayerDimensions:ru,shadow:ht,SignatureExtractor:qa,stopEvent:mn,SupportedImageMimeTypes:y2,TextLayer:rp,TouchManager:ky,updateUrlHash:f3,Util:Xe,VerbosityLevel:Nx,version:Rz,XfaLayer:b4};typeof window<"u"&&"Worker"in window&&($i.workerPort=new Worker(new URL("/assets/pdf.worker-CvFXJqjZ.js",import.meta.url),{type:"module"}));const nH=["10px","12px","14px","16px","18px","20px","24px","32px"],oP=["sans-serif","serif","monospace"];function rH({mediaUrl:r}){const[e,t]=Kt.useState(null);return Kt.useEffect(()=>{let n=!0;return(async()=>{try{const c=await(await g4(r).promise).getPage(1),d=c.getViewport({scale:1}),f=document.createElement("canvas"),h=f.getContext("2d");f.height=d.height,f.width=d.width,await c.render({canvasContext:h,viewport:d}).promise,n&&t(f.toDataURL())}catch{n&&t(null)}})(),()=>{n=!1}},[r]),e?o.jsx("img",{src:e,alt:"PDF preview",className:"w-full h-24 object-contain mb-2"}):o.jsx(Rq,{className:"text-4xl text-red-500 mb-2"})}const wR=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState(null),[y,v]=L.useState(null),[b,w]=L.useState({title:"",description:"",type:"publication",order:0,subtitle:"",category:"",date:"",author:"",media:[]});L.useEffect(()=>{n?(w({title:n.title||"",description:n.description||"",type:n.type||"publication",order:n.order||0,subtitle:n.subtitle||"",category:n.category||"",date:n.date?typeof n.date=="string"?n.date.slice(0,10):new Date(n.date).toISOString().slice(0,10):"",author:n.author||"",media:n.media||[]}),d(n.media||[]),n.mainImage&&(n.mainImage.frontendUrl||n.mainImage.url)?v(n.mainImage.frontendUrl?`http://192.168.3.245:8080${n.mainImage.frontendUrl}`:n.mainImage.url):v(null)):(w({title:"",description:"",type:"publication",order:0,subtitle:"",category:"",date:"",author:"",media:[]}),d([]),v(null)),i([]),m(null)},[n,r]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const D=bt.Quill.import("formats/font");D.whitelist=oP,bt.Quill.register(D,!0)}},[]);const N=D=>{const{name:O,value:R}=D.target;w(F=>({...F,[O]:R}))},j=D=>{const O=D.target.files[0];O&&(y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),m(O),v(URL.createObjectURL(O)))},E=D=>{w(O=>({...O,description:D}))},S=D=>{const O=Array.from(D.target.files);if(O.length===0)return;if(c.length+O.length>10){dt.error("You can only upload up to 10 media items");return}const R=O.map(F=>({file:F,type:F.type.startsWith("video/")?"video":F.type==="application/pdf"?"pdf":"image",preview:URL.createObjectURL(F),alt:F.name}));i(F=>[...F,...R])},A=(D,O=!1)=>{O?i(R=>{const F=[...R];return URL.revokeObjectURL(F[D].preview),F.splice(D,1),F}):d(R=>{const F=[...R];return F.splice(D,1),F})},T=()=>{w({title:"",description:"",type:"publication",order:0,subtitle:"",category:"",date:"",author:"",media:[]}),d([]),i([]),m(null),v(null)},k=async D=>{if(D.preventDefault(),!b.title||!b.description){dt.error("Please fill in all required fields");return}h(!0);try{const O=new FormData;O.append("title",b.title),O.append("description",b.description),O.append("type",b.type),O.append("order",b.order),O.append("subtitle",b.subtitle),O.append("category",b.category),b.date&&O.append("date",b.date),O.append("author",b.author),p&&O.append("mainImage",p),a.forEach($=>{O.append("media",$.file)});const R=c.map($=>$._id).filter(Boolean);O.append("mediaToKeep",R),await t((n==null?void 0:n._id)||null,O)&&(s(),n||T(),e())}catch(O){console.error("Error submitting form:",O),dt.error(O.message||"Error submitting form")}finally{h(!1)}},P=(D,O,R=!1)=>{const F=D.type==="video",$=D.type==="pdf",z=R?D.preview:`http://192.168.3.245:8080${D.frontendUrl}`,Z=()=>R&&D.file&&D.file.name?D.file.name:D.alt?D.alt:D.name?D.name:"PDF";return $?o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group flex flex-col items-center justify-center p-4 min-h-[120px]",children:[o.jsx(rH,{mediaUrl:z}),o.jsx("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 underline break-all mb-2 max-w-[120px] text-center",title:Z(),children:Z().length>20?Z().slice(0,17)+"...":Z()}),o.jsx("button",{onClick:()=>A(O,R),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:"PDF"})]},O):F?o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("video",{src:z,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata"}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:"Video"}),o.jsx("button",{onClick:()=>A(O,R),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},O):o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("img",{src:z,alt:D.alt||"preview",className:"w-full h-full object-cover rounded-lg"}),o.jsxs("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:["#",O+1]}),o.jsx("button",{onClick:()=>A(O,R),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},O)};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Profile":"Create Profile"})]}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:b.title,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter profile title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:b.order,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Type"}),o.jsxs("select",{name:"type",value:b.type,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",children:[o.jsx("option",{value:"publication",children:"Publication"}),o.jsx("option",{value:"resource",children:"Resource"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",name:"subtitle",value:b.subtitle,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Subtitle"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Category"}),o.jsx("input",{type:"text",name:"category",value:b.category,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Category"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Date"}),o.jsx("input",{type:"date",name:"date",value:b.date,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Author"}),o.jsx("input",{type:"text",name:"author",value:b.author,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Author"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsx("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:y?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y,alt:"Main image preview",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{m(null),v(null)},className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:o.jsx(Et,{className:"w-3 h-3"})})]}):o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"mainImageUpload"}),o.jsxs("label",{htmlFor:"mainImageUpload",className:"cursor-pointer inline-flex flex-col items-center",children:[o.jsx(ot,{className:"text-2xl text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Upload Main Image"})]})]})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:b.description,onChange:E,modules:{toolbar:[[{font:oP},{size:nH}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Media Gallery"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*,application/pdf",multiple:!0,onChange:S,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images, videos, and PDFs"})]})]})]}),(c.length>0||a.length>0)&&o.jsxs("div",{className:"space-y-4",children:[c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.map((D,O)=>o.jsx("div",{className:"aspect-square",children:P(D,O)},`existing-${O}`))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.map((D,O)=>o.jsx("div",{className:"aspect-square",children:P(D,O,!0)},`new-${O}`))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:k,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},sH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/publications/get-publications",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalProfiles||0))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{await hs("/api/publications/section/update",ae);const xe=URL.createObjectURL(J);i(xe),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(xe)}catch(xe){console.error("Error uploading image:",xe),fe.error(xe.message||"Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{await hs("/api/publications/section/update",{title:t,description:a}),await de(),fe.success("Updated successfully!")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{await Xf(`/api/publications/delete-publication/${B}`),await de(),fe.success("Profile deleted successfully!"),y(!1),Q(null)}catch(J){console.error("Error deleting profile:",J),fe.error(J.message||"Error deleting profile")}finally{$(!1)}}},K=async(B,J)=>{try{let ae;return B?ae=await hs(`/api/publications/update-publication/${B}`,J):ae=await Um("/api/publications/create-publication",J),await de(),fe.success(B?"Profile updated successfully!":"Profile created successfully!"),!0}catch(ae){return console.error("Error submitting form:",ae),fe.error(ae.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/publications/update-publication/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Publications"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your publications and resources"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtitle"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.type==="publication"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:B.type})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:B.subtitle}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.date?new Date(B.date).toLocaleDateString():""}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.author}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(wR,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(Hm,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},iH=["10px","12px","14px","16px","18px","20px","24px","32px"],lP=["sans-serif","serif","monospace"],aH=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState(null),[y,v]=L.useState(null),[b,w]=L.useState({title:"",description:"",date:"",time:"",location:"",tag:"",order:0,media:[]});L.useEffect(()=>{n?(w({title:n.title||"",description:n.description||"",date:n.date?n.date.slice(0,10):"",time:n.time||"",location:n.location||"",tag:n.tag||"",order:n.order||0,media:n.media||[]}),d(n.media||[]),n.mainImage&&(n.mainImage.frontendUrl||n.mainImage.url)?v(n.mainImage.frontendUrl?`http://192.168.3.245:8080${n.mainImage.frontendUrl}`:n.mainImage.url):v(null)):(w({title:"",description:"",date:"",time:"",location:"",tag:"",order:0,media:[]}),d([]),v(null)),i([]),m(null)},[n,r]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const D=bt.Quill.import("formats/font");D.whitelist=lP,bt.Quill.register(D,!0)}},[]);const N=D=>{const{name:O,value:R}=D.target;w(F=>({...F,[O]:R}))},j=D=>{const O=D.target.files[0];O&&(y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),m(O),v(URL.createObjectURL(O)))},E=D=>{w(O=>({...O,description:D}))},S=D=>{const O=Array.from(D.target.files);if(O.length===0)return;if(c.length+O.length>10){dt.error("You can only upload up to 10 media items");return}const R=O.map(F=>({file:F,type:F.type.startsWith("video/")?"video":"image",preview:URL.createObjectURL(F),alt:F.name}));i(F=>[...F,...R])},A=(D,O=!1)=>{O?i(R=>{const F=[...R];return URL.revokeObjectURL(F[D].preview),F.splice(D,1),F}):d(R=>{const F=[...R];return F.splice(D,1),F})},T=()=>{w({title:"",description:"",date:"",time:"",location:"",tag:"",order:0,media:[]}),d([]),i([]),m(null),v(null)},k=async D=>{if(D.preventDefault(),!b.title||!b.description||!b.date||!b.time||!b.location){dt.error("Please fill in all required fields");return}h(!0);try{const O=new FormData;O.append("title",b.title),O.append("description",b.description),O.append("date",b.date),O.append("time",b.time),O.append("location",b.location),O.append("tag",b.tag),O.append("order",b.order),p&&O.append("mainImage",p),a.forEach(F=>{O.append("media",F.file)}),await t((n==null?void 0:n._id)||null,O)&&(s(),n||T(),e())}catch(O){console.error("Error submitting form:",O),dt.error(O.message||"Error submitting form")}finally{h(!1)}},P=(D,O,R=!1)=>{const F=D.type==="video",$=R?D.preview:`http://192.168.3.245:8080${D.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),F?o.jsx("video",{src:$,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata"}):o.jsx("img",{src:$,alt:D.alt||"preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:F?"Video":`#${O+1}`}),o.jsx("button",{onClick:()=>A(O,R),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},O)};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Profile":"Create Profile"})]}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:b.title,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter profile title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:b.order,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"date",value:b.date,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Time ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"time",name:"time",value:b.time,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"location",value:b.location,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Tag"}),o.jsx("input",{type:"text",name:"tag",value:b.tag,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:b.description,onChange:E,modules:{toolbar:[[{font:lP},{size:iH}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsx("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:y?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y,alt:"Main image preview",className:"w-full  object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{m(null),v(null)},className:"absolute  w-8 h-8 top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:o.jsx(Et,{className:"w-3 h-3"})})]}):o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"mainImageUpload"}),o.jsxs("label",{htmlFor:"mainImageUpload",className:"cursor-pointer inline-flex flex-col items-center",children:[o.jsx(ot,{className:"text-2xl text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Upload Main Image"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Media Gallery"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:S,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images and videos"})]})]})]}),(c.length>0||a.length>0)&&o.jsxs("div",{className:"space-y-4",children:[c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.map((D,O)=>o.jsx("div",{className:"aspect-square",children:P(D,O)},`existing-${O}`))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.map((D,O)=>o.jsx("div",{className:"aspect-square",children:P(D,O,!0)},`new-${O}`))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:k,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},oH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/upcoming-events/get-upcoming-events",{page:v,limit:6,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalProfiles||0))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{await hs("/api/upcoming-events/section/update",ae);const xe=URL.createObjectURL(J);i(xe),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(xe)}catch(xe){console.error("Error uploading image:",xe),fe.error(xe.message||"Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{await hs("/api/upcoming-events/section/update",{title:t,description:a}),await de(),fe.success("Updated successfully!")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{await Xf(`/api/upcoming-events/delete-upcoming-event/${B}`),await de(),fe.success("Event deleted successfully!"),y(!1),Q(null)}catch(J){console.error("Error deleting event:",J),fe.error(J.message||"Error deleting event")}finally{$(!1)}}},K=async(B,J)=>{const ae=ge.map(xe=>xe._id);J.append("mediaToKeep",ae);try{let xe;return B?xe=await hs(`/api/upcoming-events/update-upcoming-event/${B}`,J):xe=await Um("/api/upcoming-events/create-upcoming-event",J),await de(),fe.success(B?"Event updated successfully!":"Event created successfully!"),!0}catch(xe){return console.error("Error submitting form:",xe),fe.error(xe.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/upcoming-events/update-upcoming-event/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Upcoming Events"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your upcoming events and activities"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tag"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.date?new Date(B.date).toLocaleDateString():""}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.time}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.location}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.tag}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(aH,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(Hm,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},lH=["10px","12px","14px","16px","18px","20px","24px","32px"],cP=["sans-serif","serif","monospace"],cH=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState({title:"",description:"",order:0});L.useEffect(()=>{n?(m({title:n.title||"",description:n.description||"",order:n.order||0,media:n.media||[]}),d(n.media||[])):(m({title:"",description:"",order:0,media:[]}),d([])),i([])},[n,r]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const S=bt.Quill.import("formats/font");S.whitelist=cP,bt.Quill.register(S,!0)}},[]);const y=S=>{const{name:A,value:T}=S.target;m(k=>({...k,[A]:T}))},v=S=>{m(A=>({...A,description:S}))},b=S=>{const A=Array.from(S.target.files);if(A.length===0)return;if(c.length+A.length>10){dt.error("You can only upload up to 10 media items");return}const T=A.map(k=>({file:k,type:k.type.startsWith("video/")?"video":"image",preview:URL.createObjectURL(k),alt:k.name}));i(k=>[...k,...T])},w=(S,A=!1)=>{A?i(T=>{const k=[...T];return URL.revokeObjectURL(k[S].preview),k.splice(S,1),k}):d(T=>{const k=[...T];return k.splice(S,1),k})},N=()=>{m({title:"",description:"",order:0,media:[]}),d([]),i([])},j=async S=>{if(S.preventDefault(),!p.title||!p.description){dt.error("Please fill in all required fields");return}h(!0);try{const A=new FormData;A.append("title",p.title),A.append("description",p.description),A.append("order",p.order),a.forEach(k=>{A.append("media",k.file)}),await t((n==null?void 0:n._id)||null,A)&&(s(),n||N(),e())}catch(A){console.error("Error submitting form:",A),dt.error(A.message||"Error submitting form")}finally{h(!1)}},E=(S,A,T=!1)=>{const k=S.type==="video",P=T?S.preview:`http://192.168.3.245:8080${S.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k?o.jsx("video",{src:P,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata"}):o.jsx("img",{src:P,alt:S.alt||"preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:k?"Video":`#${A+1}`}),o.jsx("button",{onClick:()=>w(A,T),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},A)};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Profile":"Create Profile"})]}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter profile title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:p.order,onChange:y,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:p.description,onChange:v,modules:{toolbar:[[{font:cP},{size:lH}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Media Gallery"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:b,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images and videos"})]})]})]}),(c.length>0||a.length>0)&&o.jsxs("div",{className:"space-y-4",children:[c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A)},`existing-${A}`))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A,!0)},`new-${A}`))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:j,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},uH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/publications/get-publications",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalProfiles||0))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{const xe=await fetch("http://192.168.3.245:8080/api/publications/section/update",{method:"PUT",body:ae}),Re=await xe.json();if(xe.ok){const De=URL.createObjectURL(J);i(De),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(De)}else fe.error(Re.message||"Image upload failed.")}catch(xe){console.error("Error uploading image:",xe),fe.error("Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const B=await fetch("http://192.168.3.245:8080/api/publications/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),J=await B.json();B.ok?(await de(),fe.success("Updated successfully!")):fe.error(J.message||"Failed to update section")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/delete-profile/${B}`,{method:"DELETE"}),ae=await J.json();J.ok?(await de(),fe.success("Profile deleted successfully!"),y(!1),Q(null)):fe.error(ae.message||"Failed to delete profile")}catch(J){console.error("Error deleting profile:",J),fe.error(J.message||"Error deleting profile")}finally{$(!1)}}},K=async(B,J)=>{const ae=ge.map(xe=>xe._id);J.append("mediaToKeep",ae);try{const xe=B?`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`:"http://192.168.3.245:8080/api/company-profile/create-profile",Re=await fetch(xe,{method:B?"PUT":"POST",body:J});if(!Re.ok){const lt=await Re.json().catch(()=>({message:"Network error"}));throw new Error(lt.message||`HTTP ${Re.status}: ${Re.statusText}`)}const De=await Re.json();return await de(),fe.success(B?"Profile updated successfully!":"Profile created successfully!"),!0}catch(xe){return console.error("Error submitting form:",xe),fe.error(xe.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Company Profile"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your company's public presence"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(cH,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(Hm,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},dH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/publications/get-publications",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalProfiles||0))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{const xe=await fetch("http://192.168.3.245:8080/api/publications/section/update",{method:"PUT",body:ae}),Re=await xe.json();if(xe.ok){const De=URL.createObjectURL(J);i(De),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(De)}else fe.error(Re.message||"Image upload failed.")}catch(xe){console.error("Error uploading image:",xe),fe.error("Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const B=await fetch("http://192.168.3.245:8080/api/publications/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),J=await B.json();B.ok?(await de(),fe.success("Updated successfully!")):fe.error(J.message||"Failed to update section")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/delete-profile/${B}`,{method:"DELETE"}),ae=await J.json();J.ok?(await de(),fe.success("Profile deleted successfully!"),y(!1),Q(null)):fe.error(ae.message||"Failed to delete profile")}catch(J){console.error("Error deleting profile:",J),fe.error(J.message||"Error deleting profile")}finally{$(!1)}}},K=async(B,J)=>{const ae=ge.map(xe=>xe._id);J.append("mediaToKeep",ae);try{const xe=B?`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`:"http://192.168.3.245:8080/api/company-profile/create-profile",Re=await fetch(xe,{method:B?"PUT":"POST",body:J});if(!Re.ok){const lt=await Re.json().catch(()=>({message:"Network error"}));throw new Error(lt.message||`HTTP ${Re.status}: ${Re.statusText}`)}const De=await Re.json();return await de(),fe.success(B?"Profile updated successfully!":"Profile created successfully!"),!0}catch(xe){return console.error("Error submitting form:",xe),fe.error(xe.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/company-profile/update-profile/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Company Profile"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your company's public presence"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(wR,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(Hm,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},hH=["10px","12px","14px","16px","18px","20px","24px","32px"],uP=["sans-serif","serif","monospace"],fH=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState({title:"",description:"",order:0,location:""});L.useEffect(()=>{n?(m({title:n.title||"",description:n.description||"",order:n.order||0,location:n.location||"",media:n.media||[]}),d(n.media||[])):(m({title:"",description:"",order:0,location:"",media:[]}),d([])),i([])},[n,r]),L.useEffect(()=>{if(typeof bt.Quill<"u"){const S=bt.Quill.import("formats/font");S.whitelist=uP,bt.Quill.register(S,!0)}},[]);const y=S=>{const{name:A,value:T}=S.target;m(k=>({...k,[A]:T}))},v=S=>{m(A=>({...A,description:S}))},b=S=>{const A=Array.from(S.target.files);if(A.length===0)return;if(c.length+A.length>10){dt.error("You can only upload up to 10 media items");return}const T=A.map(k=>({file:k,type:k.type.startsWith("video/")?"video":"image",preview:URL.createObjectURL(k),alt:k.name}));i(k=>[...k,...T])},w=(S,A=!1)=>{A?i(T=>{const k=[...T];return URL.revokeObjectURL(k[S].preview),k.splice(S,1),k}):d(T=>{const k=[...T];return k.splice(S,1),k})},N=()=>{m({title:"",description:"",order:0,location:"",media:[]}),d([]),i([])},j=async S=>{if(S.preventDefault(),!p.title||!p.location){dt.error("Please fill in all required fields");return}h(!0);try{const A=new FormData;A.append("title",p.title),A.append("location",p.location),A.append("order",p.order),p.description&&A.append("description",p.description),a.forEach(k=>{A.append("media",k.file)}),await t((n==null?void 0:n._id)||null,A)&&(s(),n||N(),e())}catch(A){console.error("Error submitting form:",A),dt.error(A.message||"Error submitting form")}finally{h(!1)}},E=(S,A,T=!1)=>{const k=S.type==="video",P=T?S.preview:`http://192.168.3.245:8080${S.frontendUrl}`;return o.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-blue-300/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k?o.jsx("video",{src:P,className:"w-full h-full rounded-lg",controls:!0,preload:"metadata"}):o.jsx("img",{src:P,alt:S.alt||"preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("div",{className:"absolute top-2 left-2 text-xs font-semibold px-2 py-1 rounded-full bg-black/60 text-white",children:k?"Video":`#${A+1}`}),o.jsx("button",{onClick:()=>w(A,T),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-transform hover:scale-110 shadow-sm flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]},A)};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Profile":"Create Profile"})]}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter profile title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:p.order,onChange:y,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"location",value:p.location,onChange:y,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:p.description,onChange:v,modules:{toolbar:[[{font:uP},{size:hH}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Media Gallery"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:b,className:"hidden",id:"mediaUpload"}),o.jsxs("label",{htmlFor:"mediaUpload",className:"inline-flex flex-col items-center justify-center cursor-pointer",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-600 rounded-lg flex items-center justify-center mb-3",children:o.jsx(ot,{className:"text-lg"})}),o.jsx("span",{className:"text-sm font-medium text-blue-600 mb-1",children:"Upload Media"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Supports images and videos"})]})]})]}),(c.length>0||a.length>0)&&o.jsxs("div",{className:"space-y-4",children:[c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Existing Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A)},`existing-${A}`))})]}),a.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Media"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.map((S,A)=>o.jsx("div",{className:"aspect-square",children:E(S,A,!0)},`new-${A}`))})]})]})]})}),o.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-4",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{onClick:j,className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx(o.Fragment,{children:o.jsx("span",{children:"Save"})})})]})})]})})})},pH=({isOpen:r,onClose:e,onDelete:t,deleteId:n,isDeleting:s})=>o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx(AS,{className:"text-yellow-500 text-4xl"})}),o.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Delete Profile"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Are you sure you want to delete this profile? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:s,children:"Cancel"}),o.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center space-x-2",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Xa,{}),o.jsx("span",{children:"Deleting..."})]}):"Delete"})]})]})})}),mH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(""),[S,A]=L.useState("newest"),[T,k]=L.useState("asc"),[P,D]=L.useState(!0),[O,R]=L.useState(!1),[F,$]=L.useState(!1),[z,Z]=L.useState(null),[se,Q]=L.useState(null),[oe,ne]=L.useState(0),[X,I]=L.useState(null),[q,Y]=L.useState(""),[le,te]=L.useState(!1),[V,ie]=L.useState(""),[ue,me]=L.useState(""),[ge,Ae]=L.useState([]),[Pe,ve]=L.useState([]);L.useEffect(()=>{de()},[v,j,S,T]);const de=async()=>{var B;D(!0);try{const ae=await qr("/api/former-participation/get-former-participations",{page:v,limit:6,category:j||void 0,sortBy:S,sortOrder:S==="order"?T:void 0});ae&&(console.log(ae,"ressss"),e(ae.data||[]),n(ae.title||""),i((B=ae.banner)!=null&&B.frontendUrl?`http://192.168.3.245:8080${ae.banner.frontendUrl}`:""),c(ae.description||""),N(ae.totalPages||1),ne(ae.totalParticipations||(ae.data?ae.data.length:0)))}catch(J){console.error("Error fetching profiles:",J),fe.error(J.message||"Error fetching profiles")}finally{D(!1)}},_e=B=>{n(B.target.value)},Oe=B=>{c(B)},Be=async B=>{const J=B.target.files[0];if(!J)return;R(!0);const ae=new FormData;ae.append("banner",J);try{const xe=await fetch("http://192.168.3.245:8080/api/former-participation/section/update",{method:"PUT",body:ae}),Re=await xe.json();if(xe.ok){const De=URL.createObjectURL(J);i(De),fe.success("Image uploaded successfully!"),await de(),URL.revokeObjectURL(De)}else fe.error(Re.message||"Image upload failed.")}catch(xe){console.error("Error uploading image:",xe),fe.error("Something went wrong during image upload.")}finally{R(!1)}},we=async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{const B=await fetch("http://192.168.3.245:8080/api/former-participation/section/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:a})}),J=await B.json();B.ok?(await de(),fe.success("Updated successfully!")):fe.error(J.message||"Failed to update section")}catch(B){console.error("Error updating main section:",B),fe.error(B.message||"Error updating section")}finally{p(!1)}},Se=async B=>{if(B){$(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/former-participation/delete-former-participation/${B}`,{method:"DELETE"}),ae=await J.json();J.ok?(await de(),fe.success("Profile deleted successfully!"),y(!1),Q(null)):fe.error(ae.message||"Failed to delete profile")}catch(J){console.error("Error deleting profile:",J),fe.error(J.message||"Error deleting profile")}finally{$(!1)}}},K=async(B,J)=>{const ae=ge.map(xe=>xe._id);J.append("mediaToKeep",ae);try{const xe=B?`http://192.168.3.245:8080/api/former-participation/update-former-participation/${B}`:"http://192.168.3.245:8080/api/former-participation/create-former-participation",Re=await fetch(xe,{method:B?"PUT":"POST",body:J});if(!Re.ok){const lt=await Re.json().catch(()=>({message:"Network error"}));throw new Error(lt.message||`HTTP ${Re.status}: ${Re.statusText}`)}const De=await Re.json();return await de(),fe.success(B?"Profile updated successfully!":"Profile created successfully!"),!0}catch(xe){return console.error("Error submitting form:",xe),fe.error(xe.message||"Error submitting form"),!1}},ee=B=>{if(!B||B.length===0)return o.jsx("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-100",children:o.jsx(bh,{className:"text-gray-300 text-sm"})});const J=B[0],ae=J.frontendUrl?`http://192.168.3.245:8080${J.frontendUrl}`:J.url||"";return J.type==="video"?o.jsxs("div",{className:"relative w-16 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:o.jsx(cu,{className:"text-gray-400 text-xs"})}),B.length>1&&o.jsxs("span",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]}):o.jsxs("div",{className:"relative w-16 h-10 rounded-lg overflow-hidden border border-gray-100",children:[o.jsx("img",{src:ae,alt:J.alt||"Profile media",className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.parentElement.innerHTML=`
              <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                <FaImage class="text-gray-300 text-sm"/>
              </div>
            `}}),B.length>1&&o.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-[10px] px-1 rounded-tl",children:["+",B.length-1]})]})},re=async B=>{if(!q||isNaN(q)){fe.error("Order must be a number.");return}te(!0);try{const J=await fetch(`http://192.168.3.245:8080/api/former-participation/update-former-participation/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(q)})}),ae=await J.json();J.ok?(fe.success("Order updated!"),I(null),Y(""),await de()):fe.error(ae.message||"Failed to update order")}catch(J){fe.error(J.message||"Error updating order")}finally{te(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Former Participants"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your company's Former Participants"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:_e,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Our Company Profile",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:Oe,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[O?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Be,disabled:h||O})]})]})})]}),o.jsxs("button",{onClick:we,disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Items"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[oe," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:S,onChange:B=>A(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:T,onChange:B=>k(B.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]}),o.jsx("input",{type:"text",placeholder:"Filter by Title",value:V,onChange:B=>ie(B.target.value),className:"ml-2 px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),o.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Profile"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Locations"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.filter(B=>{var J;return!V||((J=B.title)==null?void 0:J.toLowerCase().includes(V.toLowerCase()))}).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+J+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(B.media)}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.title}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:B.location})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X===B._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:q,onChange:ae=>Y(ae.target.value),onBlur:()=>re(B._id),onKeyDown:ae=>{ae.key==="Enter"&&re(B._id),ae.key==="Escape"&&(I(null),Y(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:le}),le&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{I(B._id),Y(B.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:B.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{Z(B),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Q(B._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},B._id))})]})}),(r==null?void 0:r.length)===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-full h-full",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-1",children:"No profile items yet"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Create your first profile item to showcase your company"}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none",children:[o.jsx(tn,{className:"-ml-1 mr-2"}),"Add Profile Item"]})})]}),(r==null?void 0:r.length)>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,oe)})," ","of ",o.jsx("span",{className:"font-medium",children:oe})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(B,J)=>J+1).map(B=>o.jsx("button",{onClick:()=>b(B),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===B?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:B},B)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]}),o.jsx(fH,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Ae,mediaPreviews:ge,newMedia:Pe,setNewMedia:ve,profileData:z,setProfileData:Z,refreshData:de,onSubmit:K}),o.jsx(pH,{isOpen:m,onClose:()=>{y(!1),Q(null)},deleteId:se,onDelete:Se,isDeleting:F})]})})},gH=["10px","12px","14px","16px","18px","20px","24px","32px"],dP=["sans-serif","serif","monospace"],yH=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState(null),[y,v]=L.useState(null),[b,w]=L.useState({name:"",designation:"",message:"",media:[]});L.useEffect(()=>{if(typeof bt.Quill<"u"){const A=bt.Quill.import("formats/font");A.whitelist=dP,bt.Quill.register(A,!0)}},[]),L.useEffect(()=>{n?(w({name:n.name||"",designation:n.designation||"",message:n.message||"",media:n.media||[]}),d(n.media||[]),n.mainImage&&(n.mainImage.frontendUrl||n.mainImage.url)?v(n.mainImage.frontendUrl?`http://192.168.3.245:8080${n.mainImage.frontendUrl}`:n.mainImage.url):v(null)):(w({name:"",designation:"",message:"",media:[]}),d([]),v(null)),i([]),m(null)},[n,r]);const N=A=>{const{name:T,value:k}=A.target;w(P=>({...P,[T]:k}))},j=A=>{const T=A.target.files[0];T&&(y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),m(T),v(URL.createObjectURL(T)))},E=A=>{w(T=>({...T,message:A}))},S=async A=>{if(A.preventDefault(),!b.name||!b.message){dt.error("Please fill in all required fields");return}h(!0);try{const T=new FormData;T.append("name",b.name),T.append("designation",b.designation),T.append("message",b.message),p&&T.append("mainImage",p),a.forEach(P=>{T.append("media",P.file)}),await t((n==null?void 0:n._id)||null,T)&&(s(),n||w({name:"",designation:"",message:"",media:[]}),m(null),v(null),e())}catch(T){console.error("Error submitting form:",T),dt.error(T.message||"Error submitting form")}finally{h(!1)}};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Message":"Create Message"}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]}),o.jsxs("form",{onSubmit:S,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"name",value:b.name,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Designation"}),o.jsx("input",{type:"text",name:"designation",value:b.designation,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Enter designation"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Message ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:b.message,onChange:E,modules:{toolbar:[[{font:dP},{size:gH}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsx("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:y?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y,alt:"Main image preview",className:"w-full  object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{m(null),v(null)},className:"absolute w-8 h-8 top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:o.jsx(Et,{className:"w-3 h-3"})})]}):o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"mainImageUpload"}),o.jsxs("label",{htmlFor:"mainImageUpload",className:"cursor-pointer inline-flex flex-col items-center",children:[o.jsx(ot,{className:"text-2xl text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Upload Main Image"})]})]})})]})]}),o.jsxs("div",{className:"bg-gray-50 border-t border-gray-100 p-4 flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,onClick:S,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx("span",{children:"Save"})})]})]})})})},xH=({isOpen:r,onClose:e,onDelete:t,deleteId:n,isDeleting:s})=>o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx(AS,{className:"text-yellow-500 text-4xl"})}),o.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Delete Profile"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Are you sure you want to delete this profile? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:s,children:"Cancel"}),o.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center space-x-2",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Xa,{}),o.jsx("span",{children:"Deleting..."})]}):"Delete"})]})]})})}),vH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(!0),[S,A]=L.useState(!1),[T,k]=L.useState(!1),[P,D]=L.useState(null),[O,R]=L.useState(null),[F,$]=L.useState(0),[z,Z]=L.useState(null),[se,Q]=L.useState(""),[oe,ne]=L.useState(!1),[X,I]=L.useState(""),[q,Y]=L.useState([]),[le,te]=L.useState([]),[V,ie]=L.useState("newest"),[ue,me]=L.useState("asc");L.useEffect(()=>{ge()},[v]);const ge=async()=>{var ve;E(!0);try{const _e=await qr("/api/chairman-message/get-messages",{page:v,limit:6});_e&&(e(_e.data||[]),n(_e.title||""),i((ve=_e.banner)!=null&&ve.frontendUrl?`http://192.168.3.245:8080${_e.banner.frontendUrl}`:""),c(_e.description||""),N(_e.totalPages||1),$(_e.total||0))}catch(de){console.error("Error fetching messages:",de),fe.error(de.message||"Error fetching messages")}finally{E(!1)}},Ae=async(ve,de)=>{const _e=q.map(Oe=>Oe._id);de.append("mediaToKeep",_e);try{const Oe=ve?`http://192.168.3.245:8080/api/chairman-message/update-message/${ve}`:"http://192.168.3.245:8080/api/chairman-message/create-message",Be=await fetch(Oe,{method:ve?"PUT":"POST",body:de});if(!Be.ok){const Se=await Be.json().catch(()=>({message:"Network error"}));throw new Error(Se.message||`HTTP ${Be.status}: ${Be.statusText}`)}const we=await Be.json();return await ge(),fe.success(ve?"Message updated successfully!":"Message created successfully!"),!0}catch(Oe){return console.error("Error submitting form:",Oe),fe.error(Oe.message||"Error submitting form"),!1}},Pe=async ve=>{if(ve){k(!0);try{const de=await fetch(`http://192.168.3.245:8080/api/chairman-message/delete-message/${ve}`,{method:"DELETE"}),_e=await de.json();de.ok?(await ge(),fe.success("Message deleted successfully!"),y(!1),R(null)):fe.error(_e.message||"Failed to delete message")}catch(de){console.error("Error deleting message:",de),fe.error(de.message||"Error deleting message")}finally{k(!1)}}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Chairman's Message"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage chairman's messages"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:ve=>n(ve.target.value),className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Chairman's Message Section Title",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:c,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{const de=ve.target.files[0];if(!de)return;A(!0);const _e=new FormData;_e.append("banner",de);try{await hs("/api/chairman-message/section/update",_e);const Oe=URL.createObjectURL(de);i(Oe),fe.success("Image uploaded successfully!"),await ge(),URL.revokeObjectURL(Oe)}catch(Oe){fe.error(Oe.message||"Something went wrong during image upload.")}finally{A(!1)}},disabled:h||S})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[S?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{const de=ve.target.files[0];if(!de)return;A(!0);const _e=new FormData;_e.append("banner",de);try{await hs("/api/chairman-message/section/update",_e);const Oe=URL.createObjectURL(de);i(Oe),fe.success("Image uploaded successfully!"),await ge(),URL.revokeObjectURL(Oe)}catch(Oe){fe.error(Oe.message||"Something went wrong during image upload.")}finally{A(!1)}},disabled:h||S})]})]})})]}),o.jsxs("button",{onClick:async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{await hs("/api/chairman-message/section/update",{title:t,description:a}),await ge(),fe.success("Updated successfully!")}catch(ve){fe.error(ve.message||"Error updating section")}finally{p(!1)}},disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Messages"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[F," items"]})]})}),o.jsxs("button",{onClick:()=>{D(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Message"})]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Main Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map((ve,de)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+de+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve.mainImage&&ve.mainImage.frontendUrl&&o.jsx("img",{src:`http://192.168.3.245:8080${ve.mainImage.frontendUrl}`,alt:"main",className:"w-16 h-10 object-cover rounded"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:ve.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:ve.message}})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:ve.designation})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{D(ve),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{R(ve._id),console.log(ve.id,"msggg"),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},ve._id||de))})]}),r.length>0&&o.jsx("div",{className:"px-6 py-4 border-t border-gray-100 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full",children:[o.jsxs("div",{className:"flex justify-between sm:hidden w-full",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Previous"}),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-200 text-xs font-medium rounded text-gray-700 bg-white disabled:opacity-50",children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:justify-between w-full",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",o.jsx("span",{className:"font-medium",children:(v-1)*6+1})," to "," ",o.jsx("span",{className:"font-medium",children:Math.min(v*6,F)})," "," ","of ",o.jsx("span",{className:"font-medium",children:F})," items"]})}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"relative inline-flex items-center px-2 py-1.5 rounded-l-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ci,{className:"h-3 w-3"})}),Array.from({length:w},(ve,de)=>de+1).map(ve=>o.jsx("button",{onClick:()=>b(ve),className:`relative inline-flex items-center px-3 py-1.5 border text-xs font-medium ${v===ve?"z-10 bg-blue-50 border-blue-300 text-blue-600":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:ve},ve)),o.jsx("button",{onClick:()=>b(Math.min(w,v+1)),disabled:v===w,className:"relative inline-flex items-center px-2 py-1.5 rounded-r-md border border-gray-200 bg-white text-xs text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:o.jsx(ui,{className:"h-3 w-3"})})]})]})]})})]})]}),o.jsx(yH,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Y,mediaPreviews:q,newMedia:le,setNewMedia:te,profileData:P,refreshData:ge,onSubmit:Ae}),o.jsx(xH,{isOpen:m,onClose:()=>{y(!1),R(null)},deleteId:O,onDelete:Pe,isDeleting:T})]})})},hP=["10px","12px","14px","16px","18px","20px","24px","32px"],Pw=["sans-serif","serif","monospace"],bH=({isOpen:r,onClose:e,onSubmit:t,profileData:n,refreshData:s,setNewMedia:i,newMedia:a,mediaPreviews:c,setMediaPreviews:d})=>{const[f,h]=L.useState(!1),[p,m]=L.useState(null),[y,v]=L.useState(null),[b,w]=L.useState({name:"",bio:"",message:"",order:0,isActive:!0,media:[]});L.useEffect(()=>{if(typeof bt.Quill<"u"){const T=bt.Quill.import("formats/font");T.whitelist=Pw,bt.Quill.register(T,!0)}},[]),L.useEffect(()=>{n?(w({name:n.name||"",bio:n.bio||"",message:n.message||"",order:n.order||0,isActive:n.isActive!==void 0?n.isActive:!0}),n.mainImage&&(n.mainImage.frontendUrl||n.mainImage.url)?v(n.mainImage.frontendUrl?`http://192.168.3.245:8080${n.mainImage.frontendUrl}`:n.mainImage.url):v(null)):(w({name:"",bio:"",message:"",order:0,isActive:!0}),v(null)),m(null)},[n,r]);const N=T=>{const{name:k,value:P,type:D,checked:O}=T.target;w(D==="checkbox"?R=>({...R,[k]:O}):R=>({...R,[k]:P}))},j=T=>{const k=T.target.files[0];k&&(y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),m(k),v(URL.createObjectURL(k)))},E=T=>{w(k=>({...k,bio:T}))},S=T=>{w(k=>({...k,message:T}))},A=async T=>{if(T.preventDefault(),!b.name||!b.bio){dt.error("Please fill in all required fields");return}h(!0);try{const k=new FormData;k.append("name",b.name),k.append("bio",b.bio),k.append("message",b.message),k.append("order",b.order),k.append("isActive",b.isActive),p&&k.append("mainImage",p),a&&Array.isArray(a)&&a.forEach(D=>{k.append("media",D.file)}),await t((n==null?void 0:n._id)||null,k)&&(s(),n||w({name:"",bio:"",message:"",order:0,isActive:!0}),m(null),v(null),e())}catch(k){console.error("Error submitting form:",k),dt.error(k.message||"Error submitting form")}finally{h(!1)}};return o.jsx(Tt,{children:r&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Ee.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"relative w-full max-w-5xl bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden flex flex-col h-[90vh]",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:n?"Edit Leader":"Add Leader"}),o.jsx("button",{onClick:e,className:"w-6 h-6 p-1 text-gray-400 hover:text-gray-600 rounded-lg transition-colors flex items-center justify-center",children:o.jsx(Et,{className:"w-3 h-3"})})]}),o.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"name",value:b.name,onChange:N,required:!0,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Leader's name"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Bio ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:b.bio,onChange:E,modules:{toolbar:[[{font:Pw},{size:hP}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Message"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:b.message,onChange:S,modules:{toolbar:[[{font:Pw},{size:hP}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Order"}),o.jsx("input",{type:"number",name:"order",value:b.order,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Display order"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"isActive",checked:b.isActive,onChange:N,className:"h-4 w-4 text-blue-600 border-gray-300 rounded",id:"isActiveCheckbox"}),o.jsx("label",{htmlFor:"isActiveCheckbox",className:"text-sm font-medium text-gray-600",children:"Active"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Main Image"}),o.jsx("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 text-center bg-gray-50 hover:border-blue-300 transition-colors",children:y?o.jsxs("div",{className:"relative w-full h-208 mt-4",children:[o.jsx("img",{src:y,alt:"Main image preview",className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{m(null),v(null)},className:"absolute w-8 h-8  top-2 right-2 bg-red-600 text-white w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-700 transition-all duration-200 transform hover:scale-110 shadow-sm",children:o.jsx(Et,{className:"w-3 h-3"})})]}):o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"mainImageUpload"}),o.jsxs("label",{htmlFor:"mainImageUpload",className:"cursor-pointer inline-flex flex-col items-center",children:[o.jsx(ot,{className:"text-2xl text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Upload Main Image"})]})]})})]})]}),o.jsxs("div",{className:"bg-gray-50 border-t border-gray-100 p-4 flex justify-end space-x-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),o.jsx("button",{type:"submit",form:"form",className:"px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:f,onClick:A,children:f?o.jsxs(o.Fragment,{children:[o.jsx(it,{className:"animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx("span",{children:"Save"})})]})]})})})},wH=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(""),[s,i]=L.useState(""),[a,c]=L.useState(""),[d,f]=L.useState(!1),[h,p]=L.useState(!1),[m,y]=L.useState(!1),[v,b]=L.useState(1),[w,N]=L.useState(1),[j,E]=L.useState(!0),[S,A]=L.useState(!1),[T,k]=L.useState(!1),[P,D]=L.useState(null),[O,R]=L.useState(null),[F,$]=L.useState(0),[z,Z]=L.useState(null),[se,Q]=L.useState(""),[oe,ne]=L.useState(!1),[X,I]=L.useState(""),[q,Y]=L.useState([]),[le,te]=L.useState([]),[V,ie]=L.useState("newest"),[ue,me]=L.useState("asc");L.useEffect(()=>{ge()},[v]);const ge=async()=>{var ve;E(!0);try{const _e=await qr("/api/leadership/get-leaders",{page:v,limit:6});_e&&(e(_e.data||[]),n(_e.title||""),i((ve=_e.banner)!=null&&ve.frontendUrl?`http://192.168.3.245:8080${_e.banner.frontendUrl}`:""),c(_e.description||""),N(_e.totalPages||1),$(_e.totalLeaders||0))}catch(de){console.error("Error fetching leaders:",de),fe.error(de.message||"Error fetching leaders")}finally{E(!1)}},Ae=async(ve,de)=>{const _e=q.map(Oe=>Oe._id);de.append("mediaToKeep",_e);try{const Oe=ve?`http://192.168.3.245:8080/api/leadership/update-leader/${ve}`:"http://192.168.3.245:8080/api/leadership/create-leader",Be=await fetch(Oe,{method:ve?"PUT":"POST",body:de}),we=await Be.json();if(!Be.ok)throw new Error(we.message||`HTTP ${Be.status}: ${Be.statusText}`);return await ge(),fe.success(ve?"Profile updated successfully!":"Profile created successfully!"),!0}catch(Oe){return console.error("Error submitting form:",Oe),fe.error(Oe.message||"Error submitting form"),!1}},Pe=async ve=>{if(!se||isNaN(se)){fe.error("Order must be a number.");return}ne(!0);try{const de=await fetch(`http://192.168.3.245:8080/api/leadership/update-leader/${ve}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:Number(se)})}),_e=await de.json();de.ok?(fe.success("Order updated!"),Z(null),Q(""),await ge()):fe.error(_e.message||"Failed to update order")}catch(de){fe.error(de.message||"Error updating order")}finally{ne(!1)}};return L.useEffect(()=>{hi()},[]),o.jsx("div",{className:"min-h-screen bg-gray-50/50 w-full overflow-hidden",children:o.jsxs("div",{className:"w-full px-4 sm:px-6 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Leadership"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage leadership team"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 mb-8 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Main Configuration"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Section Title"}),o.jsx("input",{type:"text",value:t,onChange:ve=>n(ve.target.value),className:"w-full px-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:ring-1 focus:ring-blue-100 focus:border-blue-300 transition-all",placeholder:"Leadership Section Title",disabled:h})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Description"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx(Qt,{theme:"snow",value:a,onChange:c,modules:L.useMemo(()=>({toolbar:[[{font:[]},{size:$r}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}]]}),[])})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Banner Image"}),o.jsx("div",{className:"relative group h-48 w-full bg-gray-50 rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:"Banner preview",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs("label",{className:"cursor-pointer bg-white/90 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium flex items-center space-x-2 shadow-sm",children:[o.jsx(ot,{className:"text-xs"}),o.jsx("span",{children:"Change Image"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{const de=ve.target.files[0];if(!de)return;A(!0);const _e=new FormData;_e.append("banner",de);try{await hs("/api/leadership/section/update",_e);const Oe=URL.createObjectURL(de);i(Oe),fe.success("Image uploaded successfully!"),await ge(),URL.revokeObjectURL(Oe)}catch(Oe){fe.error(Oe.message||"Something went wrong during image upload.")}finally{A(!1)}},disabled:h||S})]})})]}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(ot,{className:"mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload banner image"}),o.jsxs("label",{className:"cursor-pointer bg-blue-500/10 text-blue-600 px-4 py-2 rounded-md text-xs font-medium",children:[S?o.jsx(it,{className:"animate-spin mx-auto"}):"Select File",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{const de=ve.target.files[0];if(!de)return;A(!0);const _e=new FormData;_e.append("banner",de);try{await hs("/api/leadership/section/update",_e);const Oe=URL.createObjectURL(de);i(Oe),fe.success("Image uploaded successfully!"),await ge(),URL.revokeObjectURL(Oe)}catch(Oe){fe.error(Oe.message||"Something went wrong during image upload.")}finally{A(!1)}},disabled:h||S})]})]})})]}),o.jsxs("button",{onClick:async()=>{if(!t){fe.error("Title is required.");return}p(!0);try{await hs("/api/leadership/section/update",{title:t,description:a}),await ge(),fe.success("Updated successfully!")}catch(ve){fe.error(ve.message||"Error updating section")}finally{p(!1)}},disabled:h,className:`w-full flex justify-center items-center space-x-2 bg-blue-500/10 text-blue-600 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h?"opacity-70":"hover:bg-blue-500/20"}`,children:[h?o.jsx(it,{className:"animate-spin"}):o.jsx(di,{}),o.jsx("span",{children:"Save Configuration"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-xs border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 mr-3"}),o.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Leaders"}),o.jsxs("span",{className:"ml-3 text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full",children:[F," items"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"font-semibold text-sm",children:"Sort by:"}),o.jsxs("select",{value:V,onChange:ve=>ie(ve.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"order",children:"Order"}),o.jsx("option",{value:"name",children:"Name"})]}),o.jsx("label",{className:"font-semibold text-sm ml-2",children:"Direction:"}),o.jsxs("select",{value:ue,onChange:ve=>me(ve.target.value),className:"min-w-[160px] px-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md text-sm font-medium transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"asc",children:"Ascending"}),o.jsx("option",{value:"desc",children:"Descending"})]})]})]}),o.jsxs("button",{onClick:()=>{D(null),f(!0)},className:"flex items-center space-x-1.5 text-sm bg-blue-500/10 text-blue-600 px-3.5 py-2 rounded-lg hover:bg-blue-500/20 transition-colors",children:[o.jsx(tn,{className:"text-xs"}),o.jsx("span",{children:"Add Leader"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Main Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bio"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map((ve,de)=>o.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(v-1)*6+de+1}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve.mainImage&&ve.mainImage.frontendUrl&&o.jsx("img",{src:`http://192.168.3.245:8080${ve.mainImage.frontendUrl}`,alt:"main",className:"w-16 h-10 object-cover rounded"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-800 max-w-xs truncate",children:ve.name}),ve.message&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:ve.message}})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:ve==null?void 0:ve.bio}})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z===ve._id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"number",value:se,onChange:_e=>Q(_e.target.value),onBlur:()=>Pe(ve._id),onKeyDown:_e=>{_e.key==="Enter"&&Pe(ve._id),_e.key==="Escape"&&(Z(null),Q(""))},className:"w-16 px-2 py-1 border border-gray-200 rounded text-sm focus:ring-1 focus:ring-blue-100 focus:border-blue-300",autoFocus:!0,disabled:oe}),oe&&o.jsx(it,{className:"animate-spin text-blue-400 text-xs"})]}):o.jsxs("button",{onClick:()=>{Z(ve._id),Q(ve.order)},className:"flex items-center space-x-1.5 text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded hover:bg-gray-200 transition-colors",children:[o.jsx(Xi,{className:"text-gray-400"}),o.jsx("span",{children:ve.order})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ve.isActive?"Yes":"No"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{D(ve),f(!0)},className:"text-gray-500 hover:text-blue-500 p-1.5 rounded-md hover:bg-blue-50 transition-colors",title:"Edit",children:o.jsx(ps,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{R(ve._id),y(!0)},className:"text-gray-500 hover:text-red-500 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:o.jsx(ms,{className:"w-4 h-4"})})]})})]},ve._id||de))})]})})]}),o.jsx(bH,{isOpen:d,onClose:()=>f(!1),setMediaPreviews:Y,mediaPreviews:q,newMedia:le,setNewMedia:te,profileData:P,refreshData:ge,onSubmit:Ae})]})})},NH=()=>o.jsxs(aI,{children:[o.jsx(Bn,{path:"/",element:o.jsx(pI,{children:o.jsx(V$,{})})}),o.jsx(Bn,{path:"/admin-dashboard",element:o.jsx(Gr,{children:o.jsx(Oq,{})})}),o.jsx(Bn,{path:"/awards-section",element:o.jsx(Gr,{children:o.jsx(J7,{})})}),o.jsx(Bn,{path:"/company-milestones-section",element:o.jsx(Gr,{children:o.jsx(hV,{})})}),o.jsx(Bn,{path:"/company-profile",element:o.jsx(Gr,{children:o.jsx(cV,{})})}),o.jsx(Bn,{path:"/events",element:o.jsx(Gr,{children:o.jsx(nV,{})})}),o.jsx(Bn,{path:"/blogs-section",element:o.jsx(Gr,{children:o.jsx(iV,{})})}),o.jsx(Bn,{path:"/products-section",element:o.jsx(Gr,{children:o.jsx(aV,{})})}),o.jsx(Bn,{path:"/publications",element:o.jsx(Gr,{children:o.jsx(sH,{})})}),o.jsx(Bn,{path:"*",element:o.jsx(Gr,{children:o.jsx(PP,{to:"/admin-dashboard"})})}),o.jsx(Bn,{path:"/upcommingevents",element:o.jsx(Gr,{children:o.jsx(oH,{})})}),o.jsx(Bn,{path:"/trustcircle",element:o.jsx(Gr,{children:o.jsx(uH,{})})}),o.jsx(Bn,{path:"/commoncontact",element:o.jsx(Gr,{children:o.jsx(dH,{})})}),o.jsx(Bn,{path:"/formerparticipant",element:o.jsx(Gr,{children:o.jsx(mH,{})})}),o.jsx(Bn,{path:"/chairman-message",element:o.jsx(vH,{})}),o.jsx(Bn,{path:"/leadership",element:o.jsx(wH,{})})]});function SH(r){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(r)}const jH=({isOpen:r,onClose:e,activeItem:t,setActiveItem:n,isCollapsed:s,setIsCollapsed:i})=>{var w;const a=nx(),c=ph(),[d,f]=L.useState({categories:!1,products:!1}),h=(w=c.pathname.split("/products/category/")[1])==null?void 0:w.split("/")[0],p=c.pathname.split("/product/")[1],m=[{icon:qb,label:"Company Profile",path:"/company-profile"},{icon:qb,label:"Chairman's Message",path:"/chairman-message"},{icon:qb,label:"Leadership",path:"/leadership"},{icon:qu,label:"Awards",path:"/awards-section"},{icon:Q$,label:"Blogs",path:"/blogs-section"},{icon:_q,label:"Company Milestones",path:"/company-milestones-section"},{icon:pq,label:"Categories",path:"/products",submenu:h?[{label:"Products",path:`/products/category/${h}`,submenu:p?[{label:"Product Details",path:`/products/category/${h}/product/${p}`}]:[]}]:[]},{icon:qu,label:"Publications",path:"/publications"},{icon:qu,label:"Upcomming Event",path:"/upcommingevents"},{icon:qu,label:"Trust Circle",path:"/trustcircle"},{icon:qu,label:"Common Contact",path:"/commoncontact"},{icon:qu,label:"Former Participant",path:"/formerparticipant"}];L.useEffect(()=>{h&&f(N=>({...N,categories:!0,products:!0}))},[h]);const y=N=>{n(N.label),a(N.path),e()},v=N=>{f(j=>({...j,[N]:!j[N]}))},b=(N,j=0)=>N.map((E,S)=>{var P;const A=c.pathname===E.path,T=((P=E.submenu)==null?void 0:P.length)>0,k=d[E.label.toLowerCase().replace(/\s+/g,"")];return o.jsxs(Ee.div,{className:`${j>0?"ml-6":"ml-4"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:S*.05},children:[o.jsxs(Ee.div,{onClick:()=>T&&!s?v(E.label.toLowerCase().replace(/\s+/g,"")):y(E),className:`group flex items-center ${s?"justify-center px-6":"space-x-3 px-4"} py-2 rounded-xl cursor-pointer transition-all duration-300 relative mb-1
            ${A?"bg-gradient-to-r from-slate-100 to-slate-400 text-slate-700 shadow-sm border-l-4 border-slate-400":"text-slate-600 hover:bg-slate-50 hover:text-slate-700 hover:shadow-sm hover:border-l-4 hover:border-slate-300"}`,title:s?E.label:"",whileHover:{x:4},whileTap:{scale:.98},children:[o.jsx(Ee.div,{className:`p-2 rounded-lg transition-all duration-300 ${A?"bg-slate-200/70 shadow-sm":"bg-slate-100/50 group-hover:bg-slate-200/60"}`,whileHover:{rotate:5},children:o.jsx(E.icon,{className:`${s?"w-6 h-6":"w-5 h-5"} transition-all duration-300 ${A?"text-slate-700":"text-slate-600 group-hover:text-slate-700"}`})}),!s&&o.jsx(Ee.span,{className:"font-medium text-sm transition-all duration-300",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:E.label}),T&&!s&&o.jsx(Ee.div,{animate:{rotate:k?90:0},transition:{duration:.2},children:o.jsx(Xk,{className:"w-3 h-3 ml-auto text-slate-400"})})]}),o.jsx(Tt,{children:T&&k&&!s&&o.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:b(E.submenu,j+1)})})]},S)});return o.jsx(Ee.aside,{className:"h-full z-50 bg-white/95 backdrop-blur-sm border-r border-slate-200/60 shadow-xl transition-all duration-500 ease-in-out",style:{background:"linear-gradient(135deg, #f6faff 0%, #dbeafe 100%)"},initial:!1,animate:{width:s?100:275,borderRadius:s?"0 24px 24px 0":"0 32px 32px 0"},transition:{duration:.2,ease:"easeInOut"},children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx(Ee.div,{className:"border-b border-slate-200/60 h-16 p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:o.jsxs("div",{className:`flex items-center ${s?"justify-center":"justify-between"}`,children:[o.jsx(Tt,{children:!s&&o.jsx(Ee.div,{className:"text-lg font-semibold bg-gradient-to-r from-slate-700 to-slate-600 bg-clip-text text-transparent ml-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:"Dashboard"})}),o.jsx(Ee.button,{onClick:()=>i(!s),className:"hidden md:flex p-2 rounded-xl hover:bg-slate-100 transition-all duration-300 items-center justify-center group",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ee.div,{animate:{rotate:s?180:0},transition:{duration:.3},children:o.jsx(SH,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-700"})})})]})}),o.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-4",children:o.jsx(Ee.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:m.map((N,j)=>{var k;const E=N.icon,S=c.pathname===N.path,A=((k=N.submenu)==null?void 0:k.length)>0,T=d[N.label.toLowerCase().replace(/\s+/g,"")];return o.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:j*.1},children:[o.jsxs(Ee.div,{onClick:()=>A&&!s?v(N.label.toLowerCase().replace(/\s+/g,"")):y(N),className:`group flex items-center ${s?"justify-center px-6 py-3":"justify-between px-4 py-2"} rounded-xl cursor-pointer transition-all duration-300 relative mb-1
                      ${S?"bg-gradient-to-r from-slate-100 to-slate-50 text-slate-700 shadow-md border-l-4 border-slate-500":"text-slate-600 hover:bg-slate-50 hover:text-slate-700 hover:shadow-sm hover:border-l-4 hover:border-slate-300"}`,title:s?N.label:"",whileHover:{x:6,scale:1.02},whileTap:{scale:.98},children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ee.div,{className:`p-2 rounded-lg transition-all duration-300 ${S?"bg-slate-200/70 shadow-sm":"bg-slate-100/50 group-hover:bg-slate-200/60"}`,whileHover:{rotate:5},children:o.jsx(E,{className:`${s?"w-6 h-6":"w-5 h-5"} transition-all duration-300 ${S?"text-slate-700":"text-slate-600 group-hover:text-slate-700"}`})}),o.jsx(Tt,{children:!s&&o.jsx(Ee.span,{className:"font-medium text-sm",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:N.label})})]}),o.jsx(Tt,{children:!s&&A&&o.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1,rotate:T?90:0},exit:{opacity:0},transition:{duration:.2},children:o.jsx(Xk,{className:"w-4 h-4 text-slate-400"})})})]}),o.jsx(Tt,{children:A&&T&&!s&&o.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:b(N.submenu)})})]},j)})})}),o.jsx(Ee.div,{className:`p-4 border-t border-slate-200/60 ${s?"px-6":""}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:o.jsxs(Ee.div,{className:`flex items-center ${s?"justify-center":"space-x-3"} p-3 rounded-xl bg-gradient-to-r from-slate-50 to-slate-100/50 border border-slate-200/60`,whileHover:{scale:1.02},transition:{duration:.2},children:[o.jsx(Ee.div,{className:"w-10 h-10 bg-gradient-to-br from-slate-200 to-slate-300 rounded-xl flex items-center justify-center shadow-sm",whileHover:{rotate:5},children:o.jsx(e3,{className:`${s?"w-6 h-6":"w-5 h-5"} text-slate-600`})}),o.jsx(Tt,{children:!s&&o.jsxs(Ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:[o.jsx("p",{className:"font-semibold text-sm text-slate-700",children:"Admin User"}),o.jsx("p",{className:"text-xs text-slate-500",children:"admin@allied.com"})]})})]})})]})})};function _H(r,e,t,n){var s=this,i=L.useRef(null),a=L.useRef(0),c=L.useRef(0),d=L.useRef(null),f=L.useRef([]),h=L.useRef(),p=L.useRef(),m=L.useRef(r),y=L.useRef(!0);m.current=r;var v=typeof window<"u",b=!e&&e!==0&&v;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var w=!!(t=t||{}).leading,N=!("trailing"in t)||!!t.trailing,j="maxWait"in t,E="debounceOnServer"in t&&!!t.debounceOnServer,S=j?Math.max(+t.maxWait||0,e):null;L.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var A=L.useMemo(function(){var T=function($){var z=f.current,Z=h.current;return f.current=h.current=null,a.current=$,c.current=c.current||$,p.current=m.current.apply(Z,z)},k=function($,z){b&&cancelAnimationFrame(d.current),d.current=b?requestAnimationFrame($):setTimeout($,z)},P=function($){if(!y.current)return!1;var z=$-i.current;return!i.current||z>=e||z<0||j&&$-a.current>=S},D=function($){return d.current=null,N&&f.current?T($):(f.current=h.current=null,p.current)},O=function $(){var z=Date.now();if(w&&c.current===a.current&&R(),P(z))return D(z);if(y.current){var Z=e-(z-i.current),se=j?Math.min(Z,S-(z-a.current)):Z;k($,se)}},R=function(){n&&n({})},F=function(){if(v||E){var $=Date.now(),z=P($);if(f.current=[].slice.call(arguments),h.current=s,i.current=$,z){if(!d.current&&y.current)return a.current=i.current,k(O,e),w?T(i.current):p.current;if(j)return k(O,e),T(i.current)}return d.current||k(O,e),p.current}};return F.cancel=function(){d.current&&(b?cancelAnimationFrame(d.current):clearTimeout(d.current)),a.current=0,f.current=i.current=h.current=d.current=null},F.isPending=function(){return!!d.current},F.flush=function(){return d.current?D(Date.now()):p.current},F},[w,j,e,S,N,b,v,E,n]);return A}function AH(r,e){return r===e}function EH(r,e,t){var n=AH,s=L.useRef(r),i=L.useState({})[1],a=_H(L.useCallback(function(d){s.current=d,i({})},[i]),e,t,i),c=L.useRef(r);return n(c.current,r)||(a(r),c.current=r),[s.current,a]}const kH="/assets/allied-logo-1-Cprxatpu.png",CH=()=>o.jsxs(Ee.svg,{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-red-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",whileHover:{rotate:[0,-10,10,-5,0],scale:1.1},transition:{duration:.5},children:[o.jsx("path",{d:"M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"}),o.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),TH=()=>{const[r,e]=L.useState(!0),[t,n]=L.useState(!1),[s,i]=L.useState("Company Profile"),[a,c]=L.useState(!1),[d,f]=L.useState(""),[h]=EH(d,300),[p,m]=L.useState([]),[y,v]=L.useState(!1),[b,w]=L.useState(3),[N,j]=L.useState(!1),[E,S]=L.useState(""),[A,T]=L.useState(""),[k,P]=L.useState(null),[D,O]=L.useState(""),[R,F]=L.useState(!1),[$,z]=L.useState(null),Z=L.useRef(null),se=nx();ph();const[Q,oe]=L.useState(!0),{logout:ne,user:X}=rx();console.log(X,"users"),L.useEffect(()=>{const ue=()=>{const ge=$!==null?$:new Date().getHours();let Ae="",Pe="",ve=null,de="";ge<5?(Ae="Working Late?",Pe="night",ve=o.jsx(Ee.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:o.jsx(Qk,{className:"w-6 h-6 text-indigo-400"})}),de="from-indigo-600 to-blue-800"):ge<12?(Ae="Good Morning",Pe="morning",ve=o.jsx(Ee.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:8,repeat:1/0,repeatType:"reverse"},children:o.jsx(Jk,{className:"w-6 h-6 text-yellow-500"})}),de="from-amber-400 to-orange-500"):ge<17?(Ae="Good Afternoon",Pe="afternoon",ve=o.jsx(Ee.div,{animate:{y:[0,-5,0]},transition:{duration:4,repeat:1/0,repeatType:"loop"},children:o.jsx(Jk,{className:"w-6 h-6 text-orange-500"})}),de="from-orange-400 to-red-500"):ge<21?(Ae="Good Evening",Pe="evening",ve=o.jsx(Ee.div,{animate:{opacity:[.8,1,.8]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:o.jsx(Nq,{className:"w-6 h-6 text-purple-500"})}),de="from-purple-500 to-pink-500"):(Ae="Good Night",Pe="night",ve=o.jsx(Ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,repeatType:"reverse"},children:o.jsx(Qk,{className:"w-6 h-6 text-indigo-400"})}),de="from-indigo-600 to-blue-800"),S(Ae),T(Pe),P(ve),O(de),F(!0),setTimeout(()=>F(!1),1e3)};ue();const me=setInterval(ue,6e4);return()=>clearInterval(me)},[$]),L.useEffect(()=>{a&&Z.current&&Z.current.focus()},[a]);const I=async ue=>{if(!ue.trim()){m([]);return}v(!0),setTimeout(()=>{const me=[{id:1,title:"Company Profile",path:"/admin-dashboard"},{id:2,title:"Awards",path:"/awards-section"},{id:3,title:"Blogs",path:"/blogs-section"},{id:4,title:`Product: ${ue}`,path:"/products"}].filter(ge=>ge.title.toLowerCase().includes(ue.toLowerCase()));m(me),v(!1)},500)};L.useEffect(()=>{I(h)},[h]);const q=ue=>{ue.preventDefault(),d.trim()&&(console.log("Searching for:",d),p.length>0&&se(p[0].path),f(""),c(!1),m([]))},Y=ue=>{ue.key==="Escape"&&(f(""),c(!1),m([]))},le=ue=>{se(ue),f(""),c(!1),m([])},te=()=>{console.log("Notifications clicked"),w(0)},V=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),ie=()=>{ne(),fe.success("Logout successful!"),se("/login"),j(!1)};return o.jsx(Ee.div,{className:" w-full z-[1000] bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100",children:o.jsxs(Ee.header,{className:"bg-white/80 backdrop-blur-md shadow-lg border-b border-slate-200/60 p-4 flex items-center justify-between sticky top-0 z-30",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%)"},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ee.div,{className:"h-12 w-auto",whileHover:{scale:1.05,rotate:1},transition:{duration:.2},children:o.jsx("img",{src:kH,alt:"Allied Medical Logo",className:"h-full w-auto object-contain cursor-pointer",onClick:()=>se("/admin-dashboard")})}),o.jsx("div",{className:"flex items-center flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:o.jsx(Tt,{mode:"wait",children:o.jsxs(Ee.div,{className:`flex items-center space-x-3 px-4 py-2 rounded-full border border-slate-200/60 shadow-sm ${R?`bg-gradient-to-r ${D}`:"bg-white/90"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},"aria-label":`Greeting for ${A}`,children:[o.jsx(Ee.div,{className:`p-2 rounded-full ${R?"bg-white/20":"bg-slate-100"}`,whileHover:{scale:1.1},children:k}),o.jsxs(Ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[o.jsxs(Ee.p,{className:"text-sm font-medium",animate:{color:R?"#ffffff":"#334155"},transition:{duration:.3},children:[E,", Admin!"]}),o.jsxs(Ee.p,{className:"text-xs capitalize",animate:{color:R?"#e2e8f0":"#64748b"},transition:{duration:.3},children:["Happy ",A]})]})]},A)})})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ee.button,{onClick:()=>e(!r),className:"md:hidden p-2.5 rounded-1xl hover:bg-slate-100/60 transition-all duration-300 border border-slate-200/60 shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(dq,{className:"w-5 h-5 text-slate-600"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"relative",children:o.jsx(Tt,{mode:"wait",children:a?o.jsxs(Ee.div,{className:"relative",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.3},children:[o.jsxs(Ee.form,{onSubmit:q,className:"relative",onKeyDown:Y,children:[o.jsx(Ee.input,{ref:Z,type:"text",value:d,onChange:ue=>f(ue.target.value),placeholder:"Search dashboard...",className:"pl-10 pr-14 py-2.5 w-full max-w-[18rem] sm:max-w-[24rem] text-sm border border-slate-300/60 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg transition-all duration-300","aria-label":"Search dashboard",initial:{width:0},animate:{width:"100%"},transition:{duration:.3}}),o.jsx(h2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-500"}),y&&o.jsx(Ee.div,{className:"absolute right-3 top-1/2 transform -translate-y-1/2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:o.jsx("svg",{className:"w-4 h-4 text-blue-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),!y&&o.jsx(Ee.button,{type:"button",onClick:()=>{f(""),c(!1),m([])},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full hover:bg-blue-100/80 transition-colors","aria-label":"Close search",children:o.jsx(f2,{className:"w-4 h-4 text-blue-500"})})]}),o.jsxs(Tt,{children:[d.trim()&&p.length>0&&o.jsx(Ee.div,{className:"absolute top-full mt-2 w-full bg-white/95 backdrop-blur-md border border-slate-200/60 shadow-2xl rounded-xl overflow-hidden z-50",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:o.jsx("ul",{className:"py-2",children:p.map(ue=>o.jsx(Ee.li,{className:"px-4 py-2 hover:bg-blue-50/60 cursor-pointer transition-colors duration-200 text-sm text-blue-700",onClick:()=>le(ue.path),whileHover:{scale:1.02},whileTap:{scale:.98},children:ue.title},ue.id))})}),d.trim()&&p.length===0&&!y&&o.jsxs(Ee.div,{className:"absolute top-full mt-2 w-full bg-white/95 backdrop-blur-md border border-slate-200/60 shadow-2xl rounded-xl overflow-hidden z-50 p-4 text-sm text-slate-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:['No results found for "',d,'"']})]})]},"search-form"):o.jsx(Ee.button,{onClick:()=>c(!0),className:"p-2.5 rounded-full bg-white/90 hover:bg-slate-100/80 transition-all duration-300 border border-slate-200/60 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Open search",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(h2,{className:"w-5 h-5 text-blue-600"})},"search-button")})}),o.jsx("div",{className:"relative",children:o.jsxs(Ee.button,{onClick:te,className:"p-2.5 rounded-full hover:bg-slate-100/60 transition-all duration-300 relative border border-slate-200/60 shadow-sm hover:shadow-md","aria-label":"Notifications",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(CH,{}),o.jsx(Tt,{children:b>0&&o.jsx(Ee.span,{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center shadow-lg",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},transition:{type:"spring",stiffness:500,damping:30},children:b})})]})}),o.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex items-center space-x-2",children:o.jsxs(Ee.div,{className:`bg-gradient-to-r from-slate-100 to-slate-200 border border-slate-300/60 text-slate-7\r
                00 text-sm font-medium px-4 py-2.5 rounded-full shadow-sm hover:shadow-md transition-all duration-300 cursor-default flex items-center space-x-2`,whileHover:{scale:1.02},children:[o.jsx(Gk,{className:"w-4 h-4 text-slate-600"}),o.jsx("span",{children:V})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(Ee.div,{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 rounded-full cursor-pointer transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-xl border border-blue-500/20",onClick:()=>j(!N),whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:o.jsx(e3,{className:"w-6 h-6 text-white"})}),o.jsx(Tt,{children:N&&o.jsxs(o.Fragment,{children:[o.jsx(Ee.div,{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>j(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}),o.jsxs(Ee.div,{className:"absolute right-0 mt-3 bg-white/95 backdrop-blur-md border border-slate-200/60 shadow-2xl rounded-2xl overflow-hidden w-96 z-50",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-5 border-b border-blue-200/60",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ee.div,{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center shadow-md",whileHover:{rotate:360},transition:{duration:.5},children:o.jsx(tC,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-blue-800 text-base",children:X.name}),o.jsx("p",{className:"text-sm text-blue-600",children:X.role})]})]})}),o.jsxs("div",{className:"px-6 py-5 space-y-4",children:[o.jsxs(Ee.div,{className:"flex items-center space-x-3 p-3 rounded-xl bg-blue-50/50 border border-blue-200/40",whileHover:{scale:1.02},transition:{duration:.2},children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100/60 rounded-full flex items-center justify-center",children:o.jsx(tC,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-blue-500 uppercase tracking-wide font-medium",children:"Name"}),o.jsx("p",{className:"text-sm font-semibold text-blue-800",children:X==null?void 0:X.username})]})]}),o.jsxs(Ee.div,{className:"flex items-center space-x-3 p-3 rounded-xl bg-blue-50/50 border border-blue-200/40",whileHover:{scale:1.02},transition:{duration:.2},children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100/60 rounded-full flex items-center justify-center",children:o.jsx(cq,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-blue-500 uppercase tracking-wide font-medium",children:"Email"}),o.jsx("p",{className:"text-sm font-medium text-blue-700",children:X.email})]})]}),o.jsxs(Ee.div,{className:"flex items-center space-x-3 p-3 rounded-xl bg-blue-50/50 border border-blue-200/40",whileHover:{scale:1.02},transition:{duration:.2},children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100/60 rounded-full flex items-center justify-center",children:o.jsx(Gk,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-blue-500 uppercase tracking-wide font-medium",children:"Role"}),o.jsx("p",{className:"text-sm font-medium text-blue-700",children:X.role})]})]})]}),o.jsx("div",{className:"border-t border-blue-200/60"}),o.jsx("div",{className:"p-4",children:o.jsxs(Ee.button,{onClick:ie,className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-red-50/60 rounded-xl transition-colors duration-200 group border border-red-200/40",whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(Ee.div,{className:"w-10 h-10 bg-red-100/60 group-hover:bg-red-200/60 rounded-full flex items-center justify-center transition-colors duration-200",whileHover:{rotate:15},children:o.jsx(oq,{className:"w-5 h-5 text-red-600"})}),o.jsx("span",{className:"text-sm font-medium text-red-600 group-hover:text-red-700",children:"Sign Out"})]})})]})]})})]})]})]})]})})};function PH(){const[r,e]=L.useState(!0),[t,n]=L.useState(!1),[s,i]=L.useState("Company Profile"),[a,c]=L.useState(!1),f=ph().pathname!=="/",h=t?"w-28":"w-74",p=t?"ml-28":"ml-72";return o.jsxs("div",{className:"h-[100vh]",children:[o.jsx(MN,{position:"top-center",reverseOrder:!1}),o.jsxs("div",{className:"flex flex-col",children:[f&&o.jsx("div",{className:"fixed w-full top-0 z-50",children:o.jsx(TH,{})}),o.jsxs("div",{className:"flex w-full",children:[f&&o.jsx("div",{className:`fixed top-[90px] h-full overflow-scroll z-40 sidebar-scroll ${h}`,children:o.jsx(jH,{isOpen:r,onClose:()=>e(!1),activeItem:s,setActiveItem:i,isCollapsed:t,setIsCollapsed:n})}),o.jsx("div",{className:`w-full bg-gray-100 transition-all duration-300 ${f?`${p} pt-[90px]`:""}`,children:o.jsx(NH,{})})]})]})]})}EL.createRoot(document.getElementById("root")).render(o.jsx(cI,{children:o.jsx(PH,{})}));
